"use strict";const e=require("../../common/vendor.js"),i=require("../../api/knowledge_base.js");if(require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../utils/auth.js"),require("../../enums/constantEnums.js"),require("../../utils/cache.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../hooks/useShareMessage.js"),require("../../router/index.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../stores/app.js"),require("../../api/app.js"),require("../../api/chat.js"),require("../../api/voice_chat.js"),require("../../config/index.js"),!Array){(e.resolveComponent("u-search")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("popup-bottom"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../empty/empty.js")+(()=>"../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../popup-bottom/popup-bottom.js"))();const r=e.defineComponent({__name:"knb-select",emits:["close","confirm"],setup(r,{expose:s,emit:o}){const u=e.ref(!1),n=e.ref([]),a=e.ref(),t=e.ref(""),l=async(e,r)=>{var s,o;try{const{lists:o}=await i.knowledgeBaseLists({page_no:e,page_size:r,name:t.value});null==(s=a.value)||s.complete(o)}catch(u){null==(o=a.value)||o.complete(!1)}},c=()=>{var e;null==(e=a.value)||e.reload()},p=()=>{t.value="",c()},d=e.ref({}),f=e=>{d.value.index_id==e.index_id?d.value={}:d.value=e,u.value=!1,o("confirm",d.value)};return s({open:async i=>{var r;u.value=!0,await e.nextTick$1(),await(null==(r=a.value)?void 0:r.reload()),d.value=i}}),(i,r)=>({a:e.o(c),b:e.o(p),c:e.o((i=>e.isRef(t)?t.value=i:null)),d:e.p({placeholder:"搜索相关知识库",height:"100","bg-color":"#ffffff","search-icon-color":"#0000001a","placeholder-color":"#0000001a","show-action":!1,modelValue:e.unref(t)}),e:e.f(e.unref(n),((i,r,s)=>e.e({a:e.unref(d).index_id==i.index_id},(e.unref(d).index_id,i.index_id,{}),{b:e.t(i.name),c:e.t(i.file_count),d:e.unref(d).index_id==i.index_id,e:e.o((e=>f(i)),r),f:r,g:e.n(e.unref(d).index_id==i.index_id?"shadow-_0_0_0_1px_rgba_0b101b251b1__":""),h:e.o((e=>f(i)),r)}))),f:e.sr(a,"cf82d79c-2,cf82d79c-0",{k:"pagingRef"}),g:e.o(l),h:e.o((i=>e.isRef(n)?n.value=i:null)),i:e.p({fixed:!1,auto:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(n)}),j:e.o((i=>e.isRef(u)?u.value=i:null)),k:e.p({height:"85%","is-disabled-touch":!0,title:"配置知识库","custom-class":"bg-_hF9FAFB_",show:e.unref(u)})})}});wx.createComponent(r);

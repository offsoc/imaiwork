"use strict";const e=require("../common/vendor.js"),t=require("../router/index.js"),r=require("../utils/util.js"),i=require("../stores/navigationBarTitle.js"),a=require("../stores/app.js");exports.useShareMessage=function(){return{resolveOptions:async(s={})=>{const n=i.useNavigationBarTitleStore(),o=t.router.currentRoute.value,u=a.useAppStore(),{style:l}=t.router.routeMatcher.getRouteByPath(o.path)||{};e.index.showLoading({title:"请稍后..."});const{share_title:g,share_image:h,share_desc:p}=u.getShareConfig,{shop_name:c,shop_logo:d}=u.getWebsiteConfig,m=await async function(e=!1){const i=t.router.currentRoute.value,a={path:e?"/pages/index/index":i.path,query:e?{}:i.query},s=a.query;return`${a.path}${r.paramsToStr(s)}`}(!1);let y={title:g,path:m,desc:p,imageUrl:h};return y={...y,...s},y.title||(y.title=n.getTitle||(null==l?void 0:l.navigationBarTitleText)||c),y.imageUrl||(y.imageUrl=d),y=(e=>({imageUrl:e.imageUrl,path:e.path,title:e.title}))(y),e.index.hideLoading(),y},useShare:(e={})=>{}}},exports.useSharedId=async function(){e.index.getEnterOptionsSync().query.share_id};

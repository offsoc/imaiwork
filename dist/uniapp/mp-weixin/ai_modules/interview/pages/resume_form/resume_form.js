"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../api/interview.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){e.resolveComponent("data-select")()}Math;const s=e.defineComponent({__name:"resume_form",setup(s){const a=e.reactive({id:""}),i=e.reactive({name:"",sex:"",age:"",mobile:"",school:"",degree:"",work_years:"",work_ex:"",word_url:"",project_ex:""}),u={name:{required:!0,message:"请输入您的姓名"},sex:{required:!0,message:"请选择您的性别"},age:{required:!0,message:"请输入您的年龄"},mobile:{required:!0,message:"请输入您的联系方式"},school:{required:!0,message:"请输入您的毕业院校"},degree:{required:!0,message:"请输入您的学历"},work_years:{required:!0,message:"请输入您的工作年限"},work_ex:{required:!0,message:"请输入您的工作经历"},project_ex:{required:!0,message:"请输入您的项目经历"}},o=()=>{Object.keys(i).forEach((e=>{i[e]=""}))},t=async()=>{const s=Object.keys(i).find((e=>{var r;const s=null==(r=u[e])?void 0:r.required,a=!i[e];return s&&a}));if(s)e.index.showToast({title:u[s].message,icon:"none"});else try{await r.saveResume({interview_job_id:a.id,...i}),e.index.showToast({title:"保存成功",icon:"none",duration:1e3}),setTimeout((()=>{e.index.$emit("update-resume",{formData:i}),e.index.navigateBack()}),500)}catch(o){e.index.showToast({title:o||"保存失败",icon:"none",duration:2e3})}finally{e.index.hideLoading()}};return e.onLoad((e=>{var r;a.id=e.id,e.data&&(r=JSON.parse(e.data),Object.keys(r).forEach((e=>{i[e]=r[e]})))})),(r,s)=>({a:e.unref(i).name,b:e.o((r=>e.unref(i).name=r.detail.value)),c:e.o((r=>e.unref(i).sex=r)),d:e.p({localdata:[{value:1,text:"男"},{value:2,text:"女"}],placeholder:"请选择您的性别",modelValue:e.unref(i).sex}),e:e.unref(i).age,f:e.o((r=>e.unref(i).age=r.detail.value)),g:e.unref(i).mobile,h:e.o((r=>e.unref(i).mobile=r.detail.value)),i:e.unref(i).school,j:e.o((r=>e.unref(i).school=r.detail.value)),k:e.unref(i).degree,l:e.o((r=>e.unref(i).degree=r.detail.value)),m:e.unref(i).work_years,n:e.o((r=>e.unref(i).work_years=r.detail.value)),o:-1,p:e.unref(i).work_ex,q:e.o((r=>e.unref(i).work_ex=r.detail.value)),r:-1,s:e.unref(i).project_ex,t:e.o((r=>e.unref(i).project_ex=r.detail.value)),v:e.o(o),w:e.o(t)})}}),a=e._export_sfc(s,[["__scopeId","data-v-6c8a648e"]]);wx.createPage(a);

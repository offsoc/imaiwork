"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../common/assets.js"),i=require("../../../../api/digital_human.js"),u=require("../../../../hooks/usePaging.js"),s=require("../../enums/index.js"),r=require("../../../../utils/cache.js"),a=require("../../../../config/index.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-button")+e.resolveComponent("u-icon")+e.resolveComponent("empty"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+n+(()=>"../../../../components/empty/empty.js")+t+l)();const n=()=>"../../components/video-item/video-item.js",t=()=>"../../components/video-preview/video-preview.js",l=()=>"../../components/choose-model/choose-model.js",m=e.defineComponent({__name:"index",setup(n){const t=e.ref([{icon:o.ImageMenu1,title:"形象克隆",key:"anchor_clone",url:`/ai_modules/digital_human/pages/video_upload/video_upload?type=${s.ModeType.ANCHOR}`},{icon:o.ImageMenu2,title:"声音克隆",key:"tone_clone",url:"/ai_modules/digital_human/pages/tone_clone/tone_clone"},{icon:o.ImageMenu3,title:"我的模特",key:"model_manage",url:"/ai_modules/digital_human/pages/model_manage/model_manage"},{icon:o.ImageMenu4,title:"音色管理",key:"tone_manage",url:"/ai_modules/digital_human/pages/tone_manage/tone_manage"}]),{pager:l,getLists:m}=u.usePaging({fetchFun:i.digitalHumanLists,params:{page_size:10}}),d=e.ref(!1),c="dh_example",p=()=>{d.value=!1,e.index.$u.route({url:"/ai_modules/digital_human/pages/video_create/video_create"})},v=e.ref(""),_=e.ref(!1),g=({video_url:e})=>{v.value=e,_.value=!0},h=e.ref(!1),j=o=>{h.value=!1,e.index.$u.route({url:`/ai_modules/digital_human/pages/video_upload/video_upload?type=${s.ModeType.ANCHOR}&model_version=${o}`})},f=e.ref(),q=async()=>{f.value=setTimeout((()=>{l.lists.some((e=>1!=e.status))?(m(),q()):clearTimeout(f.value)}),2e3)};return e.onShow((async()=>{await m(),q(),r.cache.get(c)||(r.cache.set(c,!0),d.value=!0)})),e.onHide((()=>{clearTimeout(f.value)})),e.onUnload((()=>{clearTimeout(f.value)})),(i,u)=>e.e({a:e.p({"is-fixed":!1,"border-bottom":!1,background:{background:"transparent"}}),b:o._imports_0$3,c:o._imports_0$4,d:e.p({type:"primary",shape:"circle","custom-style":{width:"460rpx",height:"104rpx"}}),e:e.f(e.unref(t),((o,i,u)=>({a:o.icon,b:i,c:e.o((i=>(o=>{const{url:i,key:u}=o;"anchor_clone"!==u?e.index.navigateTo({url:o.url}):h.value=!0})(o)),i)}))),f:e.p({name:"arrow-right",color:"#A7A7A7",size:"28"}),g:e.unref(l).lists.length},e.unref(l).lists.length?{h:e.f(e.unref(l).lists,((o,i,u)=>({a:e.o(g,i),b:"1205d164-3-"+u,c:e.p({item:{id:o.id,name:o.name,pic:o.pic,video_url:o.result_url,status:o.status,remark:o.remark,model_version:o.model_version}}),d:i})))}:{},{i:e.o((e=>_.value=!1)),j:e.o((o=>e.isRef(_)?_.value=o:null)),k:e.p({title:"视频预览","video-url":e.unref(v),show:e.unref(_)}),l:e.o((e=>d.value=!1)),m:e.o(p),n:e.o((o=>e.isRef(d)?d.value=o:null)),o:e.p({title:"新手教程","confirm-btn-text":"立即定制","video-url":`${e.unref(a.config).baseUrl}static/videos/dh_example1.mp4`,show:e.unref(d)}),p:e.o(j),q:e.o((o=>e.isRef(h)?h.value=o:null)),r:e.p({show:e.unref(h)})})}}),d=e._export_sfc(m,[["__scopeId","data-v-1205d164"]]);wx.createPage(d);

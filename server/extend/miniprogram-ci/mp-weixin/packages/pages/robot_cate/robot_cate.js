"use strict";const e=require("../../../common/vendor.js"),r=require("../../../api/robot.js"),a=require("../../../hooks/useDictOptions.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../utils/auth.js"),require("../../../enums/constantEnums.js"),require("../../../utils/cache.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../hooks/useShareMessage.js"),require("../../../router/index.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../stores/app.js"),require("../../../api/app.js"),require("../../../api/chat.js"),require("../../../api/voice_chat.js"),require("../../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-search")+e.resolveComponent("empty")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../../components/empty/empty.js")+(()=>"../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const u=e.defineComponent({__name:"robot_cate",setup(u){const n=e.reactive({cate_id:""});e.ref(!1);const t=e.ref(0),{optionsData:o}=a.useDictOptions({robotCate:{api:r.robotCategory,params:{pageSize:9999,pid:0},transformData:e=>{var r;if(e.lists.length){if(n.cate_id&&(t.value=e.lists.findIndex((e=>e.id==n.cate_id))),0==s.value)d.scene_id=e.lists[t.value].id;else{const{sub_list:r=[]}=e.lists[t.value];d.scene_id=r.length?r[s.value].id:""}null==(r=c.value)||r.reload()}return e.lists}}}),s=e.ref(0),i=e.computed((()=>{var e;return[{name:"全部",id:""}].concat((null==(e=o.robotCate[t.value])?void 0:e.sub_list)||[])})),l=e.ref([]),c=e.shallowRef(),d=e.reactive({type:3,scene_id:"",name:""}),v=e.ref(!1),f=async(e,a)=>{var u,n;try{const{lists:n=[],count:t}=await r.robotLists({page_size:a,page_no:e,...d});null==(u=c.value)||u.complete(n),v.value=!1}catch(t){v.value=!1,null==(n=c.value)||n.complete(!1)}},p=async()=>{var e;null==(e=c.value)||e.reload()},m=async()=>{var e;null==(e=c.value)||e.reload()},g=e.computed((()=>{var e;return null==(e=o.robotCate[t.value])?void 0:e.id}));return e.onLoad((({id:e})=>{e&&(n.cate_id=e)})),(r,a)=>e.e({a:e.p({"border-bottom":!1,background:{background:"transparent"}}),b:e.o(p),c:e.o(m),d:e.o((r=>e.unref(d).name=r)),e:e.p({"bg-color":"#ffffff","show-action":!1,placeholder:"请输入关键词",modelValue:e.unref(d).name}),f:e.f(e.unref(o).robotCate,((r,a,u)=>e.e({a:r.logo,b:e.t(r.name),c:e.unref(t)==a},(e.unref(t),{}),{d:a,e:e.unref(t)==a?"bold":"normal",f:e.unref(t)==a?"#0065FB":"#383838",g:e.o((e=>(e=>{var r,a;if(e==t.value)return;t.value=e,s.value=0,d.scene_id="";const u=o.robotCate[e];u.sub_list.length?(v.value=!0,d.scene_id=u.id,null==(r=c.value)||r.reload()):null==(a=c.value)||a.complete([])})(a)),a)}))),g:e.unref(i).length},e.unref(i).length?{h:e.f(e.unref(i),((r,a,u)=>({a:e.t(r.name),b:a,c:e.unref(s)==a?"bold":"normal",d:e.unref(s)==a?"#ffffff":"#383838",e:e.unref(s)==a?"#0065FB":"#EDEBFC",f:e.o((e=>(e=>{var r;e!=s.value&&(v.value=!0,s.value=e,d.scene_id=0==s.value?g.value:i.value[e].id,null==(r=c.value)||r.reload())})(a)),a)})))}:{},{i:e.unref(v)},(e.unref(v),{}),{j:e.f(e.unref(l),((r,a,u)=>({a:r.logo,b:e.t(r.name),c:e.t(r.description),d:a,e:e.o((a=>{return u=r,void e.index.$u.route({url:"/packages/pages/robot_chat/robot_chat",params:{id:u.id}});var u}),a)}))),k:e.sr(c,"38570004-2",{k:"pagingRef"}),l:e.o(f),m:e.o((r=>e.isRef(l)?l.value=r:null)),n:e.p({auto:!1,fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(l)})})}});wx.createPage(u);

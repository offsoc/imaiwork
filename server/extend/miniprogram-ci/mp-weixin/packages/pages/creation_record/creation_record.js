"use strict";const e=require("../../../common/vendor.js"),s=require("../../../api/chat.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../utils/auth.js"),require("../../../enums/constantEnums.js"),require("../../../utils/cache.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../hooks/useShareMessage.js"),require("../../../router/index.js"),require("../../../utils/util.js"),require("../../../stores/navigationBarTitle.js"),require("../../../stores/app.js"),require("../../../api/app.js"),require("../../../api/voice_chat.js"),require("../../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-line")+e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-line/u-line.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../components/empty/empty.js")+(()=>"../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const t=e.defineComponent({__name:"creation_record",setup(t){const a=e.ref([]),i=e.shallowRef(),r=async(e,t)=>{var a,r;try{const{lists:r}=await s.getCreativeRecord({page_no:e,page_size:t,scene_id:"",type:1});null==(a=i.value)||a.complete(r)}catch(n){null==(r=i.value)||r.complete([])}};return(t,n)=>({a:e.p({"border-bottom":!1,"is-fixed":!1,background:{background:"transparent"},title:"创作记录","title-bold":!0}),b:e.f(e.unref(a),((t,i,r)=>({a:e.t(t.scene_name),b:e.t(t.message),c:"396e6fac-2-"+r+",396e6fac-1",d:e.t(t.update_time),e:"396e6fac-3-"+r+",396e6fac-1",f:e.o((r=>(async(t,i)=>{e.index.showModal({title:"提示",content:"确定删除此创作记录吗？",success:async r=>{if(r.confirm)try{await s.deleteCreativeRecord({task_id:t}),a.value.splice(i,1)}catch(n){e.index.$u.toast("删除失败")}}})})(t.task_id,i)),i),g:i,h:e.o((s=>(s=>{const{robot_id:t,assistant_id:a,robot_name:i,avatar:r,task_id:n}=s;0==a?e.index.$u.route({url:"/pages/index/index",params:{task_id:n,agent_name:i,agent_id:t,agent_logo:r}}):e.index.$u.route({url:"/packages/pages/robot_chat/robot_chat",params:{id:a,task_id:n}})})(t)),i)}))),c:e.p({name:"/static/images/icons/delete.svg",size:"24"}),d:e.sr(i,"396e6fac-1",{k:"pagingRef"}),e:e.o(r),f:e.o((s=>e.isRef(a)?a.value=s:null)),g:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(a)})})}});wx.createPage(t);

"use strict";const e=require("../../common/vendor.js"),a=require("../../api/robot.js"),r=require("../../hooks/useDictOptions.js");if(require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../utils/auth.js"),require("../../enums/constantEnums.js"),require("../../utils/cache.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../hooks/useShareMessage.js"),require("../../router/index.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../stores/app.js"),require("../../api/app.js"),require("../../api/chat.js"),require("../../api/voice_chat.js"),require("../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-search")+e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("tabbar"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../components/empty/empty.js")+(()=>"../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../components/tabbar/tabbar.js"))();const t=e.defineComponent({__name:"assistant",setup(t){const s=e.reactive({cate_id:""});e.ref(!1);const o=e.ref(0),u=e.ref(-1),{optionsData:n}=r.useDictOptions({robotCate:{api:a.robotCategory,params:{pageSize:9999,pid:0},transformData:e=>{var a;return e.lists.length&&(s.cate_id&&(o.value=e.lists.findIndex((e=>e.id==s.cate_id))),null==(a=c.value)||a.reload()),e.lists}}}),i=e.ref(-1),l=e.ref([]),c=e.shallowRef(),d=e.ref(0),p=e.reactive({type:3,scene_id:"",name:""}),v=e.ref(!1),f=async(e,r)=>{var t,s,o,u;try{const{lists:s=[],count:o}=await a.robotLists({page_size:r,page_no:e,...p});d.value=o,null==(t=c.value)||t.complete(s),v.value=!1}catch(n){v.value=!1,null==(s=c.value)||s.complete(!1)}try{const{lists:t=[],count:s}=await a.robotLists({page_size:r,page_no:e,...p});d.value=s,null==(o=c.value)||o.complete(t),v.value=!1}catch(n){v.value=!1,null==(u=c.value)||u.complete(!1)}},m=async()=>{var e,a;null==(e=c.value)||e.reload(),null==(a=c.value)||a.reload()},b=async()=>{var e,a;null==(e=c.value)||e.reload(),null==(a=c.value)||a.reload()},g=e.ref(),_=e=>e.some((e=>e.id==g.value));return e.onLoad((({id:e})=>{e&&(s.cate_id=e),e&&(s.cate_id=e)})),(a,r)=>e.e({a:e.p({"border-bottom":!1,background:{background:"transparent"},"is-back":!1}),b:e.o(m),c:e.o(b),d:e.o((a=>e.unref(p).name=a)),e:e.p({"bg-color":"#ffffff","show-action":!1,placeholder:"请输入关键词",modelValue:e.unref(p).name}),f:e.f(e.unref(n).robotCate,((a,r,t)=>e.e({a:e.t(a.name),b:"89ba7dd6-2-"+t,c:e.p({name:e.unref(u)==r?"arrow-down":"arrow-right",size:24,color:"#707173"}),d:e.t(a.sub_list.length),e:e.unref(u)==r},e.unref(u)==r?{f:e.f(a.sub_list,((t,s,o)=>({a:e.t(t.name),b:`${r}-${s}`,c:e.unref(g)==t.id?1:"",d:0!=e.unref(i)&&e.unref(i)-1==s&&_(a.sub_list)?1:"",e:e.o((e=>((e,a)=>{var r,t,s;if(e==i.value&&a==g.value)return;g.value=a,i.value=e,v.value=!0;const o=null==(r=n.robotCate[u.value])?void 0:r.sub_list;p.scene_id=null==(t=o[e])?void 0:t.id,null==(s=c.value)||s.reload()})(s,t.id)),`${r}-${s}`)})))}:{},{g:r,h:e.n({"robot-cate-active":e.unref(u)==r}),i:e.n({"robot-cate-brother":e.unref(i)==a.sub_list.length-1&&_(a.sub_list)}),j:e.n({"robot-cate-first":0==e.unref(i)&&_(a.sub_list)}),k:e.o((e=>(e=>{e!=u.value?u.value=e:u.value=-1})(r)),r)}))),g:e.t(e.unref(d)),h:e.unref(v)},(e.unref(v),{}),{i:e.f(e.unref(l),((a,r,t)=>({a:a.logo,b:e.t(a.name),c:"89ba7dd6-4-"+t+",89ba7dd6-3",d:e.t(a.description),e:r,f:e.o((r=>{return t=a,e.index.$u.route({url:"/packages/pages/robot_chat/robot_chat",params:{id:t.id}}),void e.index.$u.route({url:"/packages/pages/robot_chat/robot_chat",params:{id:t.id}});var t}),r)}))),j:e.p({name:"/static/images/icons/deepseek.svg",size:24}),k:e.sr(c,"89ba7dd6-3",{k:"pagingRef"}),l:e.o(f),m:e.o((a=>e.isRef(l)?l.value=a:null)),n:e.p({auto:!1,fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(l)})})}}),s=e._export_sfc(t,[["__scopeId","data-v-89ba7dd6"]]);wx.createPage(s);

"use strict";const e=require("../../common/vendor.js"),s=require("../../api/device.js"),t=require("../../enums/appEnums.js"),r=require("../../common/assets.js");if(require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../utils/auth.js"),require("../../enums/constantEnums.js"),require("../../utils/cache.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../hooks/useShareMessage.js"),require("../../router/index.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../stores/app.js"),require("../../api/app.js"),require("../../api/chat.js"),require("../../api/voice_chat.js"),require("../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("circle-progress")+e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("tabbar"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../components/circle-progress/circle-progress.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../components/empty/empty.js")+(()=>"../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../components/tabbar/tabbar.js"))();const a=e.defineComponent({__name:"phone",setup(a){const n=e.ref([]),u=e.shallowRef(),o=async(e,t)=>{var r,a;try{const{lists:a}=await s.getDeviceList({page_no:e,page_size:t});null==(r=u.value)||r.complete(a)}catch(n){null==(a=u.value)||a.complete([])}},i=e=>{switch(e){case t.AppTypeEnum.WECHAT:return r.wechatWechatActiveIcon;case t.AppTypeEnum.XHS:return r.redbookActiveIcon;case t.AppTypeEnum.DOUYIN:return r.douyinActiveIcon;case t.AppTypeEnum.KUAISHOU:return r.kuaishouActiveIcon}},c=e=>{switch(e){case 0:return"text-_hFF2442_ bg-_rgba_255b36b66b0d1__";case 1:return"text-_h00C08E_ bg-_rgba_0b192b142b0d1__";default:return"text-primary bg-primary-light-9"}},p=e=>{switch(e){case 0:return"等待中";case 1:return"执行中";case 2:return"执行完成";case 3:return"执行失败";case 4:return"中断";default:return"-"}},l=e=>{const{task_count:s,task_complete:t}=e;return 0==s?0:Math.round(t/s*100)},d=s=>{e.index.navigateTo({url:s})};return e.onShow((async()=>{var s;await e.nextTick$1(),null==(s=u.value)||s.reload()})),(s,t)=>({a:e.p({"is-custom-back-icon":!0,"border-bottom":!1,"is-fixed":!1,background:{background:"transparent"}}),b:e.o((e=>d("/packages/pages/rpa_code/rpa_code"))),c:e.o((e=>d("/ai_modules/device/pages/task_calendar/task_calendar"))),d:e.f(e.unref(n),((s,t,r)=>{var a,n;return e.e({a:e.t(s.device_name||"-"),b:e.t(0===s.status?"离线":1===s.status?"在线":"工作中"),c:e.n(c(s.status)),d:e.f(s.accounts,((e,s,t)=>({a:i(e.type),b:s}))),e:e.t(s.task_count),f:(null==(a=s.tasks)?void 0:a.length)>0},(null==(n=s.tasks)?void 0:n.length)>0?{g:e.f(s.tasks,((s,t,r)=>({a:e.t(s.task_name),b:e.t(p(s.status)),c:[3,4].includes(s.status)?1:"",d:[1].includes(s.status)?1:"",e:[0].includes(s.status)?1:"",f:[2].includes(s.status)?1:"",g:[3,4].includes(s.status)?1:"",h:[1].includes(s.status)?1:"",i:[0].includes(s.status)?1:"",j:[2].includes(s.status)?1:"",k:s.id}))),h:"610be236-2-"+r+",610be236-1",i:e.p({percent:l(s),borderWidth:"10rpx",width:"136rpx",progressColor:"#467EF9",notProgressColor:"#F1F1F1"})}:{},{j:"610be236-3-"+r+",610be236-1",k:t,l:e.o((t=>(s=>{e.index.navigateTo({url:`/ai_modules/device/pages/detail/detail?device_code=${s.device_code}`})})(s)),t)})})),e:e.p({name:"arrow-right",color:"#B2B2B2"}),f:e.sr(u,"610be236-1",{k:"pagingRef"}),g:e.o(o),h:e.o((s=>e.isRef(n)?n.value=s:null)),i:e.p({fixed:!1,auto:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(n)})})}});wx.createPage(a);

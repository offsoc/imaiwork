"use strict";const e=require("../../common/vendor.js"),s=require("./components/hooks.js");if(require("../../stores/app.js"),require("../../api/app.js"),require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../utils/auth.js"),require("../../enums/constantEnums.js"),require("../../utils/cache.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../hooks/useShareMessage.js"),require("../../router/index.js"),require("../../utils/util.js"),require("../../stores/navigationBarTitle.js"),require("../../config/index.js"),require("../../api/chat.js"),require("../../api/voice_chat.js"),require("../../hooks/useLockFn.js"),require("../../api/account.js"),require("../../utils/client.js"),require("../../enums/appEnums.js"),!Array){e.resolveComponent("u-navbar")()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+r+u+o)();const r=()=>"./components/weixin.js",u=()=>"./components/update-user-info.js",o=()=>"./components/bind-mobile.js",n=e.defineComponent({__name:"login",setup(r){const{loginWay:u,websiteConfig:o,loginData:n,showLoginPopup:i,showBindMobilePopup:t,wxIsLock:a,isLoginAfter:l,bindMobileSuccess:c,handleUpdateUser:p,wxLoginLock:j,pcLogin:q,removeWxQuery:f}=s.useLoginWay();u.value=s.LoginWayEnum.WEIXIN;const h=e.ref(""),m=async e=>{await j(e),h.value&&q({...e,authKey:h.value})};return e.onLoad((e=>{const s=decodeURIComponent(e.scene).split("&"),r={};s.forEach((e=>{const[s,u]=e.split("=");r[s]=u})),r.auth_key&&(h.value=r.auth_key,l.value=!1)})),(s,r)=>({a:e.p({"border-bottom":!1,background:{background:"transparent"},title:"登录","title-bold":!0}),b:e.unref(o).pc_logo,c:e.o(m),d:e.p({loading:e.unref(a),"auth-key":e.unref(h)}),e:e.o(e.unref(p)),f:e.o((s=>e.isRef(i)?i.value=s:null)),g:e.p({logo:e.unref(o).shop_logo,title:e.unref(o).shop_name,userInfo:e.unref(n),show:e.unref(i)}),h:e.o(e.unref(c)),i:e.o(e.unref(f)),j:e.o((s=>e.isRef(t)?t.value=s:null)),k:e.p({userInfo:e.unref(n),show:e.unref(t)})})}});wx.createPage(n);

"use strict";const e=require("../common/vendor.js");exports.usePaging=function(s){const{page:t=1,size:i=15,isScroll:n=!1,fetchFun:l,params:o={},firstLoading:a=!1}=s,c=Object.assign({},e.toRaw(o)),r=e.reactive({page:t,size:i,loading:a,count:0,lists:[],extend:{}}),g=async(e,s=!0)=>(s&&(r.loading=!0),await l({page_no:r.page,page_size:r.size,...o,...e}).then((e=>(r.count=null==e?void 0:e.count,r.lists=n?r.lists.concat((null==e?void 0:e.lists)||(null==e?void 0:e.list)||e):(null==e?void 0:e.lists)||(null==e?void 0:e.list)||e,r.extend=null==e?void 0:e.extend,Promise.resolve(e)))).catch((e=>Promise.reject(e))).finally((()=>{r.loading=!1})));return{pager:r,getLists:g,resetParams:e=>(Object.keys(c).forEach((e=>{o[e]=c[e]})),g(e)),resetPage:e=>(r.page=1,n&&(r.lists=[]),g(e))}};

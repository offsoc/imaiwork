"use strict";const e=require("../common/vendor.js");exports.usePaging=function(s){const{page:t=1,size:i=15,isScroll:a=!1,fetchFun:n,params:o={},firstLoading:l=!1}=s,r=Object.assign({},e.toRaw(o)),c=e.reactive({page:t,size:i,loading:l,isLoad:!1,count:0,lists:[],extend:{}}),g=async(e,s=!0,t=!0)=>(s&&(c.loading=!0),await n({page_no:c.page,page_size:c.size,...o,...e}).then((e=>{c.count=null==e?void 0:e.count;const s=(null==e?void 0:e.lists)||(null==e?void 0:e.list)||e||[];return a?(c.lists=t?c.lists.concat(s):s,c.isLoad=!(s.length<(o.page_size||i))):c.lists=s,c.extend=null==e?void 0:e.extend,Promise.resolve(e)})).catch((e=>Promise.reject(e))).finally((()=>{c.loading=!1})));return{pager:c,getLists:g,resetParams:e=>(Object.keys(r).forEach((e=>{o[e]=r[e]})),c.isLoad=!0,g(e)),resetPage:e=>(c.page=1,o.page_no&&(o.page_no=1),a&&(c.lists=[]),c.isLoad=!0,g(e))}};

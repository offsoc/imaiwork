"use strict";const e=require("../../../../common/vendor.js"),t=require("../../../../common/assets.js"),i=require("../../../../stores/app.js");if(require("../../../../api/app.js"),require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../config/index.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),!Array){e.resolveComponent("u-icon")()}Math;const s=e.defineComponent({__name:"video-item",props:{item:{default:()=>({id:0,name:"",pic:"",status:0,video_url:"",clip_video_url:"",model_version:"",remark:"",automatic_clip:0,clip_status:""})},showVersion:{type:Boolean,default:!0},showPlay:{type:Boolean,default:!0},showMore:{type:Boolean,default:!1}},emits:["play","delete","retry","download","preview"],setup(s,{emit:o}){const r=s,u=i.useAppStore(),a=e.computed((()=>{var e;return(null==(e=u.getDigitalHumanConfig)?void 0:e.channel)||[]})),l=e.computed((()=>a.value.length>0?a.value.reduce(((e,t)=>(e[t.id]=t.name,e)),{}):{})),m=e=>{o("play",e)},n=()=>{const{status:t,id:i,clip_status:s,automatic_clip:u}=r.item;let a=["删除"];1==t?(a.push("下载视频"),1==u&&3==s&&a.push("下载剪辑视频","播放剪辑视频")):a.push("重试"),e.index.showActionSheet({itemList:a,success:s=>{const{tapIndex:u}=s;0==u&&e.index.showModal({title:"提示",content:"确定要删除吗？",success:e=>{e.confirm&&o("delete",i)}}),1==t?(1==u&&o("download",r.item.video_url),2==u&&o("download",r.item.clip_video_url),3==u&&m(r.item.clip_video_url)):e.index.showModal({title:"提示",content:"确定要重试吗？",success:e=>{e.confirm&&o("retry",i)}})}})};return(i,o)=>e.e({a:s.item.pic,b:1==s.item.automatic_clip},(s.item.automatic_clip,{}),{c:s.showVersion},s.showVersion?e.e({d:e.unref(l)[s.item.model_version]},e.unref(l)[s.item.model_version]?{e:e.t(e.unref(l)[s.item.model_version]),f:e.n(`digital-human-tag-${s.item.model_version}`)}:{}):{},{g:s.item.pic,h:s.showMore},s.showMore?{i:e.p({name:"more-dot-fill",color:"#fff"}),j:e.o(n)}:{},{k:1==s.item.status},1==s.item.status?e.e({l:s.showPlay},s.showPlay?{m:t._imports_0$23,n:e.o((e=>m(s.item.video_url)))}:{},{o:1==s.item.automatic_clip},1==s.item.automatic_clip?e.e({p:1==s.item.clip_status||2==s.item.clip_status},(1==s.item.clip_status||s.item.clip_status,{}),{q:3==s.item.clip_status},(s.item.clip_status,{}),{r:4==s.item.clip_status},(s.item.clip_status,{})):{}):e.e({s:2==s.item.status},2==s.item.status?{t:t._imports_1$18,v:e.t(s.item.remark||"生成失败")}:{}),{w:e.t(s.item.name)})}}),o=e._export_sfc(s,[["__scopeId","data-v-fdfa71c0"]]);wx.createComponent(o);

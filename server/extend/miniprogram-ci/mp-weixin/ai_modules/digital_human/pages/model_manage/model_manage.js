"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../common/assets.js"),i=require("../../../../api/digital_human.js"),n=require("../../enums/index.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-button")+e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("video-preview"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+o+(()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../../../components/video-preview/video-preview.js"))();const o=()=>"../../components/video-item/video-item.js",t=e.defineComponent({__name:"model_manage",setup(o){const t=e.ref([]),s=e.ref([]),u=e.shallowRef(),a=async(e,r)=>{var n,o;try{const{lists:o}=await i.getAnchorList({page_no:e,page_size:r,type:0});null==(n=u.value)||n.complete(o)}catch(t){null==(o=u.value)||o.complete([])}},l=e.ref(""),d=e.ref(!1),p=e=>{l.value=e,d.value=!0},c=e.ref(!1),m=()=>{c.value=!c.value,s.value=[]},v=r=>{e.index.showModal({title:"提示",content:"确定要删除吗？",success:async n=>{var o;if(n.confirm){e.index.showLoading({title:"删除中...",mask:!0});try{await i.deleteAnchor({id:r||s.value}),null==(o=u.value)||o.reload(),e.index.hideLoading(),e.index.showToast({title:"删除成功",icon:"none",duration:3e3})}catch(t){e.index.hideLoading(),e.index.showToast({title:t||"删除失败",icon:"none",duration:3e3})}}c.value=!1,s.value=[]}})};return(i,o)=>e.e({a:e.p({"border-bottom":!1,"is-fixed":!1,background:{background:"transparent"},title:"我的模特","title-bold":!0}),b:e.t(e.unref(t).length),c:e.unref(t).length>0},e.unref(t).length>0?{d:e.t(e.unref(c)?"取消":"管理"),e:e.o(m),f:e.p({type:"primary","custom-style":{height:"46rpx",fontSize:"24rpx",padding:"0 18rpx"}})}:{},{g:e.f(e.unref(t),((r,i,o)=>e.e(e.unref(c)?e.e({a:e.unref(s).includes(r.id)},e.unref(s).includes(r.id)?{b:"292d26c0-3-"+o+",292d26c0-2",c:e.p({name:"checkmark",color:"#fff",size:20})}:{},{d:e.unref(s).includes(r.id)?1:"",e:e.o((e=>{return i=r.id,void(s.value.includes(i)?s.value=s.value.filter((e=>e!==i)):s.value.push(i));var i}),i)}):{},{f:e.o((i=>(r=>{const{pic:i,anchor_id:o,model_version:t,name:s,url:u,width:a,height:l}=r;e.index.$u.route({url:"/ai_modules/digital_human/pages/video_create/video_create",params:{type:n.ListenerTypeEnum.UPLOAD_VIDEO,data:JSON.stringify({pic:i,anchor_id:o,model_version:t,name:s,url:u,width:a,height:l})}})})(r)),i),g:e.o(v,i),h:e.o(p,i),i:"292d26c0-4-"+o+",292d26c0-2",j:e.p({item:{id:r.id,name:r.name,pic:r.pic,status:r.status,video_url:r.url,model_version:r.model_version,remark:r.remark},"show-play":!1,"show-more":!e.unref(c)}),k:i}))),h:e.unref(c),i:r._imports_0$12,j:e.sr(u,"292d26c0-2",{k:"pagingRef"}),k:e.o(a),l:e.o((r=>e.isRef(t)?t.value=r:null)),m:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(t)}),n:e.unref(c)},e.unref(c)?{o:e.t(e.unref(s).length),p:e.o((e=>v())),q:e.p({type:"error",disabled:0===e.unref(s).length,"custom-style":{height:"64rpx",fontSize:"24rpx",padding:"0 24rpx",borderRadius:"16rpx"}})}:{},{r:e.o((e=>d.value=!1)),s:e.o((r=>e.isRef(d)?d.value=r:null)),t:e.p({title:"视频预览","video-url":e.unref(l),show:e.unref(d)})})}}),s=e._export_sfc(t,[["__scopeId","data-v-292d26c0"]]);wx.createPage(s);

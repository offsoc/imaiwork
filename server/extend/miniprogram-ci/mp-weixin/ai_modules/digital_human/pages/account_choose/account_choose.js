"use strict";const e=require("../../../../common/vendor.js"),a=require("../../../../common/assets.js"),s=require("../../../../api/device.js"),u=require("../../../../enums/appEnums.js"),r=require("../../enums/index.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("empty")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const t=e.defineComponent({__name:"account_choose",setup(t){const n=[{value:0,label:"全部"},{value:u.AppTypeEnum.SPH,label:"视频号"},{value:u.AppTypeEnum.XHS,label:"小红书"},{value:4,label:"抖音",disabled:!0},{value:5,label:"快手",disabled:!0}],i=e.ref(0),l=e.ref([]),o=e.shallowRef(),c=e.ref([]),p=async(e,a)=>{var u,r;try{const{lists:e}=await s.getPublishAccountList({type:i.value});null==(u=o.value)||u.complete(e)}catch(t){null==(r=o.value)||r.complete([])}},m=e=>{switch(parseInt(e)){case u.AppTypeEnum.XHS:return a.XHSIcon;case u.AppTypeEnum.SPH:return a.SPHIcon}},v=e=>c.value.some((a=>a.account===e.account)),d=()=>{0!==c.value.length&&(e.index.$emit("confirm",{type:r.ListenerTypeEnum.CHOOSE_ACCOUNT,data:c.value}),e.index.navigateBack())};return e.onLoad((e=>{e.account&&(c.value=JSON.parse(e.account))})),(s,u)=>({a:e.f(n,((a,s,u)=>({a:e.t(a.label),b:a.value,c:a.value===e.unref(i)?1:"",d:a.disabled?1:"",e:e.o((e=>(e=>{var a;e.disabled||(i.value=e.value,null==(a=o.value)||a.reload())})(a)),a.value)}))),b:e.f(e.unref(l),((a,s,u)=>({a:a.avatar,b:m(a.type),c:e.t(a.nickname),d:e.t(1===a.status?"在线":"离线"),e:e.n(1===a.status?"text-_h00B862_ bg-_hE0F1EB_":"text-_hF63E2F_ bg-_hF7E5E5_"),f:e.t(a.sdk_version),g:s,h:v(a)?1:"",i:e.o((e=>(e=>{v(e)?c.value=c.value.filter((a=>a.account!==e.account)):c.value.push(e)})(a)),s)}))),c:a._imports_0$18,d:e.sr(o,"25a098d8-0",{k:"pagingRef"}),e:e.o(p),f:e.o((a=>e.isRef(l)?l.value=a:null)),g:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(l)}),h:e.n(e.unref(c).length>0?"bg-black":"bg-_h787878CC_"),i:e.o(d)})}});wx.createPage(t);

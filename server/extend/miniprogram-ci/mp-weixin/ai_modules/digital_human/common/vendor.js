"use strict";var e={Version2_5:0,VersionReserved:1,Version2:2,Version1:3,LayerReserved:0,Layer3:1,Layer2:2,Layer1:3,ModeStereo:0,ModeJointStereo:1,ModeDualChannel:2,ModeSingleChannel:3,SamplesPerGr:576,SamplingFrequency44100:0,SamplingFrequency48000:1,SamplingFrequency32000:2,SamplingFrequencyReserved:3,newSamplingFrequencyInstance:function(r){var n={value:r,Int:function(){switch(n.value){case e.SamplingFrequency44100:return 44100;case e.SamplingFrequency48000:return 48e3;case e.SamplingFrequency32000:return 32e3}throw new Error("not reached")}};return n},SfBandIndicesSet:{0:{L:[0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],S:[0,4,8,12,16,22,30,40,52,66,84,106,136,192]},1:{L:[0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],S:[0,4,8,12,16,22,28,38,50,64,80,100,126,192]},2:{L:[0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],S:[0,4,8,12,16,22,30,42,58,78,104,138,180,192]}}};e.BytesPerFrame=2*e.SamplesPerGr*4;var r=e;function n(e,r){var n=new e.constructor(e.length+r.length);return n.set(e,0),n.set(r,e.length),n}for(var a={init2dArray:function(e,r,n,a){e[r]=[];for(var t=0;t<n;t++)e[r].push([]);for(t=0;t<e[r].length;t++)for(var i=0;i<a;i++)e[r][t].push(0)},init3dArray:function(e,r,n,a,t){e[r]=[];for(var i=0;i<n;i++)e[r].push([]);for(i=0;i<e[r].length;i++){for(var o=0;o<a;o++)e[r][i].push([]);for(var s=0;s<e[r][i].length;s++)for(var f=0;f<t;f++)e[r][i][s].push(0)}},init4dArray:function(e,r,n,a,t,i){e[r]=[];for(var o=0;o<n;o++)e[r].push([]);for(o=0;o<e[r].length;o++){for(var s=0;s<a;s++)e[r][o].push([]);for(var f=0;f<e[r][o].length;f++)for(var u=0;u<t;u++){for(var l=[],c=0;c<i;c++)l.push(0);e[r][o][f].push(l)}}},concatTypedArrays:n,concatBuffers:function(e,r){return n(new Uint8Array((e?e.buffer:new ArrayBuffer(0))||e),new Uint8Array((r?r.buffer:new ArrayBuffer(0))||r)).buffer},concatBytes:function(e,r){var a=new Uint8Array(1);return a[0]=r,n(e,a)},len:function(e){return"object"==typeof e?e.length:0},string:{bin:function(e){return parseInt(e)}},number:{bin:function(e){for(var r=e<0?"-":"",n=Math.abs(e).toString(2);n.length<32;)n="0"+n;return r+n}}},t=r,i={createNew:function(e){var r={value:e,id:function(){return(1572864&r.value)>>>19>>>0},layer:function(){return(393216&r.value)>>>17>>>0},protectionBit:function(){return(65536&r.value)>>>16>>>0},bitrateIndex:function(){return(61440&r.value)>>>12>>>0},samplingFrequency:function(){return t.newSamplingFrequencyInstance((3072&r.value)>>>10>>>0)},paddingBit:function(){return(512&r.value)>>>9>>>0},privateBit:function(){return(256&r.value)>>>8>>>0},mode:function(){return(192&r.value)>>>6>>>0},modeExtension:function(){return(48&r.value)>>>4>>>0},useMSStereo:function(){return r.mode()===t.ModeJointStereo&&0!=(2&r.modeExtension())},useIntensityStereo:function(){return r.mode()===t.ModeJointStereo&&0!=(1&r.modeExtension())},copyright:function(){return(8&r.value)>>>3>>>0},originalOrCopy:function(){return(4&r.value)>>>2>>>0},emphasis:function(){return(3&r.value)>>>0},isValid:function(){const e=4292870144;return(r.value&e)>>>0===e&&(r.id()!==t.VersionReserved&&(15!==r.bitrateIndex()&&(r.samplingFrequency().value!==t.SamplingFrequencyReserved&&(r.layer()!==t.LayerReserved&&2!==r.emphasis()))))},frameSize:function(){var e=144*i.bitrate(r.layer(),r.bitrateIndex())/r.samplingFrequency().Int()+r.paddingBit();return Math.floor(e)},numberOfChannels:function(){return r.mode()===t.ModeSingleChannel?1:2}};return r},bitrate:function(e,r){switch(e){case t.Layer1:return[0,32e3,64e3,96e3,128e3,16e4,192e3,224e3,256e3,288e3,32e4,352e3,384e3,416e3,448e3][r];case t.Layer2:return[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4,384e3][r];case t.Layer3:return[0,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4][r]}throw new Error("not reached")},read:function(e,r){var n=r,a=e.readFull(4);if(a.err)return{err:a.err};var t=a.buf;if(t.byteLength<4)return{h:0,position:0,err:"UnexpectedEOF readHeader (1)"};for(var o=t[0]>>>0,s=t[1]>>>0,f=t[2]>>>0,u=t[3]>>>0,l=i.createNew((o<<24>>>0|s<<16>>>0|f<<8>>>0|u<<0>>>0)>>>0);!l.isValid();){if((a=e.readFull(1)).err)return{err:a.err};if(1!==(t=a.buf).byteLength)return{h:0,position:0,err:"UnexpectedEOF readHeader (2)"};o=s,s=f,f=u,u=t[0]>>>0,l=i.createNew((o<<24>>>0|s<<16>>>0|f<<8>>>0|u<<0>>>0)>>>0),n++}return 0===l.bitrateIndex()?{h:0,position:0,err:"mp3: free bitrate format is not supported. Header word is "+l.value+" at position "+r}:{h:l,position:n}}},o=i,s=[new Float32Array(36),new Float32Array(36),new Float32Array(36),new Float32Array(36)],u=[],l=0;l<6;l++)u.push(new Float32Array(12));var c=[];for(l=0;l<18;l++)c.push(new Float32Array(36));!function(){for(var e=0;e<36;e++)s[0][e]=Math.sin(Math.PI/36*(e+.5));for(e=0;e<18;e++)s[1][e]=Math.sin(Math.PI/36*(e+.5));for(e=18;e<24;e++)s[1][e]=1;for(e=24;e<30;e++)s[1][e]=Math.sin(Math.PI/12*(e+.5-18));for(e=30;e<36;e++)s[1][e]=0;for(e=0;e<12;e++)s[2][e]=Math.sin(Math.PI/12*(e+.5));for(e=12;e<36;e++)s[2][e]=0;for(e=0;e<6;e++)s[3][e]=0;for(e=6;e<12;e++)s[3][e]=Math.sin(Math.PI/12*(e+.5-6));for(e=12;e<18;e++)s[3][e]=1;for(e=18;e<36;e++)s[3][e]=Math.sin(Math.PI/36*(e+.5));for(e=0;e<6;e++)for(var r=0;r<12;r++)u[e][r]=Math.cos(Math.PI/24*(2*r+1+6)*(2*e+1));for(e=0;e<18;e++)for(r=0;r<36;r++)c[e][r]=Math.cos(Math.PI/72*(2*r+1+18)*(2*e+1))}();var d={Win:function(e,r){var n=new Float32Array(36);if(2===r){var a=s[r];const l=12;for(var t=0;t<3;t++)for(var i=0;i<l;i++){for(var o=0,f=0;f<l/2;f++)o+=e[t+3*f]*u[f][i];n[6*t+i+6]+=o*a[i]}return n}for(a=s[r],i=0;i<36;i++){for(o=0,f=0;f<18;f++)o+=e[f]*c[f][i];n[i]=o*a[i]}return n}},S=d,b=new Uint16Array([513,0,513,16,513,1,17,513,0,1025,513,16,1,513,17,1025,513,32,33,513,18,513,2,34,1025,513,0,1,513,17,513,16,1025,513,32,33,513,18,513,2,34,513,0,1025,513,16,1,513,17,2049,1025,513,32,2,513,33,18,2049,1025,513,34,48,513,3,19,513,49,513,50,513,35,51,1537,1025,513,0,16,17,1537,513,1,513,32,33,1537,513,18,513,2,34,1025,513,49,19,1025,513,48,50,513,35,513,3,51,513,0,1025,513,16,1,2049,513,17,1025,513,32,2,33,4609,1537,513,18,513,34,48,1025,513,49,19,1025,513,3,50,513,35,4,2561,1025,513,64,65,513,20,513,66,36,3073,1537,1025,513,51,67,80,1025,513,52,5,81,1537,513,21,513,82,37,1025,513,68,53,1025,513,83,84,513,69,85,1537,513,0,513,16,1,513,17,1025,513,33,18,3585,1025,513,32,2,513,34,1025,513,48,3,513,49,19,3585,2049,1025,513,50,35,513,64,4,513,65,513,20,66,3073,1537,513,36,513,51,80,1025,513,67,52,81,1537,513,21,513,5,82,1537,513,37,513,68,53,513,83,513,69,513,84,85,2049,1025,513,0,16,513,1,17,2561,1025,513,32,33,513,18,513,2,34,3073,1537,1025,513,48,3,49,513,19,513,50,35,3073,1025,513,65,20,1025,513,64,51,513,66,36,2561,1537,1025,513,4,80,67,513,52,81,2049,1025,513,21,82,513,37,68,1537,1025,513,5,84,83,513,53,513,69,85,513,0,1025,513,16,1,2561,513,17,1025,513,32,2,513,33,18,7169,2049,1025,513,34,48,513,49,19,2049,1025,513,3,50,513,35,64,1025,513,65,20,1025,513,4,51,513,66,36,7169,2561,1537,1025,513,80,5,96,513,97,22,3073,1537,1025,513,67,52,81,513,21,513,82,37,1025,513,38,54,113,5121,2049,513,23,1025,513,68,83,6,1537,1025,513,53,69,98,513,112,513,7,100,3585,1025,513,114,39,1537,513,99,513,84,85,513,70,115,2049,1025,513,55,101,513,86,116,1537,513,71,513,102,117,1025,513,87,118,513,103,119,1537,513,0,513,16,1,2049,513,17,1025,513,32,2,18,6145,2049,513,33,513,34,513,48,3,1025,513,49,19,1025,513,50,35,1025,513,64,4,513,65,20,7681,4097,2561,1025,513,66,36,1025,513,51,67,80,1025,513,52,81,97,1537,513,22,513,6,38,513,98,513,21,513,5,82,4097,2561,1537,1025,513,37,68,96,513,99,54,1025,513,112,23,113,4097,1537,1025,513,7,100,114,513,39,1025,513,83,53,513,84,69,2561,1025,513,70,115,513,55,513,101,86,2561,1537,1025,513,85,87,116,513,71,102,1025,513,117,118,513,103,119,3073,1025,513,16,1,513,17,513,0,513,32,2,4097,1025,513,33,18,1025,513,34,49,513,19,513,48,513,3,64,6657,2049,1025,513,50,35,513,65,51,2561,1025,513,20,66,513,36,513,4,80,1025,513,67,52,513,81,21,7169,3585,2049,1025,513,82,37,513,83,53,1025,513,96,22,97,1025,513,98,38,1537,1025,513,5,6,68,513,84,69,4609,2561,1025,513,99,54,1025,513,112,7,113,1025,513,23,100,513,70,114,2561,1537,513,39,513,85,115,513,55,86,2049,1025,513,101,116,513,71,102,1025,513,117,87,513,118,513,103,119,513,0,1537,513,16,513,1,17,7169,2049,1025,513,32,2,513,33,18,2049,1025,513,34,48,513,3,49,1537,513,19,513,50,35,1025,513,64,4,65,17921,7169,3585,1537,513,20,513,51,66,1025,513,36,80,513,67,52,1025,513,81,21,1025,513,5,82,513,37,513,68,83,3585,2049,1025,513,96,6,513,97,22,1025,513,128,8,129,4097,2049,1025,513,53,98,513,38,84,1025,513,69,99,513,54,112,1537,1025,513,7,85,113,513,23,513,39,55,18433,6145,3073,1025,513,24,130,513,40,1025,513,100,70,114,2049,1025,513,132,72,513,144,9,513,145,25,6145,3585,2049,1025,513,115,101,513,86,116,1025,513,71,102,131,1537,513,56,513,117,87,513,146,41,3585,2049,1025,513,103,133,513,88,57,513,147,513,73,134,1537,513,160,513,104,10,513,161,26,17409,6145,3073,1025,513,162,42,1025,513,149,89,513,163,58,2049,1025,513,74,150,513,176,11,513,177,27,5121,2049,513,178,1025,513,118,119,148,1537,1025,513,135,120,164,1025,513,105,165,43,3073,1537,1025,513,90,136,179,513,59,513,121,166,1537,1025,513,106,180,192,1025,513,12,152,193,15361,5633,2561,1537,513,28,513,137,181,513,91,194,1025,513,44,60,1025,513,182,107,513,196,76,4097,2049,1025,513,168,138,513,208,13,513,209,513,75,513,151,167,3073,1537,513,195,513,122,153,1025,513,197,92,183,1025,513,29,210,513,45,513,123,211,13313,7169,3073,1025,513,61,198,1025,513,108,169,513,154,212,2049,1025,513,184,139,513,77,199,1025,513,124,213,513,93,224,2561,1025,513,225,30,1025,513,14,46,226,2049,1025,513,227,109,513,140,228,1025,513,229,186,240,9729,4097,1025,513,241,31,1537,1025,513,170,155,185,513,62,513,214,200,3073,1537,513,78,513,215,125,513,171,513,94,201,1537,513,15,513,156,110,513,242,47,8193,4097,1537,1025,513,216,141,63,1537,513,243,513,230,202,513,244,79,2049,1025,513,187,172,513,231,245,1025,513,217,157,513,95,232,7681,3073,1537,513,111,513,246,203,1025,513,188,173,218,2049,513,247,1025,513,126,127,142,1537,1025,513,158,174,204,513,248,143,4609,2049,1025,513,219,189,513,234,249,1025,513,159,235,513,190,513,205,250,3585,1025,513,221,236,1537,1025,513,233,175,220,513,206,251,2049,1025,513,191,222,513,207,238,1025,513,223,239,513,255,513,237,513,253,513,252,254,4097,1537,513,0,513,16,1,513,17,1025,513,32,2,513,33,18,12801,4097,1537,513,34,513,48,49,1537,513,19,513,3,64,513,50,35,3585,1537,1025,513,4,20,65,1025,513,51,66,513,36,67,2561,1537,513,52,513,80,5,513,81,21,1025,513,82,37,1025,513,68,83,97,23041,9217,4609,2561,1537,513,53,513,96,6,513,22,98,1025,513,38,84,513,69,99,2561,1537,513,54,513,112,7,513,113,85,1025,513,23,100,513,114,39,6145,4097,2049,1025,513,70,115,513,55,101,1025,513,86,128,513,8,116,1025,513,129,24,513,130,40,4097,2049,1025,513,71,102,513,131,56,1025,513,117,87,513,132,72,1537,1025,513,144,25,145,1025,513,146,118,513,103,41,23553,9217,4609,2561,1025,513,133,88,1025,513,9,119,147,1025,513,57,148,513,73,134,2561,1537,513,104,513,160,10,513,161,26,1025,513,162,42,513,149,89,6657,3585,1537,513,163,513,58,135,1025,513,120,164,513,74,150,1537,1025,513,105,176,177,1025,513,27,165,178,3585,2049,1025,513,90,43,513,136,151,513,179,513,121,59,2049,1025,513,106,180,513,75,193,1025,513,152,137,513,28,181,20481,8705,4097,1537,1025,513,91,44,194,1537,1025,513,11,192,166,513,167,122,2561,1025,513,195,60,1025,513,12,153,182,1025,513,107,196,513,76,168,5121,2561,1025,513,138,197,1025,513,208,92,209,1025,513,183,123,513,29,513,13,45,3073,1025,513,210,211,1025,513,61,198,513,108,169,1537,1025,513,154,184,212,1025,513,139,77,513,199,124,17409,8705,4609,2561,1025,513,213,93,1025,513,224,14,225,1025,513,30,226,513,170,46,2049,1025,513,185,155,513,227,214,1025,513,109,62,513,200,140,4097,2049,1025,513,228,78,513,215,125,1025,513,229,186,513,171,94,2049,1025,513,201,156,513,241,31,1537,1025,513,240,110,242,513,47,230,9729,4609,2049,1025,513,216,243,513,63,244,1537,513,79,513,141,217,513,187,202,2049,1025,513,172,231,513,126,245,2049,1025,513,157,95,513,232,142,513,246,203,8705,4609,2561,1537,1025,513,15,174,111,513,188,218,1025,513,173,247,513,127,233,2049,1025,513,158,204,513,248,143,1025,513,219,189,513,234,249,4097,2049,1025,513,159,220,513,205,235,1025,513,190,250,513,175,221,3585,1537,1025,513,236,206,251,1025,513,191,237,513,222,252,1537,1025,513,207,253,238,1025,513,223,254,513,239,255,513,0,1537,513,16,513,1,17,10753,2049,1025,513,32,2,513,33,18,2561,1537,513,34,513,48,3,513,49,19,2561,1025,513,50,35,1025,513,64,4,65,1537,513,20,513,51,66,1025,513,36,80,513,67,52,35329,10241,4097,1537,1025,513,5,21,81,1025,513,82,37,1025,513,68,53,83,2561,1537,1025,513,96,6,97,513,22,98,2049,1025,513,38,84,513,69,99,1025,513,54,112,113,10241,4609,2049,513,23,513,7,513,85,100,1025,513,114,39,1025,513,70,101,115,2561,1537,513,55,513,86,8,513,128,129,1537,513,24,513,116,71,513,130,513,40,102,6145,3585,2049,1025,513,131,56,513,117,132,1025,513,72,144,145,1537,513,25,513,9,118,513,146,41,3585,2049,1025,513,133,88,513,147,57,1025,513,160,10,26,2049,513,162,513,103,513,87,73,1537,513,148,513,119,134,513,161,513,104,149,56321,32257,12801,6657,3073,1537,513,42,513,89,58,513,163,513,135,120,2049,1025,513,164,74,513,150,105,1025,513,176,11,177,2561,1025,513,27,178,513,43,513,165,90,1537,513,179,513,166,106,1025,513,180,75,513,12,193,7681,3585,1537,1025,513,181,194,44,1025,513,167,195,513,107,196,2049,513,29,1025,513,136,151,59,1025,513,209,210,513,45,211,4609,1537,1025,513,30,46,226,1537,1025,513,121,152,192,513,28,513,137,91,3585,1537,513,60,513,122,182,1025,513,76,153,513,168,138,1537,513,13,513,197,92,1025,513,61,198,513,108,154,22529,22017,9217,4097,2049,1025,513,139,77,513,199,124,1025,513,213,93,513,224,14,2049,513,227,1025,513,208,183,123,1537,1025,513,169,184,212,513,225,513,170,185,6145,2561,1537,1025,513,155,214,109,513,62,200,1537,1025,513,140,228,78,1025,513,215,229,513,186,171,3073,1025,513,156,230,1025,513,110,216,513,141,187,2049,1025,513,231,157,513,232,142,1025,513,203,188,158,241,513,31,513,15,47,16897,14337,513,242,13313,12801,5121,2049,513,189,513,94,513,125,201,1537,513,202,513,172,126,1025,513,218,173,204,2561,1537,513,174,513,219,220,513,205,190,1537,1025,513,235,237,238,1537,1025,513,217,234,233,513,222,1025,513,221,236,206,63,240,1025,513,243,244,513,79,513,245,95,2561,513,255,1025,513,246,111,513,247,127,3073,1537,513,143,513,248,249,1025,513,159,250,175,2049,1025,513,251,191,513,252,207,1025,513,253,223,513,254,239,15361,2049,1025,513,0,16,513,1,17,3585,1537,1025,513,32,2,33,513,18,513,34,513,48,3,3585,1025,513,49,19,1025,513,50,35,1025,513,64,4,65,2049,1025,513,20,51,513,66,36,1537,1025,513,67,52,81,1537,1025,513,80,5,21,513,82,37,64001,25089,8705,4609,2561,1025,513,68,83,513,53,513,96,6,1025,513,97,22,513,98,38,2049,1025,513,84,69,513,99,54,1025,513,113,85,513,100,70,8193,3585,1537,513,114,513,39,55,513,115,1025,513,112,7,23,2561,1025,513,101,86,1025,513,128,8,129,1025,513,116,71,513,24,130,4097,2049,1025,513,40,102,513,131,56,1025,513,117,87,513,132,72,2049,1025,513,145,25,513,146,118,1025,513,103,41,513,133,88,23553,8705,4097,2049,1025,513,147,57,513,148,73,1025,513,119,134,513,104,161,2049,1025,513,162,42,513,149,89,1025,513,163,58,513,135,513,120,74,5633,3073,1025,513,164,150,1025,513,105,177,513,27,165,1537,513,178,513,90,43,513,136,179,4097,2561,1537,513,144,513,9,160,513,151,121,1025,513,166,106,180,3073,1537,513,26,513,10,176,513,59,513,11,192,1025,513,75,193,513,152,137,17153,8705,4097,2049,1025,513,28,181,513,91,194,1025,513,44,167,513,122,195,2561,1537,513,60,513,12,208,513,182,107,1025,513,196,76,513,153,168,4097,2049,1025,513,138,197,513,92,209,1025,513,183,123,513,29,210,2305,1025,513,45,211,513,61,198,22010,1025,513,108,169,513,154,212,8193,4097,2049,1025,513,184,139,513,77,199,1025,513,124,213,513,93,225,2049,1025,513,30,226,513,170,185,1025,513,155,227,513,214,109,5121,2561,1537,513,62,513,46,78,513,200,140,1025,513,228,215,1025,513,125,171,229,2561,1025,513,186,94,513,201,513,156,110,2049,513,230,513,13,513,224,14,1025,513,216,141,513,187,202,18945,513,255,16385,14849,8193,4097,2049,1025,513,172,231,513,126,217,1025,513,157,232,513,142,203,2049,1025,513,188,218,513,173,233,1025,513,158,204,513,219,189,4097,2049,1025,513,234,174,513,220,205,1025,513,235,190,513,221,236,2049,1025,513,206,237,513,222,238,15,1025,513,240,31,241,1025,513,242,47,513,243,63,4609,2049,1025,513,244,79,513,245,95,1025,513,246,111,513,247,513,127,143,2561,1025,513,248,249,1025,513,159,175,250,2049,1025,513,251,191,513,252,207,1025,513,253,223,513,254,239,513,0,2049,1025,513,8,4,513,1,2,2049,1025,513,12,10,513,3,6,1537,513,9,513,5,7,1025,513,14,13,513,15,11,4097,2049,1025,513,0,1,513,2,3,1025,513,4,5,513,6,7,2049,1025,513,8,9,513,10,11,1025,513,12,13,513,14,15]),v=[{hufftable:null,linbits:0},{hufftable:b.subarray(0,7),linbits:0},{hufftable:b.subarray(7,24),linbits:0},{hufftable:b.subarray(24,41),linbits:0},{hufftable:null,linbits:0},{hufftable:b.subarray(41,72),linbits:0},{hufftable:b.subarray(72,103),linbits:0},{hufftable:b.subarray(103,174),linbits:0},{hufftable:b.subarray(174,245),linbits:0},{hufftable:b.subarray(245,316),linbits:0},{hufftable:b.subarray(316,443),linbits:0},{hufftable:b.subarray(443,570),linbits:0},{hufftable:b.subarray(570,697),linbits:0},{hufftable:b.subarray(697,1208),linbits:0},{hufftable:null,linbits:0},{hufftable:b.subarray(1208,1719),linbits:0},{hufftable:b.subarray(1719,2230),linbits:1},{hufftable:b.subarray(1719,2230),linbits:2},{hufftable:b.subarray(1719,2230),linbits:3},{hufftable:b.subarray(1719,2230),linbits:4},{hufftable:b.subarray(1719,2230),linbits:6},{hufftable:b.subarray(1719,2230),linbits:8},{hufftable:b.subarray(1719,2230),linbits:10},{hufftable:b.subarray(1719,2230),linbits:13},{hufftable:b.subarray(2230,2742),linbits:4},{hufftable:b.subarray(2230,2742),linbits:5},{hufftable:b.subarray(2230,2742),linbits:6},{hufftable:b.subarray(2230,2742),linbits:7},{hufftable:b.subarray(2230,2742),linbits:8},{hufftable:b.subarray(2230,2742),linbits:9},{hufftable:b.subarray(2230,2742),linbits:11},{hufftable:b.subarray(2230,2742),linbits:13},{hufftable:b.subarray(2742,2773),linbits:0},{hufftable:b.subarray(2773,2804),linbits:0}];var y={createNew:function(e){var r={vec:e,bitPos:0,bytePos:0,Bit:function(){if(r.vec.byteLength<=r.bytePos)return 0;var e=new DataView(r.vec,r.bytePos).getUint8(0)>>>7-r.bitPos>>>0;return e&=1,r.bytePos+=r.bitPos+1>>>3>>>0,r.bitPos=r.bitPos+1&7,e},Bits:function(e){if(0===e)return 0;if(r.vec.byteLength<=r.bytePos)return 0;var n=new DataView(r.vec,r.bytePos),a=(h(n,0)<<24>>>0|h(n,1)<<16>>>0|h(n,2)<<8>>>0|h(n,3)>>>0)>>>0;return a=(a=a<<r.bitPos>>>0)>>>32-e>>>0,r.bytePos+=r.bitPos+e>>>3>>>0,r.bitPos=r.bitPos+e&7,a},Tail:function(e){return new Uint8Array(r.vec).slice(r.vec.byteLength-e).buffer},LenInBytes:function(){return r.vec.byteLength},BitPos:function(){return(r.bytePos<<3>>>0)+r.bitPos},SetPos:function(e){r.bytePos=e>>>3>>>0,r.bitPos=(7&e)>>>0}};return r},append:function(e,r){return y.createNew(e.vec.concat(r))}},h=function(e,r){return r>=e.byteLength?0:e.getUint8(r)},p=a,I=r,m={decode:function(e,r){var n=0,a=0,t=0,i=0,o=0,s=1,f=32,u=v[r].hufftable,l=v[r].linbits;if(null===u)return{x:0,y:0,v:0,w:0,err:null};for(;;){if((65280&u[o])>>>0==0){s=0,n=(u[o]>>>4>>>0&15)>>>0,a=(15&u[o])>>>0;break}if(0!==e.Bit()){for(;(255&u[o])>>>0>=250;)o+=(255&u[o])>>>0;o+=(255&u[o])>>>0}else{for(;u[o]>>>8>>>0>=250;)o+=u[o]>>>8>>>0;o+=u[o]>>>8>>>0}if(--f<=0||o>=u.length)break}return 0!==s?{x:0,y:0,v:0,w:0,err:"mp3: illegal Huff code in data. bleft = "+f+", point = "+o+". tab = "+r+"."}:(r>31?(t=(a>>>3>>>0&1)>>>0,i=(a>>>2>>>0&1)>>>0,n=(a>>>1>>>0&1)>>>0,a=(1&a)>>>0,0!==t&&1===e.Bit()&&(t=-t),0!==i&&1===e.Bit()&&(i=-i),0!==n&&1===e.Bit()&&(n=-n),0!==a&&1===e.Bit()&&(a=-a)):(0!==l&&15===n&&(n+=e.Bits(l)),0!==n&&1===e.Bit()&&(n=-n),0!==l&&15===a&&(a+=e.Bits(l)),0!==a&&1===e.Bit()&&(a=-a)),{x:n,y:a,v:t,w:i,err:null})}},g=y,B=[[0,0],[0,1],[0,2],[0,3],[3,0],[1,1],[1,2],[1,3],[2,1],[2,2],[2,3],[3,1],[3,2],[3,3],[4,2],[4,3]],w={createNew:function(){var e={};return p.init3dArray(e,"ScalefacL",2,2,22),p.init4dArray(e,"ScalefacS",2,2,13,3),p.init3dArray(e,"Is",2,2,576),e},read:function(e,r,n,a){var t=n.numberOfChannels(),i=n.frameSize();if(i>2e3)return{v:null,bits:null,err:"mp3: framesize = "+i};var o=32;1===t&&(o=17);var s=i-o-4;0===n.protectionBit()&&(s-=2);var f=F(e,r,s,a.MainDataBegin);if(f.err)return{v:null,bits:null,err:f.err};for(var u=f.b,l=w.createNew(),c=0;c<2;c++)for(var d=0;d<t;d++){var S=u.BitPos(),b=B[a.ScalefacCompress[c][d]][0],v=B[a.ScalefacCompress[c][d]][1];if(1===a.WinSwitchFlag[c][d]&&2===a.BlockType[c][d])if(0!==a.MixedBlockFlag[c][d]){for(var y=0;y<8;y++)l.ScalefacL[c][d][y]=u.Bits(b);for(y=3;y<12;y++){var h=v;y<6&&(h=b);for(var p=0;p<3;p++)l.ScalefacS[c][d][y][p]=u.Bits(h)}}else for(y=0;y<12;y++){h=v;y<6&&(h=b);for(p=0;p<3;p++)l.ScalefacS[c][d][y][p]=u.Bits(h)}else{if(0===a.Scfsi[d][0]||0===c)for(y=0;y<6;y++)l.ScalefacL[c][d][y]=u.Bits(b);else if(1===a.Scfsi[d][0]&&1===c)for(y=0;y<6;y++)l.ScalefacL[1][d][y]=l.ScalefacL[0][d][y];if(0===a.Scfsi[d][1]||0===c)for(y=6;y<11;y++)l.ScalefacL[c][d][y]=u.Bits(b);else if(1===a.Scfsi[d][1]&&1===c)for(y=6;y<11;y++)l.ScalefacL[1][d][y]=l.ScalefacL[0][d][y];if(0===a.Scfsi[d][2]||0===c)for(y=11;y<16;y++)l.ScalefacL[c][d][y]=u.Bits(v);else if(1===a.Scfsi[d][2]&&1===c)for(y=11;y<16;y++)l.ScalefacL[1][d][y]=l.ScalefacL[0][d][y];if(0===a.Scfsi[d][3]||0===c)for(y=16;y<21;y++)l.ScalefacL[c][d][y]=u.Bits(v);else if(1===a.Scfsi[d][3]&&1===c)for(y=16;y<21;y++)l.ScalefacL[1][d][y]=l.ScalefacL[0][d][y]}var I=P(u,n,a,l,S,c,d);if(I)return{v:null,bits:null,err:I}}return{v:l,bits:u,err:null}}},F=function(e,r,n,a){if(n>1500)return{b:null,err:"mp3: size = "+n};var t;if(null!==r&&a>r.LenInBytes())return(i=new Uint8Array(e,0,n)).byteLength<n?{b:null,err:"maindata.Read (1)"}:{m:g.append(r,i),err:null};null!==r&&(t=r.Tail(a));var i,o=e.readFull(n);return o.err?{err:o.err}:(i=o.buf).byteLength<n?{b:null,err:"maindata.Read (2)"}:{b:g.createNew(p.concatBuffers(t,new Uint8Array(i.slice()).buffer)),err:null}},P=function(e,r,n,a,t,i,o){if(0===n.Part2_3Length[i][o]){for(var s=0;s<I.SamplesPerGr;s++)a.Is[i][o][s]=0;return null}var f=t+n.Part2_3Length[i][o]-1,u=0,l=0;if(1===n.WinSwitchFlag[i][o]&&2===n.BlockType[i][o])u=36,l=I.SamplesPerGr;else{var c=r.samplingFrequency().value,d=I.SfBandIndicesSet[c].L;if((s=n.Region0Count[i][o]+1)<0||p.len(d)<=s)return"mp3: readHuffman failed: invalid index i: "+s;u=d[s];var S=n.Region0Count[i][o]+n.Region1Count[i][o]+2;if(S<0||p.len(d)<=S)return"mp3: readHuffman failed: invalid index j: "+S;l=d[S]}for(var b=0;b<2*n.BigValues[i][o];b++){if(b>=p.len(a.Is[i][o]))return"mp3: is_pos was too big: "+b;var v=0;if(v=b<u?n.TableSelect[i][o][0]:b<l?n.TableSelect[i][o][1]:n.TableSelect[i][o][2],(y=m.decode(e,v)).err)return err;a.Is[i][o][b]=y.x,b++,a.Is[i][o][b]=y.y}for(v=n.Count1TableSelect[i][o]+32,b=2*n.BigValues[i][o];b<=572&&e.BitPos()<=f;){var y;if((y=m.decode(e,v)).err)return err;if(a.Is[i][o][b]=y.v,++b>=I.SamplesPerGr)break;if(a.Is[i][o][b]=y.w,++b>=I.SamplesPerGr)break;if(a.Is[i][o][b]=y.x,++b>=I.SamplesPerGr)break;a.Is[i][o][b]=y.y,b++}for(e.BitPos()>f+1&&(b-=4),n.Count1[i][o]=b;b<I.SamplesPerGr;)a.Is[i][o][b]=0,b++;return e.SetPos(f+1),null},L=y,A=r,C=a,M={createNew:function(){var e={};return C.init2dArray(e,"Scfsi",2,4),C.init2dArray(e,"Part2_3Length",2,2),C.init2dArray(e,"BigValues",2,2),C.init2dArray(e,"GlobalGain",2,2),C.init2dArray(e,"ScalefacCompress",2,2),C.init2dArray(e,"WinSwitchFlag",2,2),C.init2dArray(e,"BlockType",2,2),C.init2dArray(e,"MixedBlockFlag",2,2),C.init3dArray(e,"TableSelect",2,2,3),C.init3dArray(e,"SubblockGain",2,2,3),C.init2dArray(e,"Region0Count",2,2),C.init2dArray(e,"Region1Count",2,2),C.init2dArray(e,"Preflag",2,2),C.init2dArray(e,"ScalefacScale",2,2),C.init2dArray(e,"Count1TableSelect",2,2),C.init2dArray(e,"Count1",2,2),e},read:function(e,r,n){var a=r.numberOfChannels(),t=r.frameSize();if(t>2e3)return{v:null,err:"mp3: framesize = "+t};var i=32;1===a&&(i=17),r.protectionBit();var o=e.readFull(i);if(o.err)return{err:o.err};var s=o.buf;if(s.byteLength<i)return{v:null,pos:n,err:"mp3: couldn't read sideinfo "+i+" bytes"};var f=L.createNew(new Uint8Array(s.slice()).buffer),u=M.createNew();u.MainDataBegin=f.Bits(9),r.mode()===A.ModeSingleChannel?u.PrivateBits=f.Bits(5):u.PrivateBits=f.Bits(3);for(var l=0;l<a;l++)for(var c=0;c<4;c++)u.Scfsi[l][c]=f.Bits(1);for(var d=0;d<2;d++)for(l=0;l<a;l++){if(u.Part2_3Length[d][l]=f.Bits(12),u.BigValues[d][l]=f.Bits(9),u.GlobalGain[d][l]=f.Bits(8),u.ScalefacCompress[d][l]=f.Bits(4),u.WinSwitchFlag[d][l]=f.Bits(1),1===u.WinSwitchFlag[d][l]){u.BlockType[d][l]=f.Bits(2),u.MixedBlockFlag[d][l]=f.Bits(1);for(var S=0;S<2;S++)u.TableSelect[d][l][S]=f.Bits(5);for(var b=0;b<3;b++)u.SubblockGain[d][l][b]=f.Bits(3);2===u.BlockType[d][l]&&0===u.MixedBlockFlag[d][l]?u.Region0Count[d][l]=8:u.Region0Count[d][l]=7,u.Region1Count[d][l]=20-u.Region0Count[d][l]}else{for(S=0;S<3;S++)u.TableSelect[d][l][S]=f.Bits(5);u.Region0Count[d][l]=f.Bits(4),u.Region1Count[d][l]=f.Bits(3),u.BlockType[d][l]=0}u.Preflag[d][l]=f.Bits(1),u.ScalefacScale[d][l]=f.Bits(1),u.Count1TableSelect[d][l]=f.Bits(1)}return{v:u,err:null}}},D=r,k=o,q=S,x=w,T=M,G=new Float64Array(8207),R=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0],U=new Float64Array(R.length);U.set(R);for(var V=0;V<G.length;V++)G[V]=Math.pow(V,4/3);var z=[];for(V=0;V<64;V++)z.push(new Float32Array(32));for(V=0;V<64;V++)for(var _=0;_<32;_++)z[V][_]=Math.cos((16+V)*(2*_+1)*(Math.PI/64));var N=new Float32Array([0,-15259e-9,-15259e-9,-15259e-9,-15259e-9,-15259e-9,-15259e-9,-30518e-9,-30518e-9,-30518e-9,-30518e-9,-45776e-9,-45776e-9,-61035e-9,-61035e-9,-76294e-9,-76294e-9,-91553e-9,-106812e-9,-106812e-9,-12207e-8,-137329e-9,-152588e-9,-167847e-9,-198364e-9,-213623e-9,-244141e-9,-259399e-9,-289917e-9,-320435e-9,-366211e-9,-396729e-9,-442505e-9,-473022e-9,-534058e-9,-579834e-9,-62561e-8,-686646e-9,-747681e-9,-808716e-9,-88501e-8,-961304e-9,-.001037598,-.001113892,-.001205444,-.001296997,-.00138855,-.001480103,-.001586914,-.001693726,-.001785278,-.001907349,-.00201416,-.002120972,-.002243042,-.002349854,-.002456665,-.002578735,-.002685547,-.002792358,-.00289917,-.002990723,-.003082275,-.003173828,.003250122,.003326416,.003387451,.003433228,.003463745,.003479004,.003479004,.003463745,.003417969,.003372192,.00328064,.003173828,.003051758,.002883911,.002700806,.002487183,.002227783,.001937866,.001617432,.001266479,869751e-9,442505e-9,-30518e-9,-549316e-9,-.001098633,-.001693726,-.002334595,-.003005981,-.003723145,-.004486084,-.0052948,-.006118774,-.007003784,-.007919312,-.008865356,-.009841919,-.010848999,-.011886597,-.012939453,-.014022827,-.01512146,-.016235352,-.017349243,-.018463135,-.019577026,-.020690918,-.021789551,-.022857666,-.023910522,-.024932861,-.025909424,-.02684021,-.02772522,-.028533936,-.029281616,-.029937744,-.030532837,-.031005859,-.031387329,-.031661987,-.031814575,-.031845093,-.031738281,-.031478882,.031082153,.030517578,.029785156,.028884888,.027801514,.026535034,.025085449,.023422241,.021575928,.01953125,.01725769,.014801025,.012115479,.009231567,.006134033,.002822876,-686646e-9,-.004394531,-.00831604,-.012420654,-.016708374,-.021179199,-.025817871,-.030609131,-.035552979,-.040634155,-.045837402,-.051132202,-.056533813,-.06199646,-.067520142,-.073059082,-.07862854,-.084182739,-.089706421,-.095169067,-.100540161,-.105819702,-.110946655,-.115921021,-.120697021,-.125259399,-.129562378,-.133590698,-.137298584,-.140670776,-.143676758,-.146255493,-.148422241,-.150115967,-.151306152,-.15196228,-.152069092,-.151596069,-.150497437,-.148773193,-.146362305,-.143264771,-.139450073,-.134887695,-.129577637,-.123474121,-.116577148,-.108856201,.100311279,.090927124,.080688477,.069595337,.057617188,.044784546,.031082153,.01651001,.001068115,-.015228271,-.03237915,-.050354004,-.069168091,-.088775635,-.109161377,-.130310059,-.152206421,-.174789429,-.198059082,-.221984863,-.246505737,-.271591187,-.297210693,-.323318481,-.349868774,-.376800537,-.404083252,-.431655884,-.459472656,-.487472534,-.515609741,-.543823242,-.572036743,-.600219727,-.628295898,-.656219482,-.683914185,-.71131897,-.738372803,-.765029907,-.791213989,-.816864014,-.841949463,-.866363525,-.890090942,-.91305542,-.935195923,-.956481934,-.976852417,-.996246338,-1.01461792,-1.031936646,-1.048156738,-1.063217163,-1.07711792,-1.089782715,-1.101211548,-1.111373901,-1.120223999,-1.127746582,-1.133926392,-1.138763428,-1.142211914,-1.144287109,1.144989014,1.144287109,1.142211914,1.138763428,1.133926392,1.127746582,1.120223999,1.111373901,1.101211548,1.089782715,1.07711792,1.063217163,1.048156738,1.031936646,1.01461792,.996246338,.976852417,.956481934,.935195923,.91305542,.890090942,.866363525,.841949463,.816864014,.791213989,.765029907,.738372803,.71131897,.683914185,.656219482,.628295898,.600219727,.572036743,.543823242,.515609741,.487472534,.459472656,.431655884,.404083252,.376800537,.349868774,.323318481,.297210693,.271591187,.246505737,.221984863,.198059082,.174789429,.152206421,.130310059,.109161377,.088775635,.069168091,.050354004,.03237915,.015228271,-.001068115,-.01651001,-.031082153,-.044784546,-.057617188,-.069595337,-.080688477,-.090927124,.100311279,.108856201,.116577148,.123474121,.129577637,.134887695,.139450073,.143264771,.146362305,.148773193,.150497437,.151596069,.152069092,.15196228,.151306152,.150115967,.148422241,.146255493,.143676758,.140670776,.137298584,.133590698,.129562378,.125259399,.120697021,.115921021,.110946655,.105819702,.100540161,.095169067,.089706421,.084182739,.07862854,.073059082,.067520142,.06199646,.056533813,.051132202,.045837402,.040634155,.035552979,.030609131,.025817871,.021179199,.016708374,.012420654,.00831604,.004394531,686646e-9,-.002822876,-.006134033,-.009231567,-.012115479,-.014801025,-.01725769,-.01953125,-.021575928,-.023422241,-.025085449,-.026535034,-.027801514,-.028884888,-.029785156,-.030517578,.031082153,.031478882,.031738281,.031845093,.031814575,.031661987,.031387329,.031005859,.030532837,.029937744,.029281616,.028533936,.02772522,.02684021,.025909424,.024932861,.023910522,.022857666,.021789551,.020690918,.019577026,.018463135,.017349243,.016235352,.01512146,.014022827,.012939453,.011886597,.010848999,.009841919,.008865356,.007919312,.007003784,.006118774,.0052948,.004486084,.003723145,.003005981,.002334595,.001693726,.001098633,549316e-9,30518e-9,-442505e-9,-869751e-9,-.001266479,-.001617432,-.001937866,-.002227783,-.002487183,-.002700806,-.002883911,-.003051758,-.003173828,-.00328064,-.003372192,-.003417969,-.003463745,-.003479004,-.003479004,-.003463745,-.003433228,-.003387451,-.003326416,.003250122,.003173828,.003082275,.002990723,.00289917,.002792358,.002685547,.002578735,.002456665,.002349854,.002243042,.002120972,.00201416,.001907349,.001785278,.001693726,.001586914,.001480103,.00138855,.001296997,.001205444,.001113892,.001037598,961304e-9,88501e-8,808716e-9,747681e-9,686646e-9,62561e-8,579834e-9,534058e-9,473022e-9,442505e-9,396729e-9,366211e-9,320435e-9,289917e-9,259399e-9,244141e-9,213623e-9,198364e-9,167847e-9,152588e-9,137329e-9,12207e-8,106812e-9,106812e-9,91553e-9,76294e-9,76294e-9,61035e-9,61035e-9,45776e-9,45776e-9,30518e-9,30518e-9,30518e-9,30518e-9,15259e-9,15259e-9,15259e-9,15259e-9,15259e-9,15259e-9],0,512),W=new Float32Array([.857493,.881742,.949629,.983315,.995518,.999161,.999899,.999993]),O=new Float32Array([-.514496,-.471732,-.313377,-.181913,-.094574,-.040966,-.014199,-.0037]),E=[0,.267949,.57735,1,1.732051,3.732051],H={createNew:function(e,r,n,a){var t={header:e,sideInfo:r,mainData:n,mainDataBits:a};t.store=new Array(2);for(var i=0;i<t.store.length;i++){for(var o=new Array(32),s=0;s<o.length;s++)o[s]=new Float32Array(18);t.store[i]=o}t.v_vec=new Array(2);for(i=0;i<t.v_vec.length;i++)t.v_vec[i]=new Float32Array(1024);return t.decode=function(){var e,r=t.header.numberOfChannels();e=1===r?new Uint8Array(D.BytesPerFrame/2):new Uint8Array(D.BytesPerFrame);for(var n=0;n<2;n++){for(var a=0;a<r;a++)t.requantize(n,a),t.reorder(n,a);t.stereo(n);for(a=0;a<r;a++)t.antialias(n,a),t.hybridSynthesis(n,a),t.frequencyInversion(n,a),1===r?t.subbandSynthesis(n,a,e.subarray(4*D.SamplesPerGr*n/2)):t.subbandSynthesis(n,a,e.subarray(4*D.SamplesPerGr*n))}return e},t.antialias=function(e,r){if(1!==t.sideInfo.WinSwitchFlag[e][r]||2!==t.sideInfo.BlockType[e][r]||0!==t.sideInfo.MixedBlockFlag[e][r]){var n=32;1===t.sideInfo.WinSwitchFlag[e][r]&&2===t.sideInfo.BlockType[e][r]&&1===t.sideInfo.MixedBlockFlag[e][r]&&(n=2);for(var a=1;a<n;a++)for(var i=0;i<8;i++){var o=18*a-1-i,s=18*a+i,f=t.mainData.Is[e][r][o]*W[i]-t.mainData.Is[e][r][s]*O[i],u=t.mainData.Is[e][r][s]*W[i]+t.mainData.Is[e][r][o]*O[i];t.mainData.Is[e][r][o]=f,t.mainData.Is[e][r][s]=u}}},t.hybridSynthesis=function(e,r){for(var n=0;n<32;n++){var a=t.sideInfo.BlockType[e][r];1===t.sideInfo.WinSwitchFlag[e][r]&&1===t.sideInfo.MixedBlockFlag[e][r]&&n<2&&(a=0);for(var i=new Float32Array(18),o=0;o<18;o++)i[o]=t.mainData.Is[e][r][18*n+o];var s=q.Win(i,a);for(o=0;o<18;o++)t.mainData.Is[e][r][18*n+o]=s[o]+t.store[r][n][o],t.store[r][n][o]=s[o+18]}},t.frequencyInversion=function(e,r){for(var n=1;n<32;n+=2)for(var a=1;a<18;a+=2)t.mainData.Is[e][r][18*n+a]=-t.mainData.Is[e][r][18*n+a]},t.stereo=function(e){if(t.header.useMSStereo()){var r=1;t.sideInfo.Count1[e][0]>t.sideInfo.Count1[e][1]&&(r=0);var n=t.sideInfo.Count1[e][r];const o=Math.SQRT2/2;for(r=0;r<n;r++){var a=(t.mainData.Is[e][0][r]+t.mainData.Is[e][1][r])*o,i=(t.mainData.Is[e][0][r]-t.mainData.Is[e][1][r])*o;t.mainData.Is[e][0][r]=a,t.mainData.Is[e][1][r]=i}}if(t.header.useIntensityStereo()){var o=t.header.samplingFrequency();if(1===t.sideInfo.WinSwitchFlag[e][0]&&2===t.sideInfo.BlockType[e][0])if(0!==t.sideInfo.MixedBlockFlag[e][0]){for(var s=0;s<8;s++)D.SfBandIndicesSet[o].L[s]>=t.sideInfo.Count1[e][1]&&t.stereoProcessIntensityLong(e,s);for(s=3;s<12;s++)3*D.SfBandIndicesSet[o].S[s]>=t.sideInfo.Count1[e][1]&&t.stereoProcessIntensityShort(e,s)}else for(s=0;s<12;s++)3*D.SfBandIndicesSet[o].S[s]>=t.sideInfo.Count1[e][1]&&t.stereoProcessIntensityShort(e,s);else for(s=0;s<21;s++)D.SfBandIndicesSet[o].L[s]>=t.sideInfo.Count1[e][1]&&t.stereoProcessIntensityLong(e,s)}},t.stereoProcessIntensityLong=function(e,r){var n=0,a=0,i=t.mainData.ScalefacL[e][0][r];if(i<7){var o=t.header.samplingFrequency().value,s=D.SfBandIndicesSet[o].L[r],f=D.SfBandIndicesSet[o].L[r+1];6===i?(n=1,a=0):(n=E[i]/(1+E[i]),a=1/(1+E[i]));for(var u=s;u<f;u++)t.mainData.Is[e][0][u]*=n,t.mainData.Is[e][1][u]*=a}},t.stereoProcessIntensityShort=function(e,r){for(var n=0,a=0,i=t.header.samplingFrequency().value,o=D.SfBandIndicesSet[i].S[r+1]-D.SfBandIndicesSet[i].S[r],s=0;s<3;s++){var f=t.mainData.ScalefacS[e][0][r][s];if(f<7){var u=3*D.SfBandIndicesSet[i].S[r]+o*s,l=u+o;6===f?(n=1,a=0):(n=E[f]/(1+E[f]),a=1/(1+E[f]));for(var c=u;c<l;c++)t.mainData.Is[e][0][c]*=n,t.mainData.Is[e][1][c]*=a}}},t.requantize=function(e,r){var n=t.header.samplingFrequency().value;if(1===t.sideInfo.WinSwitchFlag[e][r]&&2===t.sideInfo.BlockType[e][r])if(0!==t.sideInfo.MixedBlockFlag[e][r]){for(var a=0,i=D.SfBandIndicesSet[n].L[a+1],o=0;o<36;o++)o===i&&(a++,i=D.SfBandIndicesSet[n].L[a+1]),t.requantizeProcessLong(e,r,o,a);a=3,i=3*D.SfBandIndicesSet[n].S[a+1];var s=D.SfBandIndicesSet[n].S[a+1]-D.SfBandIndicesSet[n].S[a];for(o=36;o<int(f.sideInfo.Count1[e][r]);){o===i&&(a++,i=3*D.SfBandIndicesSet[n].S[a+1],s=D.SfBandIndicesSet[n].S[a+1]-D.SfBandIndicesSet[n].S[a]);for(var u=0;u<3;u++)for(var l=0;l<s;l++)t.requantizeProcessShort(e,r,o,a,u),o++}}else for(a=0,i=3*D.SfBandIndicesSet[n].S[a+1],s=D.SfBandIndicesSet[n].S[a+1]-D.SfBandIndicesSet[n].S[a],o=0;o<t.sideInfo.Count1[e][r];){o===i&&(a++,i=3*D.SfBandIndicesSet[n].S[a+1],s=D.SfBandIndicesSet[n].S[a+1]-D.SfBandIndicesSet[n].S[a]);for(u=0;u<3;u++)for(l=0;l<s;l++)t.requantizeProcessShort(e,r,o,a,u),o++}else for(a=0,i=D.SfBandIndicesSet[n].L[a+1],o=0;o<t.sideInfo.Count1[e][r];o++)o===i&&(a++,i=D.SfBandIndicesSet[n].L[a+1]),t.requantizeProcessLong(e,r,o,a)},t.requantizeProcessLong=function(e,r,n,a){var i=.5;0!==t.sideInfo.ScalefacScale[e][r]&&(i=1);var o=t.sideInfo.Preflag[e][r]*U[a],s=-i*(t.mainData.ScalefacL[e][r][a]+o)+.25*(t.sideInfo.GlobalGain[e][r]-210),f=Math.pow(2,s),u=0;u=t.mainData.Is[e][r][n]<0?-G[-t.mainData.Is[e][r][n]]:G[t.mainData.Is[e][r][n]],t.mainData.Is[e][r][n]=f*u},t.requantizeProcessShort=function(e,r,n,a,i){var o=.5;0!==t.sideInfo.ScalefacScale[e][r]&&(o=1);var s=-o*t.mainData.ScalefacS[e][r][a][i]+.25*(t.sideInfo.GlobalGain[e][r]-210-8*t.sideInfo.SubblockGain[e][r][i]),f=Math.pow(2,s),u=0;u=t.mainData.Is[e][r][n]<0?-G[-t.mainData.Is[e][r][n]]:G[t.mainData.Is[e][r][n]],t.mainData.Is[e][r][n]=f*u},t.reorder=function(e,r){var n=new Float32Array(D.SamplesPerGr),a=t.header.samplingFrequency().value;if(1===t.sideInfo.WinSwitchFlag[e][r]&&2==t.sideInfo.BlockType[e][r]){var i=0;0!==t.sideInfo.MixedBlockFlag[e][r]&&(i=3);var o=3*D.SfBandIndicesSet[a].S[i+1],s=D.SfBandIndicesSet[a].S[i+1]-D.SfBandIndicesSet[a].S[i],f=36;for(0===i&&(f=0);f<D.SamplesPerGr;){if(f===o){for(var u=3*D.SfBandIndicesSet[a].S[i],l=0;l<3*s;l++)t.mainData.Is[e][r][u+l]=n[l];if(f>=t.sideInfo.Count1[e][r])return;i++,o=3*D.SfBandIndicesSet[a].S[i+1],s=D.SfBandIndicesSet[a].S[i+1]-D.SfBandIndicesSet[a].S[i]}for(var c=0;c<3;c++)for(u=0;u<s;u++)n[3*u+c]=t.mainData.Is[e][r][f],f++}for(u=3*D.SfBandIndicesSet[a].S[12],l=0;l<3*s;l++)t.mainData.Is[e][r][u+l]=n[l]}},t.subbandSynthesis=function(e,r,n){for(var a=new Float32Array(512),i=new Float32Array(32),o=t.header.numberOfChannels(),s=0;s<18;s++){t.v_vec[r].set(t.v_vec[r].slice(0,960),64);for(var f=t.mainData.Is[e][r],u=0;u<32;u++)i[u]=f[18*u+s];for(u=0;u<64;u++){for(var l=0,c=0;c<32;c++)l+=z[u][c]*i[c];t.v_vec[r][u]=l}var d=t.v_vec[r];for(u=0;u<512;u+=64)a.set(d.slice(u<<1>>>0,32+(u<<1>>>0)),u),a.set(d.slice(96+(u<<1>>>0),128+(u<<1>>>0)),u+32);for(u=0;u<512;u++)a[u]*=N[u];for(u=0;u<32;u++){for(l=0,c=0;c<512;c+=32)l+=a[c+u];var S=32767*l;S>32767?S=32767:S<-32767&&(S=-32767);var b,v=S;b=1===o?2*(32*s+u):4*(32*s+u),0===r?(n[b]=v,n[b+1]=v>>>8>>>0):(n[b+2]=v,n[b+3]=v>>>8>>>0)}}return n},t.samplingFrequency=function(){return t.header.samplingFrequency().Int()},t},readCRC:function(e){var r=e.readFull(2);return r.err?{err:r.err}:r.buf.byteLength<2?"mp3: error at readCRC":void 0},read:function(e,r,n){var a=k.read(e,r);if(a.err)return{f:null,position:0,err:a.err};var t=a.position,i=a.h;if(0===i.protectionBit()){var o=H.readCRC(e);if(void 0!==o)return{f:null,position:0,err:o}}if(i.id()!==D.Version1)return{f:null,position:0,err:"mp3: only MPEG version 1 (want "+D.Version1+"; got "+i.id()+") is supported"};if(i.layer()!==D.Layer3)return{f:null,position:0,err:"mp3: only layer3 (want "+D.Version1+"; got "+i.layer()+") is supported"};var s=T.read(e,i,t);if(s.err)return{f:null,position:0,err:s.err};var f=s.v,u=null;if(n&&(u=n.mainDataBits),(s=x.read(e,u,i,f)).err)return{f:null,position:0,err:s.err};var l=H.createNew(i,f,s.v,s.bits);return n&&(l.store=n.store,l.v_vec=n.v_vec),{f:l,position:t,err:null}}},j=H,J=a,Q=r,K=o;var X={newSource:function(e){var r={buf:e,pos:0,seek:function(e){return e<0||e>r.buf.byteLength?{err:"position not correct"}:(r.pos=e,{pos:r.pos})},readFull:function(e){try{var n=Math.min(r.buf.byteLength-r.pos,e),a=new Uint8Array(r.buf,r.pos,n);return r.pos+=a.byteLength,{buf:a,err:null}}catch(t){return{buf:null,err:t.toString()}}},getPos:function(){return r.pos>3?r.pos-3:r.pos},skipTags:function(){var e=r.readFull(3);if(e.err)return{err:e.err};var n=e.buf;switch(String.fromCharCode.apply(null,n)){case"TAG":if((e=r.readFull(125)).err)return{err:e.err};n=e.buf;break;case"ID3":if((e=r.readFull(3)).err)return{err:e.err};if((e=r.readFull(4)).err)return{err:e.err};if(4!==(n=e.buf).byteLength)return{err:"data not enough."};var a=n[0]>>>0<<21>>>0|n[1]>>>0<<14>>>0|n[2]>>>0<<7>>>0|n[3]>>>0;if((e=r.readFull(a)).err)return{err:e.err};n=e.buf;break;default:r.unread(n)}return{}},unread:function(e){r.pos-=e.byteLength},rewind:function(){r.pos=0}};return r},newDecoder:function(e){var r=X.newSource(e),n={source:r,sampleRate:0,frame:null,frameStarts:[],buf:null,pos:0,length:-1,readFrame:function(){var e=j.read(n.source,n.source.pos,n.frame);if(e.err)return{err:e.err};n.frame=e.f;var r=n.frame.decode();return n.buf=J.concatBuffers(n.buf,r),{}},decode:function(){for(;!n.readFrame().err;);return n.buf},ensureFrameStartsAndLength:function(){if(-1!==n.length)return{};var e=n.source.pos;n.source.rewind();var r=n.source.skipTags();if(r.err)return{err:r.err};for(var a=0;;){var t;if((t=K.read(n.source,n.source.pos)).err){if(t.err.toString().indexOf("UnexpectedEOF")>-1)break;return{err:t.err}}if(n.frameStarts.push(t.position),a+=Q.BytesPerFrame,(t=n.source.readFull(t.h.frameSize()-4)).err)break}return n.length=a,(t=n.source.seek(e)).err?t:{}}},a=r.skipTags();if(a&&a.err)return null;var t=n.readFrame();return t.err?null:(n.sampleRate=n.frame.samplingFrequency(),(t=n.ensureFrameStartsAndLength()).err?null:n)}},Y=X;exports.jsMp3=Y;

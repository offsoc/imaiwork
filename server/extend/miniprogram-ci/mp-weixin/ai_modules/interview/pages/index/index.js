"use strict";const e=require("../../../../common/vendor.js"),i=require("../../../../common/assets.js"),r=require("../../../../api/interview.js"),t=require("../../../../hooks/useCopy.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("empty"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../../components/empty/empty.js"))();const s=e.defineComponent({__name:"index",setup(s){const n=e.reactive({job_id:"",user_id:""}),u=e.ref([]),a=e.ref({}),o=i=>{const r=new Date(i);return e.index.$u.timeFormat(r,"yyyy/mm/dd")},{copy:d}=t.useCopy(),c=async()=>{const e=await r.getInterviewJobList({user_id:n.user_id,job_id:n.job_id});u.value=e},l=async()=>{if(n.job_id){const e=await r.getInterviewJobDetail({id:n.job_id});a.value=e}},_=e.ref(!1);return e.onLoad((e=>{n.job_id=e.job_id,n.user_id=e.user_id,(async()=>{_.value=!0;try{await Promise.allSettled([c(),l()])}finally{_.value=!1}})()})),(t,s)=>e.e({a:!e.unref(_)},e.unref(_)?{}:e.e({b:e.p({background:{background:"transparent"},"border-bottom":!1,title:"面试","title-bold":!0}),c:e.t(e.unref(n).user_id?"应聘者":"今天怎么样？"),d:e.t(e.unref(n).user_id?`我是${e.unref(a).company||""}企业的AIHR，请选择您要应聘的岗位！`:"我是您的智能AI面试官，有什么岗位需要帮助您进行招聘？"),e:i._imports_0$24,f:e.t(e.unref(n).job_id?"在招岗位":"邀约面试"),g:e.unref(u).length>0},e.unref(u).length>0?{h:e.f(e.unref(u),((i,t,s)=>({a:i.avatar,b:e.t(i.name),c:e.t(i.desc),d:e.t(o(i.create_time)),e:e.o((t=>(async i=>{if(n.user_id)try{e.index.showLoading({title:"验证中..."});const{type:t,msg:s,id:n}=await r.interviewCheck({job_id:i.id});1==t?e.index.$u.route({url:"/ai_modules/interview/pages/interview_detail/interview_detail",params:{id:i.id}}):[2,3,4,5].includes(t)?e.index.$u.route({url:"/ai_modules/interview/pages/full_screen/full_screen",params:{id:i.id,type:t,record_id:n}}):e.index.showToast({title:s,icon:"none",duration:2e3})}finally{e.index.hideLoading()}else{e.index.showLoading({title:"生成中..."});try{const{url:e}=await r.generateJobLink({job_id:i.id});d(e)}catch(t){e.index.showToast({title:"生成失败",icon:"none",duration:2e3})}finally{e.index.hideLoading()}}})(i)),i.id),f:i.id}))),i:e.t(e.unref(n).user_id?"参加面试":"分享")}:{}))}}),n=e._export_sfc(s,[["__scopeId","data-v-f50a90c8"]]);wx.createPage(n);

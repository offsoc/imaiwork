"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../api/sph.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("u-input")+e.resolveComponent("u-button"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+t)();const t=()=>"../../components/gen-loading/gen-loading.js",u=e.defineComponent({__name:"keywords",setup(t){const u=e.ref(""),s=e.ref(""),i=e.ref(!1),o=e.shallowRef(),n=e.computed((()=>"video"===u.value?"创建视频获客任务":"创建账号获客任务")),a=async()=>{var t;if(s.value)try{i.value=!0;let e=await r.getAiKeywords({keyword:s.value,targetCount:30,channelVersion:"video"==u.value?2:3});e&&e.length>0&&(e=e.filter((e=>-1==e.indexOf("="))).map((e=>e.trim())),l(JSON.stringify(e))),null==(t=o.value)||t.resolveLastStep()}catch(n){e.index.showToast({title:n,icon:"none",duration:3e3})}finally{i.value=!1}else e.index.showToast({title:"请输入您想获取的线索方向",icon:"none"})},l=r=>{e.index.$u.route({url:"/ai_modules/sph/pages/create_task/create_task",params:{type:"video"==u.value?0:1,keywords:r}})};return e.onLoad((({type:e})=>{u.value=e})),(r,t)=>e.e({a:e.p({title:e.unref(n),background:{backgroundColor:"#f6f6f6"}}),b:e.o((r=>e.isRef(s)?s.value=r:null)),c:e.p({placeholder:"请输您想获取的线索方向",type:"textarea",height:"300",autoHeight:!0,maxLength:"300",modelValue:e.unref(s)}),d:e.o(a),e:e.p({type:"primary",shape:"circle","custom-style":{width:"100%",height:"100rpx",boxShadow:"0 6px 12px 0 rgba(0, 101, 251, 0.20)",fontSize:"26rpx"}}),f:e.o((e=>l())),g:e.p({shape:"circle","custom-style":{width:"100%",height:"100rpx",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1)",backgroundColor:"transparent",fontSize:"26rpx"}}),h:e.unref(i)},e.unref(i)?{i:e.sr(o,"250eae1d-4",{k:"genLoadingRef"})}:{})}});wx.createPage(u);

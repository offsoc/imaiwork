"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../common/assets.js"),r=require("../../../../api/sph.js"),t=require("../../../../hooks/usePaging.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-navbar")+e.resolveComponent("empty"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-navbar/u-navbar.js")+o+(()=>"../../../../components/empty/empty.js")+a)();const o=()=>"../../components/task-card/task-card.js",a=()=>"../../components/task-edit/task-edit.js",i=e.defineComponent({__name:"index",setup(o){const a=e.reactive({iconColor:"#ffffff",titleColor:"#ffffff",background:"transparent"}),{pager:i,getLists:n}=t.usePaging({fetchFun:r.getTaskList,params:{page_size:20}}),u=s=>{e.index.navigateTo({url:`/ai_modules/sph/pages/create_task/create_task?type=${s}`})},l=e.ref(!1),c=e.shallowRef(),f=async s=>{l.value=!0,await e.nextTick$1(),setTimeout((()=>{var e,r;null==(e=c.value)||e.open(),null==(r=c.value)||r.setFormData(s)}),100)},p=async e=>{clearTimeout(d),g()},m=s=>{e.index.navigateTo({url:`/ai_modules/sph/pages/task_detail/task_detail?task_id=${s}`})};let d;const g=async()=>{await n();const{lists:e}=i;e.some((e=>1==e.status||0==e.status))&&(d=setTimeout(g,3e3))};return e.onShow(g),e.onUnload((()=>{clearTimeout(d)})),e.onPageScroll((e=>{const{scrollTop:s}=e;s>200?(a.iconColor="#000000",a.titleColor="#000000",a.background="#ffffff"):(a.iconColor="#ffffff",a.titleColor="#ffffff",a.background="transparent")})),(r,t)=>e.e({a:e.p({"is-fixed":!1,"border-bottom":!1,background:{background:e.unref(a).background},title:"AI自动获客","title-color":e.unref(a).titleColor,"title-bold":!0,"back-icon-color":e.unref(a).iconColor}),b:e.unref(a).background,c:s._imports_0$30,d:s._imports_1$19,e:e.o((e=>u(2))),f:s._imports_2$7,g:e.o((e=>u(3))),h:e.unref(i).lists.length},e.unref(i).lists.length?{i:e.f(e.unref(i).lists,((s,r,t)=>({a:e.o(p,r),b:e.o(m,r),c:e.o(f,r),d:"7f4411c5-1-"+t,e:e.p({item:s}),f:r})))}:{},{j:e.unref(l)},e.unref(l)?{k:e.sr(c,"7f4411c5-3",{k:"taskEditRef"}),l:e.o((e=>l.value=!1)),m:e.o((e=>g()))}:{})}});i.__runtimeHooks=1;const n=e._export_sfc(i,[["__scopeId","data-v-7f4411c5"]]);wx.createPage(n);

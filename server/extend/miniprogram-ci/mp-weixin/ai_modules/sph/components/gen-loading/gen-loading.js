"use strict";const e=require("../../../../common/vendor.js"),t=require("../../../../common/assets.js"),a=e.defineComponent({__name:"gen-loading",setup(a,{expose:i}){const s=[{id:0,state:"waiting",title:"ðŸ” æ­£åœ¨åˆ†æžè¡Œä¸šä¿¡æ¯...",filesPreparedMax:100},{id:1,state:"waiting",title:"ðŸ§© è¯†åˆ«ç›®æ ‡å®¢æˆ·ç¾¤ä½“...",filesPreparedMax:100},{id:2,state:"waiting",title:"ðŸ”— è§£æžä¸Šä¸‹æ¸¸å…³è”åœºæ™¯...",filesPreparedMax:100},{id:3,state:"waiting",title:"ðŸŽ¯ æå–æ½œåœ¨è´¦å·ä¸»é¢˜...",filesPreparedMax:100},{id:4,state:"waiting",title:"âœ¨ ç”Ÿæˆå®¢æˆ·çº¿ç´¢å…³é”®è¯...",filesPreparedMax:100},{id:5,state:"waiting",title:"âœ¨âœ… æ­£åœ¨æ•´ç†ç»“æžœ...",filesPreparedMax:100}],r=s.length,n=e.ref(0),o=e.ref(JSON.parse(JSON.stringify(s))),l=e.computed((()=>n.value===r));let d=null;const f={0:35,1:40,2:40,3:35,4:40,5:40};function u(e){if(l.value)return e-Math.floor(r/2);{let t=n.value;if(e>n.value+1){const a=5.25;t+=(e-(n.value+1))*(1.5/a)}return e-t}}return function e(){const t=n.value,a=o.value.find((e=>e.id===t));if(!a)return;const i=function(e){const{id:t,state:a,start:i,filesPrepared:s=0,filesPreparedMax:r=0}=e,n={id:t,state:a};if(!i&&(n.start=new Date,n.state="progress",!r))return n;if(r){if(5===t&&s>=99)return n.filesPrepared=99,n;const e=Math.min(s+1,r);n.filesPrepared=e}return r&&n.filesPrepared!==r||(n.finish=new Date,n.state="done"),n}(a);o.value[t]={...a,...i},"done"===i.state&&(n.value+=1);const s=f[n.value]??1500;d=setTimeout(e,s)}(),e.onUnmounted((()=>{clearTimeout(d)})),i({resolveLastStep:function(){const e=o.value[4];e&&"progress"===e.state&&(e.filesPrepared=100,e.finish=new Date,e.state="done",n.value+=1)}}),(a,i)=>({a:e.f(e.unref(o),((a,i,s)=>e.e({a:"done"===a.state},"done"===a.state?{b:t._imports_0$42}:{},{c:"progress"==a.state},"progress"==a.state?{d:t._imports_1$26}:{},{e:"waiting"==a.state},"waiting"==a.state?{f:t._imports_2$11}:{},{g:e.t(a.title),h:"progress"===a.state},(a.state,{}),{i:void 0!==a.filesPrepared},void 0!==a.filesPrepared?{j:e.t(a.filesPrepared),k:e.t(a.filesPreparedMax)}:{},{l:i,m:"waiting"!==a.state?1:"",n:1-.225*Math.abs(i-e.unref(n)),o:`translateY(${100*u(i)}%)`}))),b:e.unref(l)?1:""})}});wx.createComponent(a);

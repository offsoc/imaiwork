"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../hooks/useLockFn.js"),r=require("../../../../api/sph.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-button")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const o=e.defineComponent({__name:"task-edit",emits:["close","success"],setup(o,{expose:u,emit:i}){const n=e.reactive({id:"",name:""}),t=e.ref(!1),a=()=>{t.value=!1},p=()=>{t.value=!1,i("close")},{lockFn:c,isLock:l}=s.useLockFn((async()=>{if(n.name){e.index.showLoading({title:"更新中...",mask:!0});try{await r.updateTask(n),p(),i("success"),e.index.hideLoading(),e.index.showToast({title:"更新成功",icon:"none",duration:3e3})}catch(s){e.index.hideLoading(),e.index.showToast({title:s,icon:"none",duration:3e3})}}else e.index.$u.toast("请输入任务名称")}));return u({open:()=>{t.value=!0},setFormData:e=>{n.id=e.id,n.name=e.name}}),(s,r)=>({a:e.o((s=>e.unref(n).name=s)),b:e.p({placeholder:"请输入任务名称","placeholder-style":"font-size:26rpx;color:rgba(0,0,0,0.2)",focus:!0,maxlength:30,modelValue:e.unref(n).name}),c:e.o(p),d:e.p({shape:"circle","custom-style":{height:"100rpx",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1)",backgroundColor:"transparent",color:"rgba(0,0,0,0.3)",fontSize:"26rpx"}}),e:e.o(e.unref(c)),f:e.p({type:"primary",shape:"circle","custom-style":{flex:1,height:"100rpx",boxShadow:"0 6px 12px 0 rgba(0, 101, 251, 0.20)",fontSize:"26rpx"},disabled:!e.unref(n).name}),g:e.o(a),h:e.o((s=>e.isRef(t)?t.value=s:null)),i:e.p({mode:"center",width:"90%","border-radius":"64",closeable:!1,modelValue:e.unref(t)})})}});wx.createComponent(o);

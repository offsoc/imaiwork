"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../api/device.js"),r=require("../../enums/index.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("u-button"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const i=e.defineComponent({__name:"device_choose",setup(i){const t=e.ref([]),u=e.shallowRef(),o=e.ref([]),n=async(e,r)=>{var i,t;try{const{lists:t}=await s.getDeviceList({page_no:e,page_size:r});null==(i=u.value)||i.complete(t)}catch(o){null==(t=u.value)||t.complete([])}},a=e=>o.value.some((s=>s==e.device_code)),c=()=>{0!==o.value.length?(e.index.$emit("confirm",{type:r.ListenerTypeEnum.CHOOSE_DEVICE,data:o.value}),e.index.navigateBack()):e.index.$u.toast("至少选择一台手机设备")};return e.onLoad((e=>{e.device&&(o.value=JSON.parse(e.device))})),(s,r)=>({a:e.f(e.unref(t),((s,r,i)=>e.e({a:e.t(s.device_name||"-"),b:e.t(1===s.status?"在线":"离线"),c:e.n(0===s.status?"text-_hF63E2F_ bg-_hF7E5E5_":"text-_h00B862_ bg-_hE0F1EB_"),d:e.t(s.device_code),e:a(s)},a(s)?{f:"997d4340-1-"+i+",997d4340-0",g:e.p({name:"checkmark",color:"#ffffff",size:"20"})}:{},{h:e.n(a(s)?"bg-primary flex items-center justify-center":"border border-solid border-_h00000033_"),i:r,j:a(s)?1:"",k:e.o((e=>(e=>{a(e)?o.value=o.value.filter((s=>s!==e.device_code)):o.value.push(e.device_code)})(s)),r)}))),b:e.sr(u,"997d4340-0",{k:"pagingRef"}),c:e.o(n),d:e.o((s=>e.isRef(t)?t.value=s:null)),e:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(t)}),f:e.o(c),g:e.p({type:"primary","custom-style":{height:"100rpx",borderRadius:"20rpx",fontWeight:"bold"}})})}});wx.createPage(i);

"use strict";const e=require("../../../../common/vendor.js"),t=require("../../enums/index.js");if(!Array){e.resolveComponent("u-button")()}Math||(a+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const a=()=>"../../components/calendar/calendar.js",n=e.defineComponent({__name:"custom_date",setup(a){const n=e.ref([]),o=e.ref(),r=e.ref([]),u=e=>{const t=new Date;return e.getTime()<t.getTime()-864e5},s=e=>{n.value=e},d=()=>{let a=30,o=[-1,-1];for(let e=0;e<n.value.length;e++)for(let t=e+1;t<n.value.length;t++){const r=new Date(n.value[e]),u=new Date(n.value[t]),s=Math.abs((r.getTime()-u.getTime())/864e5);s>30&&s>a&&(a=s,o=[e,t])}const u=-1!==o[0];r.value=o,u?e.index.$u.toast("不能选择时间间隔超过30天的时间"):(e.index.$emit("confirm",{type:t.ListenerTypeEnum.CHOOSE_DATE,data:n.value}),e.index.navigateBack())};return e.onLoad((e=>{e.date&&(n.value=JSON.parse(e.date))})),(t,a)=>({a:e.sr(o,"4e4a85c5-0",{k:"calendarRef"}),b:e.o(s),c:e.p({"multi-select":!0,"is-today":!1,"selected-dates":e.unref(n),"disabled-date-method":u}),d:e.t(e.unref(n).length),e:e.f(e.unref(n),((t,a,n)=>{return{a:e.t((u=t,e.index.$u.timeFormat(new Date(u),"mm月dd日"))),b:a,c:e.unref(r).includes(a)?1:"",d:e.o((e=>(e=>{var t;null==(t=o.value)||t.locateToDate(e)})(t)),a)};var u})),f:e.o(d),g:e.p({type:"primary","custom-style":{height:"100rpx",borderRadius:"12rpx",fontWeight:"bold"}})})}}),o=e._export_sfc(n,[["__scopeId","data-v-4e4a85c5"]]);wx.createPage(o);

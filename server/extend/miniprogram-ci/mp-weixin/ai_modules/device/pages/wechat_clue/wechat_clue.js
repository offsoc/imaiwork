"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../api/sph.js"),t=require("../../enums/index.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../utils/util.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-icon")+e.resolveComponent("empty")+e.resolveComponent("z-paging")+e.resolveComponent("u-button"))()}Math||(s+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../components/empty/empty.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const s=()=>"../../components/clue-card/clue-card.js",n=e.defineComponent({__name:"wechat_clue",setup(s){const n=e.shallowRef(),u=e.ref([]),i=e.ref([]),a=async(e,t)=>{try{const{lists:s}=await r.getTaskList({page_no:e,page_size:t});n.value.complete(s)}catch(s){n.value.complete([])}},o=()=>{i.value.length?(e.index.$emit("confirm",{type:t.ListenerTypeEnum.WECHAT_CLUE,data:i.value.map((e=>{const r=u.value[e];return{id:r.id,name:r.name,time:r.create_time,total:r.crawl_number,added:r.completed_add_count,file_type:2}}))}),e.index.navigateBack()):e.index.$u.toast("请选择线索")};return(r,t)=>({a:e.t(e.unref(i).length),b:e.f(e.unref(u),((r,t,s)=>e.e({a:"01f3930c-1-"+s+",01f3930c-0",b:e.p({data:{name:r.name,time:r.create_time,total:r.crawl_number,added:r.completed_add_count},type:2}),c:e.unref(i).includes(t)},e.unref(i).includes(t)?{d:"01f3930c-2-"+s+",01f3930c-0",e:e.p({name:"checkmark",color:"#ffffff",size:"20"})}:{},{f:e.n(e.unref(i).includes(t)?"bg-primary flex items-center justify-center":"border border-solid border-_h00000033_"),g:t,h:e.o((s=>((r,t)=>{const{crawl_number:s}=t;0!=s?i.value=i.value.includes(r)?i.value.filter((e=>e!==r)):[...i.value,r]:e.index.$u.toast("该线索没有可采集数量")})(t,r)),t)}))),c:e.sr(n,"01f3930c-0",{k:"pagingRef"}),d:e.o(a),e:e.o((r=>e.isRef(u)?u.value=r:null)),f:e.p({fixed:!1,"safe-area-inset-bottom":!0,modelValue:e.unref(u)}),g:e.o(o),h:e.p({type:"primary","custom-style":{height:"100rpx",borderRadius:"20rpx",fontWeight:"bold"},disabled:!e.unref(i).length})})}});wx.createPage(n);

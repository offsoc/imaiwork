"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../api/device.js"),r=require("../../../../utils/util.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../utils/auth.js"),require("../../../../enums/constantEnums.js"),require("../../../../utils/cache.js"),require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../hooks/useShareMessage.js"),require("../../../../router/index.js"),require("../../../../stores/navigationBarTitle.js"),require("../../../../stores/app.js"),require("../../../../api/app.js"),require("../../../../api/chat.js"),require("../../../../api/voice_chat.js"),require("../../../../config/index.js"),!Array){(e.resolveComponent("u-button")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const u=e.defineComponent({__name:"task-edit-name",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(u,{expose:t,emit:i}){const o=u,a=e.computed({get:()=>o.modelValue,set:e=>i("update:modelValue",e)}),n=e.reactive({id:"",sub_task_id:"",source:"",name:""}),p=async()=>{if(n.name){e.index.showLoading({title:"保存中...",mask:!0});try{await s.updateDeviceTaskName(n),e.index.hideLoading(),e.index.showToast({title:"保存成功",icon:"none",duration:3e3}),a.value=!1,i("success",n)}catch(r){e.index.hideLoading(),e.index.showToast({title:r||"保存失败",icon:"none",duration:3e3})}}else e.index.$u.toast("请输入任务名称")};return t({setFormData:e=>{r.setFormData(e,n)}}),(s,r)=>({a:e.unref(a),b:e.unref(n).name,c:e.o((s=>e.unref(n).name=s.detail.value)),d:e.o((e=>a.value=!1)),e:e.p({shape:"circle","custom-style":{height:"100rpx",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1)",backgroundColor:"transparent",color:"rgba(0,0,0,0.3)",fontSize:"26rpx"}}),f:e.o(p),g:e.p({type:"primary",shape:"circle","custom-style":{flex:1,height:"100rpx",boxShadow:"0 6px 12px 0 rgba(0, 101, 251, 0.20)",fontSize:"26rpx"}}),h:e.o(e.unref(a)),i:e.o((s=>e.isRef(a)?a.value=s:null)),j:e.p({mode:"center",width:"90%","border-radius":"64",closeable:!1,modelValue:e.unref(a)})})}});wx.createComponent(u);

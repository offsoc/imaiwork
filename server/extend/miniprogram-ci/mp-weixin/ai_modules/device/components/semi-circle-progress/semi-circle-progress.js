"use strict";const e=require("../../../../common/vendor.js"),t=e.defineComponent({__name:"semi-circle-progress",props:{progress:{type:Number,default:0},size:{type:Number,default:180},strokeWidth:{type:Number,default:12},color:{type:String,default:"#0065FB"},bgColor:{type:String,default:"rgba(0, 0, 0, 0.05)"},animationDuration:{type:Number,default:800}},setup(t){const s=t,r=e.getCurrentInstance(),o="progressCanvas"+(new Date).getTime(),a=e.ref(1),n=e.ref(s.size),i=e.ref(s.size/2),u=e.ref(0);let l=null;const c=(t,a)=>{l&&(clearTimeout(l),l=null);const n=s.animationDuration,i=Date.now(),c=()=>{const p=Date.now()-i,d=Math.min(p/n,1);u.value=t+(a-t)*d,(()=>{const t=e.index.createCanvasContext(o,r);t.setTransform(1,0,0,1,0,0);const a=s.size/2,n=s.size/2,i=(s.size-s.strokeWidth)/2;if(t.clearRect(0,0,s.size,s.size/2),t.beginPath(),t.arc(a,n,i,Math.PI,2*Math.PI),t.setStrokeStyle(s.bgColor),t.setLineWidth(s.strokeWidth),t.setLineCap("round"),t.stroke(),u.value>0){const e=Math.PI+u.value/100*Math.PI;t.beginPath(),t.arc(a,n,i,Math.PI,e),t.setStrokeStyle(s.color),t.setLineWidth(s.strokeWidth),t.setLineCap("round"),t.stroke()}t.draw()})(),d<1?l=setTimeout(c,16):(clearTimeout(l),l=null)};c()};return e.onMounted((()=>{e.index.getSystemInfo({success:e=>{a.value=e.pixelRatio,n.value=s.size*a.value,i.value=s.size/2*a.value,c(0,s.progress)}})})),e.watch((()=>s.progress),((e,t)=>{c(t||0,e)})),(s,r)=>({a:o,b:o,c:t.size+"px",d:t.size/2+"px",e:e.unref(n),f:e.unref(i),g:t.size+"px",h:t.size/2+"px"})}}),s=e._export_sfc(t,[["__scopeId","data-v-0306fa85"]]);wx.createComponent(s);

"use strict";const e=require("../../common/vendor.js"),o=require("../../config/index.js");if(!Array){(e.resolveComponent("u-button")+e.resolveComponent("u-popup"))()}Math||(t+(()=>"../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const t=()=>"../video-player/video-player.js",u=e.defineComponent({__name:"video-preview",props:{title:{default:"视频预览"},show:{type:Boolean,default:!1},videoUrl:null,confirmBtnText:{default:"确定"},poster:{default:""},zIndex:{default:1e3}},emits:["update:show","confirm"],setup(t,{expose:u,emit:n}){const r=t,s=e.computed({get:()=>r.show,set(e){n("update:show",e)}}),i=e.ref(!0);e.watch((()=>r.show),(async e=>{e?(i.value=!0,setTimeout((()=>{var e;null==(e=p.value)||e.toggleVideo()}),300)):setTimeout((()=>{i.value=!1}),300)}));const p=e.ref(),l=()=>{n("confirm"),s.value=!1};return u({toggleVideo:()=>{var e;null==(e=p.value)||e.toggleVideo()}}),(u,n)=>e.e({a:e.o((e=>s.value=!1)),b:e.t(t.title),c:t.show},t.show?{d:e.sr(p,"36fb5785-1,36fb5785-0",{k:"videoPlayerRef"}),e:e.p({poster:t.poster||`${e.unref(o.config).baseUrl}static/images/dh_example_bg1.png`,"video-url":t.videoUrl})}:{},{f:e.t(t.confirmBtnText),g:e.o(l),h:e.p({type:"primary",shape:"circle","custom-style":{height:"90rpx",boxShadow:" 0px 3px 12px 0px rgba(0, 0, 0, 0.12)",fontSize:"26rpx"}}),i:e.o((o=>e.isRef(s)?s.value=o:null)),j:e.p({mode:"center",width:"90%","border-radius":"48",modelValue:e.unref(s)})})}}),n=e._export_sfc(u,[["__scopeId","data-v-36fb5785"]]);wx.createComponent(n);

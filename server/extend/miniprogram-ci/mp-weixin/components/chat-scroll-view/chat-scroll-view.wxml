<view class="chat-scroll-view h-full flex flex-col min-h-0 data-v-4e320cc1"><view wx:if="{{a}}" class="flex flex-col flex-1 min-h-0 py-4 relative data-v-4e320cc1"><view class="scroll-view-content flex-1 flex min-h-0 data-v-4e320cc1"><scroll-view class="data-v-4e320cc1" scroll-y ref="contentRef" scroll-top="{{d}}"><view wx:if="{{b}}" class="content-box data-v-4e320cc1"><view wx:for="{{c}}" wx:for-item="item" wx:key="c" class="data-v-4e320cc1"><view class="pb-4 data-v-4e320cc1"><chat-record-item wx:if="{{item.b}}" class="data-v-4e320cc1" u-i="{{item.a}}" bind:__l="__l" u-p="{{item.b}}"></chat-record-item></view></view></view><slot wx:else name="empty"></slot></scroll-view></view><view class="w-full flex justify-center mb-2 absolute bottom-0 data-v-4e320cc1"><view class="flex items-center justify-center rounded-full px-_16rpx_ h-_76rpx_ w-_228rpx_ border border-solid border-_hEDEDEE_ data-v-4e320cc1" bindtap="{{e}}"><text class="text-xs text-_h989898_ data-v-4e320cc1">开启全新对话</text></view></view></view><view class="{{['flex', 'flex-col', 'justify-center', 'px-_20rpx_', 'mb-_20rpx_', 'data-v-4e320cc1', U && 'flex-1']}}"><view class="{{['data-v-4e320cc1', f && 'flex-1 flex flex-col items-center justify-center']}}"><slot name="content"></slot></view><view class="relative z-_79_ chatBottomBox data-v-4e320cc1"><view class="flex flex-col data-v-4e320cc1"><view wx:if="{{g}}" class="mb-2 data-v-4e320cc1"><view class="text-xs text-_h808080_ bg-_hf6f6f6_ rounded-_100rpx_ px-4 h-_66rpx_ inline-flex items-center data-v-4e320cc1" bindtap="{{j}}">{{h}} <view class="ml-2 inline-block data-v-4e320cc1"><u-icon wx:if="{{i}}" class="data-v-4e320cc1" u-i="4e320cc1-1" bind:__l="__l" u-p="{{i}}"></u-icon></view></view></view><view wx:if="{{k}}" class="mb-2 data-v-4e320cc1"><view class="bg-white rounded-_100rpx_ px-4 h-_66rpx_ gap-x-1 border border-solid border-_hE9EBEC_ inline-flex items-center relative data-v-4e320cc1" bindtap="{{p}}"><image src="{{l}}" class="w-_32rpx_ h-_32rpx_ rounded-_24rpx_ data-v-4e320cc1" mode="aspectFill"/><text class="max-w-_200rpx_ text-ellipsis overflow-hidden whitespace-nowrap text-xs data-v-4e320cc1">{{m}}</text><view class="absolute right-_-10rpx_ top-_-10rpx_ flex items-center justify-center w-_32rpx_ h-_32rpx_ rounded-full bg-_h0000004C_ data-v-4e320cc1" catchtap="{{o}}"><u-icon wx:if="{{n}}" class="data-v-4e320cc1" u-i="4e320cc1-2" bind:__l="__l" u-p="{{n}}"></u-icon></view></view></view><view class="flex-1 flex gap-x-2 items-center data-v-4e320cc1"><slot wx:if="{{q}}" name="sendLeft"></slot><view class="{{['flex-1', 'bg-white', 'rounded-tl-_48rpx_', 'rounded-tr-_48rpx_', 'border', 'border-solid', 'border-b-0', 'border-_hF1F1F2_', 'overflow-hidden', 'relative', 'py-_6rpx_', 'data-v-4e320cc1', I && 'rounded-bl-_48rpx_ rounded-br-_48rpx_ iborder-b']}}"><view wx:if="{{r}}" class="p-2 flex data-v-4e320cc1"><view wx:for="{{s}}" wx:for-item="item" wx:key="d" class="data-v-4e320cc1"><file-item wx:if="{{item.c}}" class="data-v-4e320cc1" bindonDelete="{{item.a}}" u-i="{{item.b}}" bind:__l="__l" u-p="{{item.c}}"/></view></view><view class="flex data-v-4e320cc1"><block wx:if="{{r0}}"><textarea class="iw-full max-h-_300rpx_ overflow-y-auto text-_26rpx_ px-_36rpx_ py-_24rpx_ transition-all duration-300 data-v-4e320cc1" style="{{'min-height:' + t}}" ref="textareaRef" confirm-type="done" maxlength="-1" hold-keyboard placeholder-style="color: rgba(0, 0, 0, 0.2); font-size: 26rpx;" auto-height placeholder="{{v}}" show-confirm-bar="{{false}}" disable-default-padding="{{true}}" bindfocus="{{w}}" bindblur="{{x}}" bindinput="{{y}}" value="{{z}}"></textarea></block><view class="flex-shrink-0 flex items-end gap-2d5 mr-3 mb-1 data-v-4e320cc1"><view wx:if="{{A}}" class="send-btn bg-primary-light-9 data-v-4e320cc1" bindtap="{{C}}"><u-icon wx:if="{{B}}" class="data-v-4e320cc1" u-i="4e320cc1-4" bind:__l="__l" u-p="{{B}}"></u-icon></view><view wx:else class="{{['send-btn', 'data-v-4e320cc1', G]}}" catchtap="{{H}}"><u-icon wx:if="{{D}}" class="data-v-4e320cc1" u-i="4e320cc1-5" bind:__l="__l" u-p="{{E}}"></u-icon><u-icon wx:else class="data-v-4e320cc1" u-i="4e320cc1-6" bind:__l="__l" u-p="{{F||''}}"></u-icon></view></view></view></view></view><view wx:if="{{J}}" class="flex items-center justify-between gap-x-_12rpx_ h-_100rpx_ bg-_hF6F6F6_ px-_12rpx_ rounded-bl-_48rpx_ rounded-br-_48rpx_ border border-solid border-_hF1F1F2_ border-t-0 data-v-4e320cc1"><view class="flex items-center gap-x-_12rpx_ flex-1 data-v-4e320cc1"><view wx:if="{{K}}" class="{{['flex', 'items-center', 'justify-center', 'gap-x-1', 'w-_168rpx_', 'h-_60rpx_', 'rounded-full', 'text-_h323232_', 'data-v-4e320cc1', M && 'ibg-_h1ba7991a_ itext-_h1ba799_']}}" bindtap="{{N}}"><u-icon wx:if="{{L}}" class="data-v-4e320cc1" u-i="4e320cc1-7" bind:__l="__l" u-p="{{L}}"></u-icon><text class="text-xs data-v-4e320cc1">联网搜索</text></view><view class="h-_28rpx_ data-v-4e320cc1"><u-line wx:if="{{O}}" class="data-v-4e320cc1" u-i="4e320cc1-8" bind:__l="__l" u-p="{{O}}"></u-line></view><view class="flex items-center justify-center gap-x-1 w-_168rpx_ h-_60rpx_ rounded-full text-_h323232_ data-v-4e320cc1" bindtap="{{Q}}"><u-icon wx:if="{{P}}" class="data-v-4e320cc1" u-i="4e320cc1-9" bind:__l="__l" u-p="{{P}}"></u-icon><text class="text-xs data-v-4e320cc1">文件上传</text></view></view><view class="leading-_0_ p-2 data-v-4e320cc1" bindtap="{{S}}"><u-icon wx:if="{{R}}" class="data-v-4e320cc1" u-i="4e320cc1-10" bind:__l="__l" u-p="{{R}}"></u-icon></view></view><view class="flex justify-center mt-_40rpx_ data-v-4e320cc1"><view class="flex items-center rounded-full bg-_h00000008_ gap-x-1d5 p-_6rpx_ data-v-4e320cc1"><u-icon wx:if="{{T}}" class="data-v-4e320cc1" u-i="4e320cc1-11" bind:__l="__l" u-p="{{T}}"></u-icon><view class="text-_rgba_0b0b0b0d3__ text-xs data-v-4e320cc1"> 免责声明：内容由AI大模型生成，请仔细甄别。 </view></view></view></view></view></view><view class="flex-shrink-0 data-v-4e320cc1" style="{{'height:' + V}}"></view></view><popup-bottom wx:if="{{aA}}" class="data-v-4e320cc1" u-s="{{['content']}}" u-i="4e320cc1-12" bind:__l="__l" bindupdateShow="{{az}}" u-p="{{aA}}"><view class="h-_85p_ p-4 flex flex-col gap-y-4 data-v-4e320cc1" slot="content"><view class="grow min-h-0 data-v-4e320cc1"><scroll-view scroll-y class="h-full data-v-4e320cc1"><view class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">上下文数</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><view class="flex-1 data-v-4e320cc1"><slider class="data-v-4e320cc1" value="{{W}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{5}}" bindchange="{{X}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-4e320cc1">{{Y}}条</view></view></view><view class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">词汇多样性</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><view class="flex-1 data-v-4e320cc1"><slider class="data-v-4e320cc1" value="{{Z}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{1}}" step="{{0.1}}" bindchange="{{aa}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-4e320cc1">{{ab}}</view></view></view><view wx:if="{{ac}}" class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">重复词频率</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><view class="flex-1 data-v-4e320cc1"><slider class="data-v-4e320cc1" value="{{ad}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{ae}}" max="{{2}}" step="{{0.1}}" bindchange="{{af}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-4e320cc1">{{ag}}</view></view></view><view wx:if="{{ah}}" class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">特定词重复率</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><view class="flex-1 data-v-4e320cc1"><slider class="data-v-4e320cc1" value="{{ai}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{1}}" step="{{0.1}}" bindchange="{{aj}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-4e320cc1">{{ak}}</view></view></view><view class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">结果相似性</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><view class="flex-1 data-v-4e320cc1"><slider class="data-v-4e320cc1" value="{{al}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{am}}" step="{{0.1}}" bindchange="{{an}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-4e320cc1">{{ao}}</view></view></view><view wx:if="{{ap}}" class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">显示前几个候选词对数概率</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><view class="flex-1 data-v-4e320cc1"><slider class="data-v-4e320cc1" value="{{aq}}" active-color="#0065FB" background-color="#e5e5e5" block-size="{{16}}" min="{{0}}" max="{{1}}" step="{{0.1}}" bindchange="{{ar}}"/></view><view class="text-xs flex-shrink-0 w-_80rpx_ text-center data-v-4e320cc1">{{as}}</view></view></view><view wx:if="{{at}}" class="data-v-4e320cc1"><view class="mb-4 data-v-4e320cc1">显示候选词</view><view class="flex items-center gap-x-2 data-v-4e320cc1"><u-switch wx:if="{{aw}}" class="data-v-4e320cc1" u-i="4e320cc1-13,4e320cc1-12" bind:__l="__l" bindupdateModelValue="{{av}}" u-p="{{aw}}"/></view></view></scroll-view></view><view class="mt-4 flex-shrink-0 data-v-4e320cc1"><u-button wx:if="{{ay}}" class="data-v-4e320cc1" u-s="{{['d']}}" bindclick="{{ax}}" u-i="4e320cc1-14,4e320cc1-12" bind:__l="__l" u-p="{{ay}}">保存设置</u-button></view></view></popup-bottom><popup-bottom wx:if="{{aD}}" class="data-v-4e320cc1" u-s="{{['content']}}" u-i="4e320cc1-15" bind:__l="__l" bindupdateShow="{{aC}}" u-p="{{aD}}"><view class="p-4 flex flex-col gap-y-4 data-v-4e320cc1" slot="content"><view wx:for="{{aB}}" wx:for-item="item" wx:key="b" class="{{['border', 'border-solid', 'border-_hE9EBEC_', 'rounded-_10rpx_', 'px-4', 'py-3', 'data-v-4e320cc1', item.c && 'iborder-primary text-primary font-bold']}}" bindtap="{{item.d}}">{{item.a}}</view></view></popup-bottom><popup-bottom wx:if="{{aK}}" class="data-v-4e320cc1" u-s="{{['content']}}" u-i="4e320cc1-16" bind:__l="__l" bindupdateShow="{{aJ}}" u-p="{{aK}}"><view class="h-full data-v-4e320cc1" slot="content"><z-paging wx:if="{{aI}}" class="r data-v-4e320cc1" u-s="{{['empty','d']}}" u-r="agentPagingRef" bindquery="{{aG}}" u-i="4e320cc1-17,4e320cc1-16" bind:__l="__l" bindupdateModelValue="{{aH}}" u-p="{{aI}}"><view class="flex flex-col gap-4 px-_32rpx_ mt-4 data-v-4e320cc1"><view wx:for="{{aE}}" wx:for-item="item" wx:key="e" class="{{['agent-item', 'data-v-4e320cc1', item.d && 'active']}}" bindtap="{{item.f}}"><view class="flex-shrink-0 data-v-4e320cc1"><image src="{{item.a}}" class="w-_108rpx_ h-_108rpx_ rounded-_24rpx_ data-v-4e320cc1" mode="aspectFill"></image></view><view class="flex-1 overflow-hidden data-v-4e320cc1"><view class="text-_28rpx_ text-ellipsis overflow-hidden whitespace-nowrap data-v-4e320cc1">{{item.b}}</view><view class="text-_h9C9C9E_ text-_20rpx_ mt-2 line-clamp-2 data-v-4e320cc1">{{item.c}}</view></view></view></view><empty class="data-v-4e320cc1" u-i="4e320cc1-18,4e320cc1-17" bind:__l="__l" slot="empty"/></z-paging></view></popup-bottom>
import{_ as q}from"./index.e57d7385.js";import{G as R,H as N,D as S,C as j,F as G}from"./element-plus.09e738c5.js";import{_ as $}from"./picker.bbad25f8.js";import{r}from"./index.39a36e30.js";import{j as H}from"./consumer.990d0edc.js";import{u as M}from"./useLockFn.cf82402d.js";import{d as P,s as Y,Y as z,r as d,o as p,F as A,G as n,a as _,P as a,u,c as J,O as K,a5 as Q}from"./@vue.b0c8b5fa.js";const re=async()=>r.get({url:"/oem.oem/getInfo"}),me=async s=>r.get({url:"/oem.oem/lists",params:s}),T=async s=>r.post({url:"/oem.oem/add",params:s}),W=async s=>r.post({url:"/oem.oem/edit",params:s}),de=async s=>r.post({url:"/oem.oem/delete",params:s}),ie=async s=>r.post({url:"/oem.oem/changeStatus",params:s}),X=_("div",{class:"form-tips"},"\u4E0D\u8981\u5E26\u4E0Ahttp\u6216\u8005https\uFF0C\u4F8B\u5982\uFF1Awww.baidu.com",-1),Z=_("div",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A64*64\u50CF\u7D20\uFF0C\u652F\u6301jpg\uFF0Cjpeg\uFF0Cpng\u683C\u5F0F",-1),ce=P({__name:"edit",emits:["close","success"],setup(s,{expose:C,emit:k}){const F=k,f=Y(),o=z({id:"",user_id:"",domain:"",logo_url:"",name:""}),E={user_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237"}],domain:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u57DF\u540D"}],logo_url:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u7AD9\u70B9ICON"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u9898"}]},g=d(),i=d("add"),B=d([]),c=d(!1),D=async t=>{try{c.value=!0;const{lists:e}=await H({keyword:t});B.value=e}finally{c.value=!1}},V=async()=>{var t;await((t=f.value)==null?void 0:t.validate()),i.value==="add"?await T(o):await W(o),y(),F("success")},w=t=>{var e;(e=g.value)==null||e.open(),i.value=t},y=()=>{F("close")},{lockFn:b,isLock:O}=M(V);return C({open:w,setFormData:async t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e]);D(t.username)}}),(t,e)=>{const h=R,x=N,m=S,v=j,L=$,I=G,U=q;return p(),A(U,{ref_key:"popupRef",ref:g,async:"",width:"500px",title:u(i)==="add"?"\u6DFB\u52A0\u6388\u6743":"\u7F16\u8F91\u6388\u6743","confirm-loading":u(O),onConfirm:u(b),onClose:y},{default:n(()=>[_("div",null,[a(I,{model:u(o),rules:E,ref_key:"formRef",ref:f,"label-width":"100px"},{default:n(()=>[a(m,{label:"\u6240\u5C5E\u7528\u6237",prop:"user_id"},{default:n(()=>[a(x,{modelValue:u(o).user_id,"onUpdate:modelValue":e[0]||(e[0]=l=>u(o).user_id=l),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u4FE1\u606F",filterable:"",remote:"","reserve-keyword":"","remote-method":D,loading:u(c),clearable:""},{default:n(()=>[(p(!0),J(K,null,Q(u(B),l=>(p(),A(h,{key:l.id,label:`${l.nickname}\uFF08${l.account}\uFF09`,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),a(m,{label:"\u7AD9\u70B9\u57DF\u540D",prop:"domain"},{default:n(()=>[a(v,{modelValue:u(o).domain,"onUpdate:modelValue":e[1]||(e[1]=l=>u(o).domain=l),placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u57DF\u540D"},null,8,["modelValue"]),X]),_:1}),a(m,{label:"\u7AD9\u70B9\u6807\u9898",prop:"name"},{default:n(()=>[a(v,{modelValue:u(o).name,"onUpdate:modelValue":e[2]||(e[2]=l=>u(o).name=l),placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u9898",maxlength:"30"},null,8,["modelValue"])]),_:1}),a(m,{label:"\u7AD9\u70B9ICON",prop:"logo_url"},{default:n(()=>[a(L,{modelValue:u(o).logo_url,"onUpdate:modelValue":e[3]||(e[3]=l=>u(o).logo_url=l),limit:1},null,8,["modelValue"]),Z]),_:1})]),_:1},8,["model"])])]),_:1},8,["title","confirm-loading","onConfirm"])}}});export{ce as _,re as a,ie as c,de as d,me as g};

import{U as g}from"./element-plus.e618cff3.js";import{T as k}from"./markmap-lib.25cc31eb.js";import{i as x}from"./markmap-view.2c6c64d5.js";import{T as C}from"./markmap-toolbar.14336619.js";import{d as E,Y as b,s as S,r as z,i as B,o as e,c as a,u as R,P as $,a as D,Q as F,n as N}from"./@vue.fa3e2f74.js";import{b as P}from"./index.03099c94.js";import"./@vueuse.57305db2.js";import"./@element-plus.8edeb311.js";import"./lodash-es.72862127.js";import"./dayjs.33f9e030.js";import"./@vscode.6c9cb547.js";import"./katex.234fd046.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./async-validator.fb49d0f5.js";import"./normalize-wheel-es.8aeb3683.js";import"./markmap-common.ee5358ff.js";import"./markmap-html-parser.3798b05f.js";import"./cheerio.dde8322c.js";import"./parse5.53291ea6.js";import"./parse5-htmlparser2-tree-adapter.fb3a894e.js";import"./cheerio-select.0c013d81.js";import"./boolbase.dc003303.js";import"./css-what.c1f4afe9.js";import"./nth-check.d72df1b0.js";import"./punycode.js.e9f8b4ce.js";import"./markdown-it-ins.29acebbb.js";import"./markdown-it-mark.8f2a05f8.js";import"./markdown-it-sub.e4c33850.js";import"./markdown-it-sup.5ade0d5b.js";import"./yaml.686ee75c.js";import"./highlight.js.4f6161a5.js";import"./d3-transition.d41d25b9.js";import"./d3-dispatch.1dc92aff.js";import"./d3-timer.cc6157f5.js";import"./d3-interpolate.0f7f527f.js";import"./d3-color.bd75bd6f.js";import"./d3-selection.0cc3cb22.js";import"./d3-ease.22ca3a91.js";import"./d3-zoom.5b4ddffb.js";import"./d3-drag.2b19d62e.js";import"./d3-scale.658849e8.js";import"./internmap.b4fc497e.js";import"./d3-scale-chromatic.5d2e723e.js";import"./d3-shape.154ce4ca.js";import"./d3-path.8f3f8aba.js";import"./d3-array.056066cc.js";import"./lodash.0bb3a698.js";import"./axios.e67d1c3e.js";import"./vue-router.24cf2b30.js";import"./pinia.d2a105b3.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.9d260b6b.js";import"./color.4290e22e.js";import"./clone.10c3af82.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.35afef70.js";import"./ms.a9ae1d6d.js";import"./nprogress.d9597aae.js";import"./vue-clipboard3.6701dfcc.js";import"./clipboard.a993786e.js";import"./sortablejs.fb59ed0f.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./@highlightjs.fc60ff58.js";const V={class:"h-full relative"},j={key:1,class:"flex flex-col justify-center gap-4 items-center h-full"},I=E({__name:"mind-map",props:{detail:{}},setup(y){const h=y,n=b({reply:""}),s=S(null),l=z(null);let r=null;const M=new k,v=async()=>{await N(),r=x.create(s.value,{autoFit:!0,color:i=>"#2353f4"});const t=new C;t.attach(r),l.value.appendChild(t.el);const{root:o}=M.transform(n.reply);r==null||r.setData(o),r==null||r.fit()},T=async()=>{var p,c,f,u,d,_;const{response:t}=h.detail,o=(f=(c=(p=t==null?void 0:t.Result)==null?void 0:p.Summarization)==null?void 0:c.Summarization)==null?void 0:f.MindMapSummary,i=(_=(d=(u=t==null?void 0:t.Result)==null?void 0:u.Summarization)==null?void 0:d.Summarization)==null?void 0:_.ParagraphTitle,m=w({title:i,lists:o});o.length&&(n.reply=m,v())};function w(t){let o="";return t.lists.forEach(i=>{o+=`# ${i.Title}

`,i.Topic.forEach(m=>{o+=`### ${m.Title}

`,m.Topic.forEach(p=>{o+=`#### ${p.Title}

`})})}),o}return B(()=>{T()}),(t,o)=>{const i=g;return e(),a("div",V,[R(n).reply?(e(),a($,{key:0},[D("div",{ref_key:"toolbarContainer",ref:l},null,512),(e(),a("svg",{ref_key:"mindMapContainer",ref:s,class:"w-full h-full"},null,512))],64)):(e(),a("div",j,[F(i)]))])}}});const oo=P(I,[["__scopeId","data-v-4688f55e"]]);export{oo as default};

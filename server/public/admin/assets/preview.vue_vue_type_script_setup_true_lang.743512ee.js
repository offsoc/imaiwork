import{b as V,_ as $}from"./index.976d8a45.js";import{f as C,a2 as b,I}from"./element-plus.e618cff3.js";import{d as y,o as t,c as o,a as v,G as g,L as a,Q as m,C as z,W as B,bj as R,bi as E,s as N,b as x,r as j,w as L,u as p,H as D,v as F,n as _}from"./@vue.fa3e2f74.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang.1c9fc45b.js";const H=y({props:{uri:{type:String},fileSize:{type:String,default:"100px"},type:{type:String,default:"image"},fileName:{type:String,default:""}},emits:["close"]}),Q="/admin/assets/musicIcon.8a020eea.png";const T=e=>(R("data-v-23552332"),e=e(),E(),e),U=["src"],W={key:2,class:"absolute left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%] rounded-full w-5 h-5 flex justify-center items-center bg-[rgba(0,0,0,0.3)]"},q={key:3,class:"audio"},A=T(()=>v("img",{class:"w-full h-full",src:Q},null,-1)),J=[A];function K(e,f,i,c,n,u){const r=C,l=$;return t(),o("div",null,[v("div",{class:"file-item relative",style:B({height:e.fileSize,width:e.fileSize})},[e.type=="image"?(t(),g(r,{key:0,class:"image",fit:"cover",src:e.uri},null,8,["src"])):e.type=="video"?(t(),o("video",{key:1,class:"video",src:e.uri},null,8,U)):a("",!0),e.type=="video"?(t(),o("div",W,[m(l,{name:"el-icon-CaretRight",size:18,color:"#fff"})])):a("",!0),e.type=="audio"?(t(),o("div",q,J)):a("",!0),z(e.$slots,"default",{},void 0,!0)],4)])}const te=V(H,[["render",K],["__scopeId","data-v-23552332"]]),M={key:0},O={key:0},P={key:1},se=y({__name:"preview",props:{modelValue:{type:Boolean,default:!1},url:{type:String,default:""},type:{type:String,default:"image"}},emits:["update:modelValue"],setup(e,{emit:f}){const i=e,c=f,n=N(),u=x({get(){return i.modelValue},set(d){c("update:modelValue",d)}}),r=()=>{c("update:modelValue",!1)},l=j([]);return L(()=>i.modelValue,d=>{d?_(()=>{var s;l.value=[i.url],(s=n.value)==null||s.play()}):_(()=>{var s;l.value=[],(s=n.value)==null||s.pause()})}),(d,s)=>{const h=b,k=G,w=I;return e.modelValue?(t(),o("div",M,[e.type=="image"?(t(),o("div",O,[p(l).length?(t(),g(h,{key:0,"url-list":p(l),"hide-on-click-modal":"",teleported:!0,onClose:r},null,8,["url-list"])):a("",!0)])):a("",!0),e.type=="video"||e.type=="audio"?(t(),o("div",P,[m(w,{modelValue:p(u),"onUpdate:modelValue":s[0]||(s[0]=S=>F(u)?u.value=S:null),width:"740px",title:`${e.type=="video"?"\u89C6\u9891\u9884\u89C8":"\u97F3\u9891\u9884\u89C8"}`,"before-close":r},{default:D(()=>[m(k,{ref_key:"playerRef",ref:n,src:e.url,width:"100%",height:"450px"},null,8,["src"])]),_:1},8,["modelValue","title"])])):a("",!0)])):a("",!0)}}});export{te as _,se as a};

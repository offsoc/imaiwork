import{b as f}from"./boolbase.dc003303.js";import{S as g,A as w,p as R,i as D}from"./css-what.c1f4afe9.js";import{n as O}from"./nth-check.d72df1b0.js";var h;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(h||(h={}));function Dt(t){return t.type===h.Tag||t.type===h.Script||t.type===h.Style}const _t=h.Root,Mt=h.Text,Pt=h.Directive,Lt=h.Comment,kt=h.Script,qt=h.Style,Rt=h.Tag,$t=h.CDATA,jt=h.Doctype;function y(t){return Dt(t)}function K(t){return t.type===h.CDATA}function T(t){return t.type===h.Text}function ot(t){return t.type===h.Comment}function Gt(t){return t.type===h.Root}function v(t){return Object.prototype.hasOwnProperty.call(t,"children")}const st=/["&'<>$\x80-\uFFFF]/g,Ut=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Vt=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function ft(t){let e="",n=0,r;for(;(r=st.exec(t))!==null;){const i=r.index,s=t.charCodeAt(i),u=Ut.get(s);u!==void 0?(e+=t.substring(n,i)+u,n=i+1):(e+=`${t.substring(n,i)}&#x${Vt(t,i).toString(16)};`,n=st.lastIndex+=Number((s&64512)===55296))}return e+t.substr(n)}function gt(t,e){return function(r){let i,s=0,u="";for(;i=t.exec(r);)s!==i.index&&(u+=r.substring(s,i.index)),u+=e.get(i[0].charCodeAt(0)),s=i.index+1;return u+r.substring(s)}}const Bt=gt(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Wt=gt(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Yt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),zt=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Ht=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Kt(t){return t.replace(/"/g,"&quot;")}function Xt(t,e){var n;if(!t)return;const r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?Kt:e.xmlMode||e.encodeEntities!=="utf8"?ft:Bt;return Object.keys(t).map(i=>{var s,u;const a=(s=t[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(u=zt.get(i))!==null&&u!==void 0?u:i),!e.emptyAttrs&&!e.xmlMode&&a===""?i:`${i}="${r(a)}"`}).join(" ")}const ut=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function X(t,e={}){const n="length"in t?t:[t];let r="";for(let i=0;i<n.length;i++)r+=Qt(n[i],e);return r}function Qt(t,e){switch(t.type){case _t:return X(t.children,e);case jt:case Pt:return ee(t);case Lt:return ie(t);case $t:return re(t);case kt:case qt:case Rt:return te(t,e);case Mt:return ne(t,e)}}const Zt=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Jt=new Set(["svg","math"]);function te(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=Yt.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&Zt.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&Jt.has(t.name)&&(e={...e,xmlMode:"foreign"});let r=`<${t.name}`;const i=Xt(t.attribs,e);return i&&(r+=` ${i}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&ut.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=X(t.children,e)),(e.xmlMode||!ut.has(t.name))&&(r+=`</${t.name}>`)),r}function ee(t){return`<${t.data}>`}function ne(t,e){var n;let r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&Ht.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?ft(r):Wt(r)),r}function re(t){return`<![CDATA[${t.children[0].data}]]>`}function ie(t){return`<!--${t.data}-->`}function dt(t,e){return X(t,e)}function se(t,e){return v(t)?t.children.map(n=>dt(n,e)).join(""):""}function _(t){return Array.isArray(t)?t.map(_).join(""):y(t)?t.name==="br"?`
`:_(t.children):K(t)?_(t.children):T(t)?t.data:""}function M(t){return Array.isArray(t)?t.map(M).join(""):v(t)&&!ot(t)?M(t.children):T(t)?t.data:""}function B(t){return Array.isArray(t)?t.map(B).join(""):v(t)&&(t.type===h.Tag||K(t))?B(t.children):T(t)?t.data:""}function Q(t){return v(t)?t.children:[]}function ht(t){return t.parent||null}function ue(t){const e=ht(t);if(e!=null)return Q(e);const n=[t];let{prev:r,next:i}=t;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;i!=null;)n.push(i),{next:i}=i;return n}function ae(t,e){var n;return(n=t.attribs)===null||n===void 0?void 0:n[e]}function ce(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function le(t){return t.name}function oe(t){let{next:e}=t;for(;e!==null&&!y(e);)({next:e}=e);return e}function fe(t){let{prev:e}=t;for(;e!==null&&!y(e);)({prev:e}=e);return e}function E(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,n=e.lastIndexOf(t);n>=0&&e.splice(n,1)}t.next=null,t.prev=null,t.parent=null}function ge(t,e){const n=e.prev=t.prev;n&&(n.next=e);const r=e.next=t.next;r&&(r.prev=e);const i=e.parent=t.parent;if(i){const s=i.children;s[s.lastIndexOf(t)]=e,t.parent=null}}function de(t,e){if(E(e),e.next=null,e.parent=t,t.children.push(e)>1){const n=t.children[t.children.length-2];n.next=e,e.prev=n}else e.prev=null}function he(t,e){E(e);const{parent:n}=t,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){const i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)}function pe(t,e){if(E(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const n=t.children[1];n.prev=e,e.next=n}else e.next=null}function ye(t,e){E(e);const{parent:n}=t;if(n){const r=n.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}function N(t,e,n=!0,r=1/0){return Z(t,Array.isArray(e)?e:[e],n,r)}function Z(t,e,n,r){const i=[],s=[Array.isArray(e)?e:[e]],u=[0];for(;;){if(u[0]>=s[0].length){if(u.length===1)return i;s.shift(),u.shift();continue}const a=s[0][u[0]++];if(t(a)&&(i.push(a),--r<=0))return i;n&&v(a)&&a.children.length>0&&(u.unshift(0),s.unshift(a.children))}}function be(t,e){return e.find(t)}function J(t,e,n=!0){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=r[i];if(y(s)&&t(s))return s;if(n&&v(s)&&s.children.length>0){const u=J(t,s.children,!0);if(u)return u}}return null}function pt(t,e){return(Array.isArray(e)?e:[e]).some(n=>y(n)&&t(n)||v(n)&&pt(t,n.children))}function me(t,e){const n=[],r=[Array.isArray(e)?e:[e]],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return n;r.shift(),i.shift();continue}const s=r[0][i[0]++];y(s)&&t(s)&&n.push(s),v(s)&&s.children.length>0&&(i.unshift(0),r.unshift(s.children))}}const P={tag_name(t){return typeof t=="function"?e=>y(e)&&t(e.name):t==="*"?y:e=>y(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>T(e)&&t(e.data):e=>T(e)&&e.data===t}};function tt(t,e){return typeof e=="function"?n=>y(n)&&e(n.attribs[t]):n=>y(n)&&n.attribs[t]===e}function ve(t,e){return n=>t(n)||e(n)}function yt(t){const e=Object.keys(t).map(n=>{const r=t[n];return Object.prototype.hasOwnProperty.call(P,n)?P[n](r):tt(n,r)});return e.length===0?null:e.reduce(ve)}function Ae(t,e){const n=yt(t);return n?n(e):!0}function Ce(t,e,n,r=1/0){const i=yt(t);return i?N(i,e,n,r):[]}function Se(t,e,n=!0){return Array.isArray(e)||(e=[e]),J(tt("id",t),e,n)}function x(t,e,n=!0,r=1/0){return N(P.tag_name(t),e,n,r)}function we(t,e,n=!0,r=1/0){return N(tt("class",t),e,n,r)}function Te(t,e,n=!0,r=1/0){return N(P.tag_type(t),e,n,r)}function xe(t){let e=t.length;for(;--e>=0;){const n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0){t.splice(e,1);continue}for(let r=n.parent;r;r=r.parent)if(t.includes(r)){t.splice(e,1);break}}return t}var m;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(m||(m={}));function bt(t,e){const n=[],r=[];if(t===e)return 0;let i=v(t)?t:t.parent;for(;i;)n.unshift(i),i=i.parent;for(i=v(e)?e:e.parent;i;)r.unshift(i),i=i.parent;const s=Math.min(n.length,r.length);let u=0;for(;u<s&&n[u]===r[u];)u++;if(u===0)return m.DISCONNECTED;const a=n[u-1],c=a.children,l=n[u],o=r[u];return c.indexOf(l)>c.indexOf(o)?a===e?m.FOLLOWING|m.CONTAINED_BY:m.FOLLOWING:a===t?m.PRECEDING|m.CONTAINS:m.PRECEDING}function mt(t){return t=t.filter((e,n,r)=>!r.includes(e,n+1)),t.sort((e,n)=>{const r=bt(e,n);return r&m.PRECEDING?-1:r&m.FOLLOWING?1:0}),t}function Ee(t){const e=L(De,t);return e?e.name==="feed"?Ne(e):Fe(e):null}function Ne(t){var e;const n=t.children,r={type:"atom",items:x("entry",n).map(u=>{var a;const{children:c}=u,l={media:vt(c)};b(l,"id","id",c),b(l,"title","title",c);const o=(a=L("link",c))===null||a===void 0?void 0:a.attribs.href;o&&(l.link=o);const d=C("summary",c)||C("content",c);d&&(l.description=d);const p=C("updated",c);return p&&(l.pubDate=new Date(p)),l})};b(r,"id","id",n),b(r,"title","title",n);const i=(e=L("link",n))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),b(r,"description","subtitle",n);const s=C("updated",n);return s&&(r.updated=new Date(s)),b(r,"author","email",n,!0),r}function Fe(t){var e,n;const r=(n=(e=L("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&n!==void 0?n:[],i={type:t.name.substr(0,3),id:"",items:x("item",t.children).map(u=>{const{children:a}=u,c={media:vt(a)};b(c,"id","guid",a),b(c,"title","title",a),b(c,"link","link",a),b(c,"description","description",a);const l=C("pubDate",a)||C("dc:date",a);return l&&(c.pubDate=new Date(l)),c})};b(i,"title","title",r),b(i,"link","link",r),b(i,"description","description",r);const s=C("lastBuildDate",r);return s&&(i.updated=new Date(s)),b(i,"author","managingEditor",r,!0),i}const Oe=["url","type","lang"],Ie=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function vt(t){return x("media:content",t).map(e=>{const{attribs:n}=e,r={medium:n.medium,isDefault:!!n.isDefault};for(const i of Oe)n[i]&&(r[i]=n[i]);for(const i of Ie)n[i]&&(r[i]=parseInt(n[i],10));return n.expression&&(r.expression=n.expression),r})}function L(t,e){return x(t,e,!0,1)[0]}function C(t,e,n=!1){return M(x(t,e,n,1)).trim()}function b(t,e,n,r,i=!1){const s=C(n,r,i);s&&(t[e]=s)}function De(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const $=Object.freeze(Object.defineProperty({__proto__:null,isTag:y,isCDATA:K,isText:T,isComment:ot,isDocument:Gt,hasChildren:v,getOuterHTML:dt,getInnerHTML:se,getText:_,textContent:M,innerText:B,getChildren:Q,getParent:ht,getSiblings:ue,getAttributeValue:ae,hasAttrib:ce,getName:le,nextElementSibling:oe,prevElementSibling:fe,removeElement:E,replaceElement:ge,appendChild:de,append:he,prependChild:pe,prepend:ye,filter:N,find:Z,findOneChild:be,findOne:J,existsOne:pt,findAll:me,testElement:Ae,getElements:Ce,getElementById:Se,getElementsByTagName:x,getElementsByClassName:we,getElementsByTagType:Te,removeSubsets:xe,get DocumentPosition(){return m},compareDocumentPosition:bt,uniqueSort:mt,getFeed:Ee},Symbol.toStringTag,{value:"Module"})),At=new Map([[g.Universal,50],[g.Tag,30],[g.Attribute,1],[g.Pseudo,0]]);function et(t){return!At.has(t.type)}const _e=new Map([[w.Exists,10],[w.Equals,8],[w.Not,7],[w.Start,6],[w.End,6],[w.Any,5]]);function Me(t){const e=t.map(Ct);for(let n=1;n<t.length;n++){const r=e[n];if(!(r<0))for(let i=n-1;i>=0&&r<e[i];i--){const s=t[i+1];t[i+1]=t[i],t[i]=s,e[i+1]=e[i],e[i]=r}}}function Ct(t){var e,n;let r=(e=At.get(t.type))!==null&&e!==void 0?e:-1;return t.type===g.Attribute?(r=(n=_e.get(t.action))!==null&&n!==void 0?n:4,t.action===w.Equals&&t.name==="id"&&(r=9),t.ignoreCase&&(r>>=1)):t.type===g.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?r=0:Array.isArray(t.data)?(r=Math.min(...t.data.map(i=>Math.min(...i.map(Ct)))),r<0&&(r=0)):r=2:r=3),r}const Pe=/[-[\]{}()*+?.,\\^$|#\s]/g;function at(t){return t.replace(Pe,"\\$&")}const Le=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function S(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&Le.has(t.name)}const ke={equals(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;return S(e,n)?(s=s.toLowerCase(),u=>{const a=r.getAttributeValue(u,i);return a!=null&&a.length===s.length&&a.toLowerCase()===s&&t(u)}):u=>r.getAttributeValue(u,i)===s&&t(u)},hyphen(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;const u=s.length;return S(e,n)?(s=s.toLowerCase(),function(c){const l=r.getAttributeValue(c,i);return l!=null&&(l.length===u||l.charAt(u)==="-")&&l.substr(0,u).toLowerCase()===s&&t(c)}):function(c){const l=r.getAttributeValue(c,i);return l!=null&&(l.length===u||l.charAt(u)==="-")&&l.substr(0,u)===s&&t(c)}},element(t,e,n){const{adapter:r}=n,{name:i,value:s}=e;if(/\s/.test(s))return f.falseFunc;const u=new RegExp(`(?:^|\\s)${at(s)}(?:$|\\s)`,S(e,n)?"i":"");return function(c){const l=r.getAttributeValue(c,i);return l!=null&&l.length>=s.length&&u.test(l)&&t(c)}},exists(t,{name:e},{adapter:n}){return r=>n.hasAttrib(r,e)&&t(r)},start(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;const u=s.length;return u===0?f.falseFunc:S(e,n)?(s=s.toLowerCase(),a=>{const c=r.getAttributeValue(a,i);return c!=null&&c.length>=u&&c.substr(0,u).toLowerCase()===s&&t(a)}):a=>{var c;return!!(!((c=r.getAttributeValue(a,i))===null||c===void 0)&&c.startsWith(s))&&t(a)}},end(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;const u=-s.length;return u===0?f.falseFunc:S(e,n)?(s=s.toLowerCase(),a=>{var c;return((c=r.getAttributeValue(a,i))===null||c===void 0?void 0:c.substr(u).toLowerCase())===s&&t(a)}):a=>{var c;return!!(!((c=r.getAttributeValue(a,i))===null||c===void 0)&&c.endsWith(s))&&t(a)}},any(t,e,n){const{adapter:r}=n,{name:i,value:s}=e;if(s==="")return f.falseFunc;if(S(e,n)){const u=new RegExp(at(s),"i");return function(c){const l=r.getAttributeValue(c,i);return l!=null&&l.length>=s.length&&u.test(l)&&t(c)}}return u=>{var a;return!!(!((a=r.getAttributeValue(u,i))===null||a===void 0)&&a.includes(s))&&t(u)}},not(t,e,n){const{adapter:r}=n,{name:i}=e;let{value:s}=e;return s===""?u=>!!r.getAttributeValue(u,i)&&t(u):S(e,n)?(s=s.toLowerCase(),u=>{const a=r.getAttributeValue(u,i);return(a==null||a.length!==s.length||a.toLowerCase()!==s)&&t(u)}):u=>r.getAttributeValue(u,i)!==s&&t(u)}};function I(t,e){return n=>{const r=e.getParent(n);return r!=null&&e.isTag(r)&&t(n)}}const W={contains(t,e,{adapter:n}){return function(i){return t(i)&&n.getText(i).includes(e)}},icontains(t,e,{adapter:n}){const r=e.toLowerCase();return function(s){return t(s)&&n.getText(s).toLowerCase().includes(r)}},"nth-child"(t,e,{adapter:n,equals:r}){const i=O(e);return i===f.falseFunc?f.falseFunc:i===f.trueFunc?I(t,n):function(u){const a=n.getSiblings(u);let c=0;for(let l=0;l<a.length&&!r(u,a[l]);l++)n.isTag(a[l])&&c++;return i(c)&&t(u)}},"nth-last-child"(t,e,{adapter:n,equals:r}){const i=O(e);return i===f.falseFunc?f.falseFunc:i===f.trueFunc?I(t,n):function(u){const a=n.getSiblings(u);let c=0;for(let l=a.length-1;l>=0&&!r(u,a[l]);l--)n.isTag(a[l])&&c++;return i(c)&&t(u)}},"nth-of-type"(t,e,{adapter:n,equals:r}){const i=O(e);return i===f.falseFunc?f.falseFunc:i===f.trueFunc?I(t,n):function(u){const a=n.getSiblings(u);let c=0;for(let l=0;l<a.length;l++){const o=a[l];if(r(u,o))break;n.isTag(o)&&n.getName(o)===n.getName(u)&&c++}return i(c)&&t(u)}},"nth-last-of-type"(t,e,{adapter:n,equals:r}){const i=O(e);return i===f.falseFunc?f.falseFunc:i===f.trueFunc?I(t,n):function(u){const a=n.getSiblings(u);let c=0;for(let l=a.length-1;l>=0;l--){const o=a[l];if(r(u,o))break;n.isTag(o)&&n.getName(o)===n.getName(u)&&c++}return i(c)&&t(u)}},root(t,e,{adapter:n}){return r=>{const i=n.getParent(r);return(i==null||!n.isTag(i))&&t(r)}},scope(t,e,n,r){const{equals:i}=n;return!r||r.length===0?W.root(t,e,n):r.length===1?s=>i(r[0],s)&&t(s):s=>r.includes(s)&&t(s)},hover:j("isHovered"),visited:j("isVisited"),active:j("isActive")};function j(t){return function(n,r,{adapter:i}){const s=i[t];return typeof s!="function"?f.falseFunc:function(a){return s(a)&&n(a)}}}const ct={empty(t,{adapter:e}){return!e.getChildren(t).some(n=>e.isTag(n)||e.getText(n)!=="")},"first-child"(t,{adapter:e,equals:n}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const r=e.getSiblings(t).find(i=>e.isTag(i));return r!=null&&n(t,r)},"last-child"(t,{adapter:e,equals:n}){const r=e.getSiblings(t);for(let i=r.length-1;i>=0;i--){if(n(t,r[i]))return!0;if(e.isTag(r[i]))break}return!1},"first-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),i=e.getName(t);for(let s=0;s<r.length;s++){const u=r[s];if(n(t,u))return!0;if(e.isTag(u)&&e.getName(u)===i)break}return!1},"last-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),i=e.getName(t);for(let s=r.length-1;s>=0;s--){const u=r[s];if(n(t,u))return!0;if(e.isTag(u)&&e.getName(u)===i)break}return!1},"only-of-type"(t,{adapter:e,equals:n}){const r=e.getName(t);return e.getSiblings(t).every(i=>n(t,i)||!e.isTag(i)||e.getName(i)!==r)},"only-child"(t,{adapter:e,equals:n}){return e.getSiblings(t).every(r=>n(t,r)||!e.isTag(r))}};function lt(t,e,n,r){if(n===null){if(t.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const qe={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},St={};function Re(t,e){return t===f.falseFunc?f.falseFunc:n=>e.isTag(n)&&t(n)}function wt(t,e){const n=e.getSiblings(t);if(n.length<=1)return[];const r=n.indexOf(t);return r<0||r===n.length-1?[]:n.slice(r+1).filter(e.isTag)}function Y(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const G=(t,e,n,r,i)=>{const s=i(e,Y(n),r);return s===f.trueFunc?t:s===f.falseFunc?f.falseFunc:u=>s(u)&&t(u)},U={is:G,matches:G,where:G,not(t,e,n,r,i){const s=i(e,Y(n),r);return s===f.falseFunc?t:s===f.trueFunc?f.falseFunc:u=>!s(u)&&t(u)},has(t,e,n,r,i){const{adapter:s}=n,u=Y(n);u.relativeSelector=!0;const a=e.some(o=>o.some(et))?[St]:void 0,c=i(e,u,a);if(c===f.falseFunc)return f.falseFunc;const l=Re(c,s);if(a&&c!==f.trueFunc){const{shouldTestNextSiblings:o=!1}=c;return d=>{if(!t(d))return!1;a[0]=d;const p=s.getChildren(d),A=o?[...p,...wt(d,s)]:p;return s.existsOne(l,A)}}return o=>t(o)&&s.existsOne(l,s.getChildren(o))}};function $e(t,e,n,r,i){var s;const{name:u,data:a}=e;if(Array.isArray(a)){if(!(u in U))throw new Error(`Unknown pseudo-class :${u}(${a})`);return U[u](t,a,n,r,i)}const c=(s=n.pseudos)===null||s===void 0?void 0:s[u],l=typeof c=="string"?c:qe[u];if(typeof l=="string"){if(a!=null)throw new Error(`Pseudo ${u} doesn't have any arguments`);const o=R(l);return U.is(t,o,n,r,i)}if(typeof c=="function")return lt(c,u,a,1),o=>c(o,a)&&t(o);if(u in W)return W[u](t,a,n,r);if(u in ct){const o=ct[u];return lt(o,u,a,2),d=>o(d,n,a)&&t(d)}throw new Error(`Unknown pseudo-class :${u}`)}function V(t,e){const n=e.getParent(t);return n&&e.isTag(n)?n:null}function je(t,e,n,r,i){const{adapter:s,equals:u}=n;switch(e.type){case g.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case g.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case g.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),ke[e.action](t,e,n)}case g.Pseudo:return $e(t,e,n,r,i);case g.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:a}=e;return(!n.xmlMode||n.lowerCaseTags)&&(a=a.toLowerCase()),function(l){return s.getName(l)===a&&t(l)}}case g.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(l){let o=l;for(;o=V(o,s);)if(t(o))return!0;return!1};const a=new WeakSet;return function(l){let o=l;for(;o=V(o,s);)if(!a.has(o)){if(s.isTag(o)&&t(o))return!0;a.add(o)}return!1}}case"_flexibleDescendant":return function(c){let l=c;do if(t(l))return!0;while(l=V(l,s));return!1};case g.Parent:return function(c){return s.getChildren(c).some(l=>s.isTag(l)&&t(l))};case g.Child:return function(c){const l=s.getParent(c);return l!=null&&s.isTag(l)&&t(l)};case g.Sibling:return function(c){const l=s.getSiblings(c);for(let o=0;o<l.length;o++){const d=l[o];if(u(c,d))break;if(s.isTag(d)&&t(d))return!0}return!1};case g.Adjacent:return s.prevElementSibling?function(c){const l=s.prevElementSibling(c);return l!=null&&t(l)}:function(c){const l=s.getSiblings(c);let o;for(let d=0;d<l.length;d++){const p=l[d];if(u(c,p))break;s.isTag(p)&&(o=p)}return!!o&&t(o)};case g.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function Tt(t){return t.type===g.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(Tt)))}const Ge={type:g.Descendant},Ue={type:"_flexibleDescendant"},Ve={type:g.Pseudo,name:"scope",data:null};function Be(t,{adapter:e},n){const r=!!(n!=null&&n.every(i=>{const s=e.isTag(i)&&e.getParent(i);return i===St||s&&e.isTag(s)}));for(const i of t){if(!(i.length>0&&et(i[0])&&i[0].type!==g.Descendant))if(r&&!i.some(Tt))i.unshift(Ge);else continue;i.unshift(Ve)}}function xt(t,e,n){var r;t.forEach(Me),n=(r=e.context)!==null&&r!==void 0?r:n;const i=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(e.relativeSelector!==!1)Be(t,e,s);else if(t.some(c=>c.length>0&&et(c[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let u=!1;const a=t.map(c=>{if(c.length>=2){const[l,o]=c;l.type!==g.Pseudo||l.name!=="scope"||(i&&o.type===g.Descendant?c[1]=Ue:(o.type===g.Adjacent||o.type===g.Sibling)&&(u=!0))}return We(c,e,s)}).reduce(Ye,f.falseFunc);return a.shouldTestNextSiblings=u,a}function We(t,e,n){var r;return t.reduce((i,s)=>i===f.falseFunc?f.falseFunc:je(i,s,e,n,xt),(r=e.rootFunc)!==null&&r!==void 0?r:f.trueFunc)}function Ye(t,e){return e===f.falseFunc||t===f.trueFunc?t:t===f.falseFunc||e===f.trueFunc?e:function(r){return t(r)||e(r)}}const Et=(t,e)=>t===e,ze={adapter:$,equals:Et};function He(t){var e,n,r,i;const s=t!=null?t:ze;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=$),(n=s.equals)!==null&&n!==void 0||(s.equals=(i=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:Et),s}function Ke(t){return function(n,r,i){const s=He(r);return t(n,s,i)}}const nt=Ke(xt);function Nt(t,e,n=!1){return n&&(t=Xe(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function Xe(t,e){const n=Array.isArray(t)?t.slice(0):[t],r=n.length;for(let i=0;i<r;i++){const s=wt(n[i],e);n.push(...s)}return n}const Qe=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function k(t){return t.type!=="pseudo"?!1:Qe.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(k)):!1}function Ze(t,e,n){const r=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function Je(t){for(;t.parent;)t=t.parent;return t}function rt(t){const e=[],n=[];for(const r of t)r.some(k)?e.push(r):n.push(r);return[n,e]}const tn={type:g.Universal,namespace:null},en={type:g.Pseudo,name:"scope",data:null};function cn(t,e,n={}){return nn([t],e,n)}function nn(t,e,n={}){if(typeof e=="function")return t.some(e);const[r,i]=rt(R(e));return r.length>0&&t.some(nt(r,n))||i.some(s=>Ot(s,t,n).length>0)}function rn(t,e,n,r){const i=typeof n=="string"?parseInt(n,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<e.length?[i<0?e[e.length+i]:e[i]]:[];case"gt":return isFinite(i)?e.slice(i+1):[];case"even":return e.filter((s,u)=>u%2===0);case"odd":return e.filter((s,u)=>u%2===1);case"not":{const s=new Set(Ft(n,e,r));return e.filter(u=>!s.has(u))}}}function ln(t,e,n={}){return Ft(R(t),e,n)}function Ft(t,e,n){if(e.length===0)return[];const[r,i]=rt(t);let s;if(r.length){const u=H(e,r,n);if(i.length===0)return u;u.length&&(s=new Set(u))}for(let u=0;u<i.length&&(s==null?void 0:s.size)!==e.length;u++){const a=i[u];if((s?e.filter(o=>y(o)&&!s.has(o)):e).length===0)break;const l=Ot(a,e,n);if(l.length)if(s)l.forEach(o=>s.add(o));else{if(u===i.length-1)return l;s=new Set(l)}}return typeof s<"u"?s.size===e.length?e:e.filter(u=>s.has(u)):[]}function Ot(t,e,n){var r;if(t.some(D)){const i=(r=n.root)!==null&&r!==void 0?r:Je(e[0]),s={...n,context:e,relativeSelector:!1};return t.push(en),q(i,t,s,!0,e.length)}return q(e,t,n,!1,e.length)}function on(t,e,n={},r=1/0){if(typeof t=="function")return It(e,t);const[i,s]=rt(R(t)),u=s.map(a=>q(e,a,n,!0,r));return i.length&&u.push(z(e,i,n,r)),u.length===0?[]:u.length===1?u[0]:mt(u.reduce((a,c)=>[...a,...c]))}function q(t,e,n,r,i){const s=e.findIndex(k),u=e.slice(0,s),a=e[s],c=e.length-1===s?i:1/0,l=Ze(a.name,a.data,c);if(l===0)return[];const d=(u.length===0&&!Array.isArray(t)?Q(t).filter(y):u.length===0?(Array.isArray(t)?t:[t]).filter(y):r||u.some(D)?z(t,[u],n,l):H(t,[u],n)).slice(0,l);let p=rn(a.name,d,a.data,n);if(p.length===0||e.length===s+1)return p;const A=e.slice(s+1),it=A.some(D);if(it){if(D(A[0])){const{type:F}=A[0];(F===g.Sibling||F===g.Adjacent)&&(p=Nt(p,$,!0)),A.unshift(tn)}n={...n,relativeSelector:!1,rootFunc:F=>p.includes(F)}}else n.rootFunc&&n.rootFunc!==f.trueFunc&&(n={...n,rootFunc:f.trueFunc});return A.some(k)?q(p,A,n,!1,i):it?z(p,[A],n,i):H(p,[A],n)}function z(t,e,n,r){const i=nt(e,n,t);return It(t,i,r)}function It(t,e,n=1/0){const r=Nt(t,$,e.shouldTestNextSiblings);return Z(i=>y(i)&&e(i),r,!0,n)}function H(t,e,n){const r=(Array.isArray(t)?t:[t]).filter(y);if(r.length===0)return r;const i=nt(e,n);return i===f.trueFunc?r:r.filter(i)}export{nn as a,ln as f,cn as i,on as s};

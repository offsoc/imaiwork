import{D as C,t as E,F as V}from"./element-plus.09e738c5.js";import{_ as b}from"./picker.bbad25f8.js";import{e as k,a as x}from"./draw_case.217181c0.js";import{_ as B}from"./index.e57d7385.js";import{d as R,s as c,r as d,o as A,c as D,P as s,G as r,u as l}from"./@vue.b0c8b5fa.js";const S={class:"edit-popup"},P=R({__name:"edit",emits:["success","close"],setup(U,{expose:f,emit:v}){const p=v,_=c(),n=c(),i=d(""),e=d({id:"",case_type:4,result_image:"",status:"1"}),g={result_image:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u56FE\u7247",trigger:"blur"}]},w=async()=>{var a,t;try{await((a=_.value)==null?void 0:a.validate()),e.value.id?await k(e.value):await x(e.value),(t=n.value)==null||t.close(),p("success")}catch(o){return o}},F=()=>{p("close")};return f({open:(a,t)=>{var o;a=="add"?(e.value={id:"",case_type:4,result_image:"",status:1},i.value="\u65B0\u589E\u6A21\u7279"):a=="edit"&&(Object.keys(e.value).map(u=>{e.value[u]=t[u]}),i.value="\u7F16\u8F91\u6A21\u7279"),(o=n.value)==null||o.open()}}),(a,t)=>{const o=b,u=C,h=E,y=V;return A(),D("div",S,[s(B,{ref_key:"popupRef",ref:n,title:l(i),async:!0,width:"550px",onConfirm:w,onClose:F},{default:r(()=>[s(y,{ref_key:"formRef",ref:_,rules:g,model:l(e),"label-width":"100px"},{default:r(()=>[s(u,{label:"\u6A21\u7279",prop:"result_image"},{default:r(()=>[s(o,{modelValue:l(e).result_image,"onUpdate:modelValue":t[0]||(t[0]=m=>l(e).result_image=m),limit:1},null,8,["modelValue"])]),_:1}),s(u,{label:"\u72B6\u6001",prop:"status"},{default:r(()=>[s(h,{modelValue:l(e).status,"onUpdate:modelValue":t[1]||(t[1]=m=>l(e).status=m),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{P as _};

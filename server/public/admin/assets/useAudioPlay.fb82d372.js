import{s as d,r as s,X as p}from"./@vue.b0c8b5fa.js";const u=new Set,A=y=>{const e=d(null),l=s(!1),r=s(0);s(0);const o=a=>{e.value||t(),e.value.src=a},i=async a=>{var v;e.value||t(),a&&o(a),(v=e.value)==null||v.play()},f=()=>{var a;(a=e.value)==null||a.pause(),l.value=!1},n=()=>{l.value=!1,u.forEach(a=>{a.pause(),a.currentTime=0,a.audioPlaying=!1})},t=()=>{e.value=new Audio,e.value.audioPlaying=l.value,u.add(e.value),e.value.onplay=()=>{l.value=!0},e.value.onended=()=>{l.value=!1},e.value.onerror=()=>{l.value=!1}},c=()=>{e.value&&(u.delete(e.value),e.value=null)};return p(()=>{var a;(a=e.value)!=null&&a.src&&n(),e.value&&(u.delete(e.value),e.value=null)}),{pause:f,pauseAll:n,play:i,destroy:c,setUrl:o,stop,duration:r,isPlaying:l}};export{A as u};

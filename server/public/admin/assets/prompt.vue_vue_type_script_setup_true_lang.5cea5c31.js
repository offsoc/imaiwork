import{C as w,D as y,F as h,w as E}from"./element-plus.e618cff3.js";import{s as P,g as V}from"./chat.c9fea683.js";import{u as b}from"./useLockFn.b1b43a93.js";import{_ as A}from"./index.81ef9c88.js";import{d as N,r as c,s as R,o as I,G as L,H as a,Q as s,u as e,a as r,M as S}from"./@vue.fa3e2f74.js";const j={class:"flex justify-end mt-4"},$=N({__name:"prompt",emits:["close","success"],setup(G,{expose:i,emit:_}){const f=_,u=c("image"),m=R(),t=c({}),d=async()=>{const n=await V();t.value=n.find(o=>o.id===(u.value==="image"?3:4))},p=async()=>{await P(t.value),l()},{lockFn:C,isLock:g}=b(p),x=n=>{var o;u.value=n,(o=m.value)==null||o.open(),d()},l=()=>{f("close")};return i({open:x,close:l}),(n,o)=>{const B=w,D=y,v=h,F=E;return I(),L(A,{width:"700px",title:`${e(u)==="image"?"\u56FE\u7247\u83B7\u53D6":"\u6587\u5B57\u83B7\u53D6"}\u63D0\u793A\u8BCD\u914D\u7F6E`,ref_key:"popRef",ref:m,"confirm-button-text":"","cancel-button-text":"",onClose:l,onConfirm:p},{default:a(()=>[s(v,{model:e(t)},{default:a(()=>[s(D,{label:"\u63D0\u793A\u8BCD"},{default:a(()=>[r("div",null,[s(B,{modelValue:e(t).prompt_text,"onUpdate:modelValue":o[0]||(o[0]=k=>e(t).prompt_text=k),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD",class:"w-[500px]",rows:20},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"]),r("div",j,[s(F,{type:"primary",onClick:e(C),loading:e(g)},{default:a(()=>[S("\u4FDD\u5B58")]),_:1},8,["onClick","loading"])])]),_:1},8,["title"])}}});export{$ as _};

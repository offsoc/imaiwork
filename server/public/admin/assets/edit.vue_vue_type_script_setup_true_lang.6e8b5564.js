import{C as S,D as U,G as q,H as I,t as A,F as G}from"./element-plus.09e738c5.js";import{_ as L}from"./picker.bbad25f8.js";import{r as m}from"./index.39a36e30.js";import{_ as N}from"./index.e57d7385.js";import{d as O,s as F,r as H,Y as P,o as v,c as C,P as u,G as n,u as a,a as p,O as T,a5 as Y}from"./@vue.b0c8b5fa.js";const le=o=>m.get({url:"/material.music/lists",params:o}),j=o=>m.post({url:"/material.music/add",data:o}),ae=o=>m.post({url:"/material.music/delete",params:o}),z=o=>m.post({url:"/material.music/update",data:o}),J={class:"edit-popup"},K={class:"w-80"},Q={class:"flex items-center gap-2 flex-wrap w-80"},W={class:"w-full"},se=O({__name:"edit",emits:["success","close"],setup(o,{expose:E,emit:w}){const y=[{name:"\u79D1\u6280",value:"1"},{name:"\u60AC\u7591",value:"2"},{name:"\u6292\u60C5",value:"3"},{name:"\u6B22\u5FEB",value:"4"},{name:"\u53E4\u5178",value:"5"},{name:"\u8DF3\u8DC3",value:"6"}],d=w,_=F(),i=F(),f=H(""),t=P({id:"",url:"",style:1,name:"",status:1}),V={url:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u80CC\u666F\u97F3\u4E50"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},g=s=>{var e;f.value=s==="add"?"\u65B0\u589E\u80CC\u666F\u97F3\u4E50":"\u7F16\u8F91\u80CC\u666F\u97F3\u4E50",(e=i.value)==null||e.open()},B=()=>{d("close")},D=async()=>{var s,e;try{await((s=_.value)==null?void 0:s.validate()),t.id?await z(t):await j(t),(e=i.value)==null||e.close(),d("success")}catch(c){return c}};return E({open:g,setFormData:async s=>{for(const e in t)s[e]!=null&&s[e]!=null&&(t[e]=s[e])}}),(s,e)=>{const c=S,r=U,b=L,h=q,x=I,M=A,k=G;return v(),C("div",J,[u(N,{ref_key:"popupRef",ref:i,title:a(f),async:!0,width:"550px",onConfirm:D,onClose:B},{default:n(()=>[u(k,{ref_key:"formRef",ref:_,rules:V,model:a(t),"label-width":"100px"},{default:n(()=>[u(r,{label:"\u540D\u79F0",prop:"name"},{default:n(()=>[p("div",K,[u(c,{modelValue:a(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(t).name=l),"show-word-limit":"",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",maxlength:"30"},null,8,["modelValue"])])]),_:1}),u(r,{label:"\u80CC\u666F\u97F3\u4E50",prop:"url"},{default:n(()=>[u(b,{modelValue:a(t).url,"onUpdate:modelValue":e[1]||(e[1]=l=>a(t).url=l),type:"audio",limit:1},null,8,["modelValue"])]),_:1}),u(r,{label:"\u6240\u5C5E\u98CE\u683C",prop:"style"},{default:n(()=>[p("div",Q,[p("div",W,[u(x,{class:"!w-full",modelValue:a(t).style,"onUpdate:modelValue":e[2]||(e[2]=l=>a(t).style=l),placeholder:"\u8BF7\u9009\u62E9\u6240\u5C5E\u98CE\u683C"},{default:n(()=>[(v(),C(T,null,Y(y,(l,R)=>u(h,{key:R,label:l.name,value:parseInt(l.value.toString())},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])])]),_:1}),u(r,{label:"\u72B6\u6001",prop:"status"},{default:n(()=>[u(M,{modelValue:a(t).status,"onUpdate:modelValue":e[3]||(e[3]=l=>a(t).status=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{se as _,ae as d,le as g};

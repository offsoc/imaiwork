import{C as w,D as y,F as P,w as h}from"./element-plus.09e738c5.js";import{s as E,g as V}from"./chat.ee175473.js";import{u as b}from"./useLockFn.cf82402d.js";import{_ as A}from"./index.e57d7385.js";import{d as L,r as c,s as N,o as R,F as I,G as a,P as s,u as e,a as r,L as S}from"./@vue.b0c8b5fa.js";const j={class:"flex justify-end mt-4"},H=L({__name:"prompt",emits:["close","success"],setup(G,{expose:i,emit:_}){const f=_,u=c("image"),m=N(),t=c({}),d=async()=>{const n=await V();t.value=n.find(o=>o.id===(u.value==="image"?3:4))},p=async()=>{await E(t.value),l()},{lockFn:C,isLock:g}=b(p),x=n=>{var o;u.value=n,(o=m.value)==null||o.open(),d()},l=()=>{f("close")};return i({open:x,close:l}),(n,o)=>{const B=w,D=y,v=P,F=h;return R(),I(A,{width:"700px",title:`${e(u)==="image"?"\u56FE\u7247\u83B7\u53D6":"\u6587\u5B57\u83B7\u53D6"}\u63D0\u793A\u8BCD\u914D\u7F6E`,ref_key:"popRef",ref:m,"confirm-button-text":"","cancel-button-text":"",onClose:l,onConfirm:p},{default:a(()=>[s(v,{model:e(t)},{default:a(()=>[s(D,{label:"\u63D0\u793A\u8BCD"},{default:a(()=>[r("div",null,[s(B,{modelValue:e(t).prompt_text,"onUpdate:modelValue":o[0]||(o[0]=k=>e(t).prompt_text=k),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD",class:"w-[500px]",rows:20},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"]),r("div",j,[s(F,{type:"primary",onClick:e(C),loading:e(g)},{default:a(()=>[S("\u4FDD\u5B58")]),_:1},8,["onClick","loading"])])]),_:1},8,["title"])}}});export{H as _};

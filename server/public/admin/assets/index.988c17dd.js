import{t as V,D as R,F as I,w as N,J as O,K as P,L as T,M as q}from"./element-plus.e618cff3.js";import{g as C,f as M,_ as $}from"./index.03099c94.js";import{b as z,c as G,d as H,e as J}from"./recharge.2341ab5b.js";import{u as K}from"./useLockFn.b1b43a93.js";import{u as Q}from"./usePaging.74092dd4.js";import{d as U,Y,ai as j,aq as W,o as a,c as h,Q as e,H as t,u as o,a as d,I as s,G as c,M as u,O as X}from"./@vue.fa3e2f74.js";import"./@vueuse.57305db2.js";import"./@element-plus.8edeb311.js";import"./lodash-es.72862127.js";import"./dayjs.33f9e030.js";import"./@vscode.6c9cb547.js";import"./katex.234fd046.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./async-validator.fb49d0f5.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.0bb3a698.js";import"./axios.e67d1c3e.js";import"./vue-router.24cf2b30.js";import"./pinia.d2a105b3.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.9d260b6b.js";import"./color.4290e22e.js";import"./clone.10c3af82.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.35afef70.js";import"./ms.a9ae1d6d.js";import"./nprogress.d9597aae.js";import"./vue-clipboard3.6701dfcc.js";import"./clipboard.a993786e.js";import"./sortablejs.fb59ed0f.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.fc60ff58.js";const Z=d("div",{class:"text-xl font-medium mb-[20px]"},"\u5145\u503C\u8BBE\u7F6E",-1),ee=d("div",{class:"form-tips"},"\u5F00\u542F\u540E\uFF0C\u5C0F\u7A0B\u5E8FIOS\u7AEF\u5C06\u663E\u793A\u5145\u503C\u5165\u53E3",-1),ze=U({__name:"index",setup(te){const n=Y({is_ios_open:0}),v={},E=async()=>{const l=await z();n.is_ios_open=l.is_ios_open},{isLock:b,lockFn:w}=K(async()=>{await H(n)}),{pager:_,getLists:f}=Q({fetchFun:J}),B=async l=>{await M.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await G({id:l}),f()};return E(),f(),(l,g)=>{const y=V,D=R,x=I,m=N,F=O,A=$,k=j("router-link"),r=P,S=T,p=W("perms"),L=q;return a(),h("div",null,[e(F,{shadow:"never",class:"!border-none"},{default:t(()=>[Z,e(x,{ref:"formRef",model:o(n),rules:v},{default:t(()=>[e(D,{label:"\u5C0F\u7A0B\u5E8FIOS\u662F\u5426\u663E\u793A",prop:"is_ios_open"},{default:t(()=>[d("div",null,[e(y,{modelValue:o(n).is_ios_open,"onUpdate:modelValue":g[0]||(g[0]=i=>o(n).is_ios_open=i),"active-value":1,"inactive-value":0},null,8,["modelValue"]),ee])]),_:1})]),_:1},8,["model"]),d("div",null,[s((a(),c(m,{type:"primary",loading:o(b),onClick:o(w)},{default:t(()=>[u("\u4FDD\u5B58")]),_:1},8,["loading","onClick"])),[[p,["finance.marketing.recharge/setConfig"]]])])]),_:1}),e(F,{shadow:"never",class:"!border-none mt-4"},{default:t(()=>[s((a(),h("div",null,[e(k,{to:o(C)("finance.marketing.rp/add:edit")},{default:t(()=>[e(m,{type:"primary"},{icon:t(()=>[e(A,{name:"el-icon-Plus"})]),default:t(()=>[u(" \u65B0\u589E\u5145\u503C\u5957\u9910 ")]),_:1})]),_:1},8,["to"])])),[[p,["finance.marketing.rp/add:edit"]]]),s((a(),c(S,{size:"large",data:o(_).lists,class:"mt-4"},{default:t(()=>[e(r,{label:"\u5957\u9910\u4EF7\u683C","min-width":"120"},{default:t(({row:i})=>[u(" \xA5"+X(i.price),1)]),_:1}),e(r,{label:"\u5957\u9910\u540D\u79F0",prop:"name","min-width":"120"}),e(r,{label:"\u7B97\u529B\u503C",prop:"package_info.tokens","min-width":"120"}),e(r,{label:"\u6392\u5E8F",prop:"sort"}),e(r,{label:"\u64CD\u4F5C",width:"120",fixed:"right"},{default:t(({row:i})=>[e(m,{type:"primary",link:""},{default:t(()=>[s((a(),c(k,{to:{path:o(C)("finance.marketing.rp/add:edit"),query:{id:i.id,mode:"edit"}}},{default:t(()=>[u(" \u7F16\u8F91 ")]),_:2},1032,["to"])),[[p,["finance.marketing.rp/add:edit"]]])]),_:2},1024),s((a(),c(m,{type:"danger",link:"",onClick:oe=>B(i.id)},{default:t(()=>[u(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[p,["recharge.package/del"]]])]),_:1})]),_:1},8,["data"])),[[L,o(_).loading]])]),_:1})])}}});export{ze as default};

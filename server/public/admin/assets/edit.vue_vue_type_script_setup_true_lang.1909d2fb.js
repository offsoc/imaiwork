import{_ as j}from"./index.81ef9c88.js";import{G as q,H as R,D as N,C as S,F as G}from"./element-plus.e618cff3.js";import{_ as H}from"./picker.587c3436.js";import{r}from"./index.03099c94.js";import{j as $}from"./consumer.a2fa56f9.js";import{u as M}from"./useLockFn.b1b43a93.js";import{d as P,s as Q,Y,r as d,o as F,G as v,H as n,a as i,Q as s,u,c as z,P as J,a5 as K}from"./@vue.fa3e2f74.js";const me=async()=>r.get({url:"/oem.oem/getInfo"}),de=async a=>r.get({url:"/oem.oem/lists",params:a}),T=async a=>r.post({url:"/oem.oem/add",params:a}),W=async a=>r.post({url:"/oem.oem/edit",params:a}),ie=async a=>r.post({url:"/oem.oem/delete",params:a}),pe=async a=>r.post({url:"/oem.oem/changeStatus",params:a}),X=i("div",{class:"form-tips"},"\u4E0D\u8981\u5E26\u4E0Ahttp\u6216\u8005https\uFF0C\u4F8B\u5982\uFF1Awww.baidu.com",-1),Z=i("div",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A64*64\u50CF\u7D20\uFF0C\u652F\u6301jpg\uFF0Cjpeg\uFF0Cpng\u683C\u5F0F",-1),ee=i("div",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A128*128\u50CF\u7D20\uFF0C\u652F\u6301jpg\uFF0Cjpeg\uFF0Cpng\u683C\u5F0F",-1),ce=P({__name:"edit",emits:["close","success"],setup(a,{expose:V,emit:E}){const _=E,f=Q(),o=Y({id:"",user_id:"",domain:"",logo_url:"",name:""}),k={user_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237"}],domain:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u57DF\u540D"}],logo_url:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u7AD9\u70B9ICON"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u9898"}]},g=d(),p=d("add"),B=d([]),c=d(!1),D=async l=>{try{c.value=!0;const{lists:e}=await $({keyword:l});B.value=e}finally{c.value=!1}},w=async()=>{var l;await((l=f.value)==null?void 0:l.validate()),p.value==="add"?await T(o):await W(o),C(),_("success")},b=l=>{var e;(e=g.value)==null||e.open(),p.value=l},C=()=>{_("close")},{lockFn:O,isLock:h}=M(w);return V({open:b,setFormData:async l=>{for(const e in o)l[e]!=null&&l[e]!=null&&(o[e]=l[e]);D(l.username)}}),(l,e)=>{const L=q,x=R,m=N,A=S,y=H,U=G,I=j;return F(),v(I,{ref_key:"popupRef",ref:g,async:"",width:"500px",title:u(p)==="add"?"\u6DFB\u52A0\u6388\u6743":"\u7F16\u8F91\u6388\u6743","confirm-loading":u(h),onConfirm:u(O),onClose:C},{default:n(()=>[i("div",null,[s(U,{model:u(o),rules:k,ref_key:"formRef",ref:f,"label-width":"100px"},{default:n(()=>[s(m,{label:"\u6240\u5C5E\u7528\u6237",prop:"user_id"},{default:n(()=>[s(x,{modelValue:u(o).user_id,"onUpdate:modelValue":e[0]||(e[0]=t=>u(o).user_id=t),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u4FE1\u606F",filterable:"",remote:"","reserve-keyword":"","remote-method":D,loading:u(c),clearable:""},{default:n(()=>[(F(!0),z(J,null,K(u(B),t=>(F(),v(L,{key:t.id,label:`${t.nickname}\uFF08${t.account}\uFF09`,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),s(m,{label:"\u7AD9\u70B9\u57DF\u540D",prop:"domain"},{default:n(()=>[s(A,{modelValue:u(o).domain,"onUpdate:modelValue":e[1]||(e[1]=t=>u(o).domain=t),placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u57DF\u540D"},null,8,["modelValue"]),X]),_:1}),s(m,{label:"\u7AD9\u70B9\u6807\u9898",prop:"name"},{default:n(()=>[s(A,{modelValue:u(o).name,"onUpdate:modelValue":e[2]||(e[2]=t=>u(o).name=t),placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u9898",maxlength:"30"},null,8,["modelValue"])]),_:1}),s(m,{label:"\u7AD9\u70B9ICON",prop:"logo_url"},{default:n(()=>[s(y,{modelValue:u(o).logo_url,"onUpdate:modelValue":e[3]||(e[3]=t=>u(o).logo_url=t),limit:1},null,8,["modelValue"]),Z]),_:1}),s(m,{label:"\u7AD9\u70B9LOGO",prop:"site_logo"},{default:n(()=>[s(y,{modelValue:u(o).site_logo,"onUpdate:modelValue":e[4]||(e[4]=t=>u(o).site_logo=t),limit:1},null,8,["modelValue"]),ee]),_:1})]),_:1},8,["model"])])]),_:1},8,["title","confirm-loading","onConfirm"])}}});export{ce as _,me as a,pe as c,ie as d,de as g};

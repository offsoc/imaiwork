import{g as u}from"./record.d35e7111.js";import{u as d}from"./index.f10dd425.js";import{_}from"./chatting.vue_vue_type_script_setup_true_lang.3fb70b43.js";import{d as f,r as h,w as g,o as y,c as k,a as m,Q as v,u as x}from"./@vue.fa3e2f74.js";const w={class:"h-full flex flex-col w-[480px] mx-auto"},B={class:"grow min-h-0 bg-[#F5F8FF] rounded-xl p-4"},L=f({__name:"chatlog",props:{id:{},sceneDetail:{}},setup(i){const t=i,c=d(),l=()=>{var o,e;return(((e=(o=c.config)==null?void 0:o.lianlian)==null?void 0:e.voice)||[]).find(n=>{var r;return n.code==((r=t.sceneDetail)==null?void 0:r.coach_voice)})||{}},s=h([]),p=async()=>{const{lists:a}=await u({analysis_id:t.id,page:1,page_size:9999});if(a&&a.length>0){const o=l();a.forEach((e,n)=>{e.preliminary_ask?s.value.push({type:2,reply:e.preliminary_ask,duration:e.preliminary_ask_audio_duration,logo:o.logo,link:e.preliminary_ask_audio}):(s.value.push({type:1,duration:e.ask_audio_duration,message:e.ask,link:e.ask_audio,tips:{performance:e.performance||"\u6682\u65E0\u5185\u5BB9",speechcraft:e.speechcraft||"\u6682\u65E0\u5185\u5BB9"}}),s.value.push({type:2,reply:e.reply,duration:e.reply_audio_duration,logo:o.logo,link:e.reply_audio}))})}};return g(()=>t.sceneDetail,a=>{Object.keys(a).length>0&&p()},{immediate:!0}),(a,o)=>(y(),k("view",w,[m("view",B,[v(_,{"content-list":x(s)},null,8,["content-list"])])]))}});export{L as _};

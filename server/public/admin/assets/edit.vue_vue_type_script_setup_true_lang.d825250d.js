import{D as y,C as A,t as w,F as k}from"./element-plus.09e738c5.js";import{_ as h}from"./picker.8fd95042.js";import{_ as R}from"./index.65ae06d1.js";import{c as U,e as q}from"./music.f76ed46f.js";import{d as S,s as _,r as I,b as M,Y as N,o as G,c as P,P as l,G as s,u as o,a as m}from"./@vue.b0c8b5fa.js";const T={class:"edit-popup"},Y=m("div",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A400*400px",-1),j={class:"flex-1"},z=m("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u6392\u8D8A\u524D\u9762",-1),W=S({__name:"edit",emits:["success","close"],setup(H,{expose:f,emit:F}){const p=F,c=_(),i=_(),r=I("add"),v=M(()=>r.value=="add"?"\u65B0\u589E\u98CE\u683C":"\u7F16\u8F91\u98CE\u683C"),u=N({image:"",name:"",value:"",sort:0,status:1,id:""}),C={image:[{required:!0,message:"\u8BF7\u9009\u62E9\u98CE\u683C\u5C01\u9762"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],value:[{required:!0,message:"\u8BF7\u8F93\u5165\u82F1\u6587\u540D\u79F0",trigger:["blur"]}]},E=async()=>{var t,e;await((t=c.value)==null?void 0:t.validate()),r.value=="edit"?await U(u):await q(u),(e=i.value)==null||e.close(),p("success")},V=(t="add")=>{var e;r.value=t,(e=i.value)==null||e.open()},g=async t=>{for(const e in u)t[e]!=null&&t[e]!=null&&(u[e]=t[e])},B=()=>{p("close")};return f({open:V,setFormData:g}),(t,e)=>{const D=h,n=y,d=A,b=w,x=k;return G(),P("div",T,[l(R,{ref_key:"popupRef",ref:i,title:o(v),async:!0,width:"550px",onConfirm:E,onClose:B},{default:s(()=>[l(x,{ref_key:"formRef",ref:c,model:o(u),"label-width":"84px",rules:C},{default:s(()=>[l(n,{label:"\u98CE\u683C\u5C01\u9762",prop:"image"},{default:s(()=>[m("div",null,[l(D,{modelValue:o(u).image,"onUpdate:modelValue":e[0]||(e[0]=a=>o(u).image=a),limit:1},null,8,["modelValue"]),Y])]),_:1}),l(n,{label:"\u98CE\u683C\u540D\u79F0",prop:"name"},{default:s(()=>[l(d,{placeholder:"\u8BF7\u8F93\u5165\u98CE\u683C\u540D\u79F0",modelValue:o(u).name,"onUpdate:modelValue":e[1]||(e[1]=a=>o(u).name=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"\u82F1\u6587\u540D\u79F0",prop:"value"},{default:s(()=>[l(d,{placeholder:"\u8BF7\u8F93\u5165\u82F1\u6587\u540D\u79F0",modelValue:o(u).value,"onUpdate:modelValue":e[2]||(e[2]=a=>o(u).value=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"\u6392\u5E8F"},{default:s(()=>[m("div",j,[l(d,{class:"ls-input",modelValue:o(u).sort,"onUpdate:modelValue":e[3]||(e[3]=a=>o(u).sort=a)},null,8,["modelValue"]),z])]),_:1}),l(n,{label:"\u72B6\u6001",required:""},{default:s(()=>[l(b,{modelValue:o(u).status,"onUpdate:modelValue":e[4]||(e[4]=a=>o(u).status=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{W as _};

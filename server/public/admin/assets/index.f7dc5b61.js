import{C as O,D as Y,G as Q,H as W,w as X,F as Z,J as ee,t as te,K as ae,f as oe,L as le,M as se}from"./element-plus.09e738c5.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang.0af97da2.js";import{u as ue,g as D,f as F,k as ie,_ as me}from"./index.39a36e30.js";import{_ as re}from"./index.vue_vue_type_script_setup_true_lang.5d117949.js";import{d as de,b as pe,s as ce,Y as _e,r as fe,ad as Fe,ap as Ce,o as i,c as S,P as e,G as o,u as t,a6 as y,L as m,a as B,H as r,F as C,v as U,K as ve}from"./@vue.b0c8b5fa.js";import{u as we}from"./usePaging.3fa68fd5.js";import{d as be,e as Ee,f as ge,g as ye,h as Be}from"./model.f3e97d23.js";import{_ as he}from"./imports.vue_vue_type_script_setup_true_lang.e47d26ef.js";import"./@vueuse.20a2efa8.js";import"./@element-plus.ca3f8b8b.js";import"./lodash-es.2cd559e9.js";import"./dayjs.33f9e030.js";import"./@vscode.6c9cb547.js";import"./katex.234fd046.js";import"./@popperjs.36402333.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.0bb3a698.js";import"./axios.e67d1c3e.js";import"./vue-router.f608815d.js";import"./pinia.173cb91f.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.9d260b6b.js";import"./color.4290e22e.js";import"./clone.10c3af82.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.35afef70.js";import"./ms.a9ae1d6d.js";import"./nprogress.d9597aae.js";import"./vue-clipboard3.6701dfcc.js";import"./clipboard.a993786e.js";import"./sortablejs.fb59ed0f.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.39ed541d.js";import"./index.e57d7385.js";const Ve={class:"flex justify-between"},ke={class:"flex justify-end mt-4"},Ct=de({__name:"index",setup(xe){const h=ue(),v=pe({get(){return h.config.is_robot_show},set(u){h.config.is_robot_show=u}}),K=ce(),s=_e({name:"",description:"",scene_name:"",start_time:"",end_time:"",status:""}),T=async u=>{await F.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await be({id:u}),d()},I=async u=>{try{await Ee({id:u})}finally{d()}},R=async()=>{await ie({data:v.value,type:"assistants",name:"is_robot_show"})},P=async()=>{await F.confirm("\u786E\u5B9A\u8981\u5BFC\u5165\uFF1F"),F.loading("\u5BFC\u5165\u4E2D...");try{await ge(),d(),F.msgSuccess("\u5BFC\u5165\u6210\u529F")}finally{F.closeLoading()}},V=fe(!1),L=async()=>{const u=await ye();V.value=u.import},{pager:f,getLists:d,resetPage:w,resetParams:M}=we({fetchFun:Be,params:s});return L(),d(),(u,l)=>{const b=O,p=Y,E=Q,$=W,N=re,c=X,j=Z,k=ee,q=me,x=Fe("router-link"),A=te,n=ae,G=oe,H=le,z=ne,_=Ce("perms"),J=se;return i(),S("div",null,[e(k,{class:"!border-none",shadow:"never"},{default:o(()=>[e(j,{ref:"formRef",class:"mb-[-16px]",model:t(s),inline:!0},{default:o(()=>[e(p,{label:"\u6A21\u578B\u540D\u79F0"},{default:o(()=>[e(b,{class:"w-[280px]",modelValue:t(s).name,"onUpdate:modelValue":l[0]||(l[0]=a=>t(s).name=a),placeholder:"\u8BF7\u8F93\u5165\u6A21\u578B\u540D\u79F0",clearable:"",onKeyup:y(t(w),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(p,{label:"\u6A21\u578B\u63CF\u8FF0"},{default:o(()=>[e(b,{class:"w-[280px]",modelValue:t(s).description,"onUpdate:modelValue":l[1]||(l[1]=a=>t(s).description=a),placeholder:"\u8BF7\u8F93\u5165\u6A21\u578B\u63CF\u8FF0",clearable:"",onKeyup:y(t(w),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(p,{label:"\u6240\u5C5E\u7C7B\u76EE"},{default:o(()=>[e(b,{class:"w-[280px]",modelValue:t(s).scene_name,"onUpdate:modelValue":l[2]||(l[2]=a=>t(s).scene_name=a),placeholder:"\u8BF7\u8F93\u5165\u6240\u5C5E\u7C7B\u76EE\u540D\u79F0",clearable:"",onKeyup:y(t(w),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(p,{label:"\u6A21\u578B\u72B6\u6001"},{default:o(()=>[e($,{class:"!w-[120px]",modelValue:t(s).status,"onUpdate:modelValue":l[3]||(l[3]=a=>t(s).status=a),"empty-values":[null,void 0]},{default:o(()=>[e(E,{label:"\u5168\u90E8",value:""}),e(E,{label:"\u5F00\u542F",value:1}),e(E,{label:"\u5173\u95ED",value:0})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:o(()=>[e(N,{startTime:t(s).start_time,"onUpdate:startTime":l[4]||(l[4]=a=>t(s).start_time=a),endTime:t(s).end_time,"onUpdate:endTime":l[5]||(l[5]=a=>t(s).end_time=a)},null,8,["startTime","endTime"])]),_:1}),e(p,null,{default:o(()=>[e(c,{type:"primary",onClick:t(w)},{default:o(()=>[m("\u67E5\u8BE2")]),_:1},8,["onClick"]),e(c,{onClick:t(M)},{default:o(()=>[m("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(k,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[B("div",Ve,[r((i(),C(x,{to:t(D)("ai_assistant.model/add:edit")},{default:o(()=>[e(c,{type:"primary"},{icon:o(()=>[e(q,{name:"el-icon-Plus"})]),default:o(()=>[m(" \u65B0\u589E\u884C\u4E1A\u6A21\u578B ")]),_:1})]),_:1},8,["to"])),[[_,["ai_assistant.model/add"]]]),B("div",null,[r((i(),S("div",null,[m(" \u5C0F\u7A0B\u662F\u5426\u53EF\u89C1 "),e(A,{modelValue:t(v),"onUpdate:modelValue":l[6]||(l[6]=a=>U(v)?v.value=a:null),"inline-prompt":"","active-value":"1","inactive-value":"0","active-text":"\u662F","inactive-text":"\u5426",onChange:R},null,8,["modelValue"])])),[[_,["ai_assistant.model/edit"]]]),t(V)?r((i(),C(c,{key:0,type:"primary",onClick:P},{default:o(()=>[m("\u5BFC\u5165\u6A21\u578B")]),_:1})),[[_,["ai_assistant.model/import"]]]):ve("",!0)])]),r((i(),C(H,{size:"large",class:"mt-4",data:t(f).lists},{default:o(()=>[e(n,{label:"ID",prop:"id","min-width":"80"}),e(n,{label:"\u56FE\u6807","min-width":"100"},{default:o(({row:a})=>[e(G,{src:a.logo,class:"w-[44px] h-[44px]"},null,8,["src"])]),_:1}),e(n,{label:"\u6A21\u578B\u540D\u79F0",prop:"name","min-width":"120"}),e(n,{label:"\u6A21\u578B\u63CF\u8FF0",prop:"description","min-width":"150","show-overflow-tooltip":""}),e(n,{label:"\u6240\u5C5E\u7C7B\u76EE",prop:"scene_name","min-width":"140"}),e(n,{label:"\u72B6\u6001","min-width":"100"},{default:o(({row:a})=>[r(e(A,{onChange:g=>I(a.id),modelValue:a.status,"onUpdate:modelValue":g=>a.status=g,"active-value":1,"inactive-value":0},null,8,["onChange","modelValue","onUpdate:modelValue"]),[[_,["ai_assistant.model/status"]]])]),_:1}),e(n,{label:"\u6392\u5E8F",prop:"sort","min-width":"120"}),e(n,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"create_time","show-overflow-tooltip":"","min-width":"180"}),e(n,{label:"\u64CD\u4F5C",width:"120",fixed:"right"},{default:o(({row:a})=>[e(c,{type:"primary",link:""},{default:o(()=>[r((i(),C(x,{to:{path:t(D)("ai_assistant.model/add:edit"),query:{id:a.id}}},{default:o(()=>[m(" \u7F16\u8F91 ")]),_:2},1032,["to"])),[[_,["ai_assistant.model/edit"]]])]),_:2},1024),r((i(),C(c,{type:"danger",link:"",onClick:g=>T(a.id)},{default:o(()=>[m(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[_,["ai_assistant.model/delete"]]])]),_:1})]),_:1},8,["data"])),[[J,t(f).loading]]),B("div",ke,[e(z,{modelValue:t(f),"onUpdate:modelValue":l[7]||(l[7]=a=>U(f)?f.value=a:null),onChange:t(d)},null,8,["modelValue","onChange"])])]),_:1}),e(he,{ref_key:"importsRef",ref:K,onSuccess:t(d)},null,8,["onSuccess"])])}}});export{Ct as default};

import{_ as Su}from"./index.3d067310.js";import{_ as Iu}from"./index.6c1a317f.js";import{t as mu,G as cu,H as Fu,C as H,a4 as $u,w as uu,D as fu,F as _u,_ as Ru,a7 as Tu,J as Ou,a as qu,K as Uu,L as ju,v as Nu}from"./element-plus.e618cff3.js";import{r as Pu,u as Bu,e as au}from"./lodash-es.72862127.js";import{d as q,b as y,o as B,G as b,u as a,H as i,c as w,P as W,a5 as G,r as O,M as T,O as Z,a6 as nu,v as tu,n as eu,m as Wu,q as Eu,z as su,h as zu,Y as Mu,s as P,i as Lu,Q as o,a as F,L as ru,aq as Gu,I as Ku}from"./@vue.fa3e2f74.js";import{l as Hu}from"./lodash.0bb3a698.js";import{f as J,_ as Ju}from"./index.976d8a45.js";import{_ as Zu}from"./picker.89ad2f71.js";import{g as Qu}from"./website.b6ca2ece.js";import{g as Yu}from"./category.5f58bb37.js";import{u as Xu}from"./useDictOptions.be0fa711.js";import{f as iu}from"./@vueuse.57305db2.js";const Q=()=>({name:"field",label:"\u5B57\u6BB5\u503C",type:"string",tip:"\u5B57\u6BB5\u503C\u5141\u8BB8\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u3001\u4E0B\u5212\u7EBF_\u3001\u7F8E\u5143\u7B26\u53F7$\uFF0C\u4F46\u4E0D\u80FD\u4EE5\u6570\u5B57\u5F00\u5934\uFF0C\u4E14\u5728\u540C\u4E00\u4E2A\u8868\u5355\u4E2D\u5FC5\u987B\u552F\u4E00",setter:{name:"String",props:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u503C"}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u503C"},{pattern:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,message:"\u5B57\u6BB5\u503C\u683C\u5F0F\u4E0D\u6B63\u786E"}]}),Y=()=>({name:"title",label:"\u5B57\u6BB5\u6807\u9898",type:"string",setter:{name:"String",props:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u6807\u9898"}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u6807\u9898"}]}),vu=()=>({name:"options",label:"\u9009\u9879",type:"array",setter:{name:"Tags",props:{placeholder:"\u6DFB\u52A0\u9009\u9879",type:"tags",options:[]}},getValue(u){return u.options},setValue(u,p){u.options=p},defaultValue:[]}),X=()=>({name:"isRequired",label:"\u662F\u5426\u5FC5\u586B",type:"boolean",setter:{name:"Bool"},defaultValue:!1}),ue={name:"WidgetInput",title:"\u5355\u884C\u6587\u672C",props:[Q(),Y(),{name:"placeholder",label:"\u5360\u4F4D\u6587\u5B57",type:"string",setter:{name:"String",props:{placeholder:"\u8BF7\u8F93\u5165"}}},{name:"maxlength",label:"\u6700\u5927\u8F93\u5165\u957F\u5EA6",type:"number",setter:{name:"Number",props:{min:0}},defaultValue:200},X()],sort:1},ee=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),te={name:"WidgetMultiple",title:"\u4E0B\u62C9\u591A\u9009",props:[Q(),Y(),{name:"placeholder",label:"\u5360\u4F4D\u6587\u5B57",type:"string",setter:{name:"String",props:{placeholder:"\u8BF7\u8F93\u5165"}}},vu(),X()],sort:4},le=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),oe={name:"WidgetSelect",title:"\u4E0B\u62C9\u5355\u9009",props:[Q(),Y(),{name:"placeholder",label:"\u5360\u4F4D\u6587\u5B57",type:"string",setter:{name:"String",props:{placeholder:"\u8BF7\u8F93\u5165"}}},vu(),X()],sort:3},ae=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),ne={name:"WidgetTextarea",title:"\u591A\u884C\u6587\u672C",props:[Q(),Y(),{name:"placeholder",label:"\u5360\u4F4D\u6587\u5B57",type:"string",setter:{name:"String",props:{placeholder:"\u8BF7\u8F93\u5165"}}},{name:"rows",label:"\u9ED8\u8BA4\u884C\u6570",type:"number",setter:{name:"Number",props:{min:0}},defaultValue:4},{name:"maxlength",label:"\u6700\u5927\u8F93\u5165\u957F\u5EA6",type:"number",setter:{name:"Number",props:{min:0}},defaultValue:200},X()],sort:2},se=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),re={string:"",boolean:!1,number:0,array:()=>[],object:()=>({})};function ie(u,p={}){var d;if(!Pu(u))return u;for(const m of u)if(m.name){let s=null;m.defaultValue!==void 0?s=m.defaultValue:s=(d=re[m.type])!=null?d:null,p[m.name]=Bu(s)?s():s}return p}const pe=u=>{if(typeof u!="string")return u;let p;const d=`return function() {
    const self = this
    try {
      return (${u}).apply(self, arguments)
    } catch(e) {
      console.log(e)
    }
  }`;try{p=new Function(d)()}catch(m){console.error(m)}return p},de=q({__name:"bool",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(u,{emit:p}){const d=u,m=p,s=y({get(){return d.modelValue},set(e){m("update:modelValue",e)}});return(e,l)=>(B(),b(a(mu),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value=t)},null,8,["modelValue"]))}}),me=q({__name:"select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(u,{emit:p}){const d=u,m=p,s=y({get(){return d.modelValue},set(l){m("update:modelValue",l)}}),e=y(()=>d.options.map(l=>Hu.exports.isObject(l)?l:{label:l,value:l}));return(l,t)=>(B(),b(a(Fu),{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=v=>s.value=v),teleported:!0,style:{width:"100%"}},{default:i(()=>[(B(!0),w(W,null,G(e.value,(v,h)=>(B(),b(a(cu),{key:h,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]))}}),ce=q({__name:"string",props:{modelValue:{},disabled:{type:Boolean}},emits:["update:modelValue"],setup(u,{emit:p}){const d=u,m=p,s=y({get(){return d.modelValue},set(e){m("update:modelValue",e)}});return(e,l)=>(B(),b(a(H),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value=t),disabled:e.disabled},null,8,["modelValue","disabled"]))}}),Fe=q({__name:"number",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:p}){const d=u,m=p,s=y({get(){return d.modelValue},set(e){m("update:modelValue",e)}});return(e,l)=>{const t=H;return B(),b(t,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=v=>s.value=v),type:"number"},null,8,["modelValue"])}}}),fe={class:"flex items-center flex-wrap gap-2"},_e=["onClick"],Be=q({__name:"tags",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:p}){const d=u,m=p,s=O(""),e=O(!1),l=O(),t=y({get(){return d.modelValue||[]},set(_){m("update:modelValue",_)}}),v=()=>{e.value=!0,eu(()=>{l.value.input.focus()})},h=_=>{const V=t.value;V.splice(V.indexOf(_),1),t.value=V},k=()=>{const _=t.value;s.value&&(_.push(s.value),t.value=_),e.value=!1,s.value=""},A=O(-1),j=O(""),E=_=>{A.value=_,j.value=t.value[_]},n=()=>{A.value=-1};return(_,V)=>{const U=$u,I=uu;return B(),w("div",fe,[(B(!0),w(W,null,G(t.value,(x,$)=>(B(),w("div",{onClick:C=>E($)},[a(A)!=$?(B(),b(U,{key:x,closable:"","disable-transitions":!1,onClose:C=>h(x)},{default:i(()=>[T(Z(x),1)]),_:2},1032,["onClose"])):(B(),b(a(H),{key:1,class:"!w-28",ref_for:!0,ref_key:"InputRef",ref:l,modelValue:t.value[$],"onUpdate:modelValue":C=>t.value[$]=C,size:"small",onKeyup:nu(n,["enter"]),maxlength:"50",onBlur:n},null,8,["modelValue","onUpdate:modelValue"]))],8,_e))),256)),a(e)?(B(),b(a(H),{key:0,class:"!w-28",ref_key:"InputRef",ref:l,modelValue:a(s),"onUpdate:modelValue":V[0]||(V[0]=x=>tu(s)?s.value=x:null),size:"small",onKeyup:nu(k,["enter"]),maxlength:"50",onBlur:k},null,8,["modelValue"])):(B(),b(I,{key:1,size:"small",onClick:v},{default:i(()=>[T(" + \u6DFB\u52A0\u9009\u9879 ")]),_:1}))])}}}),Ee=Object.freeze(Object.defineProperty({__proto__:null,Bool:de,Select:me,String:ce,Number:Fe,Tags:Be},Symbol.toStringTag,{value:"Module"})),ve=new Map(Object.entries(Ee));function Ce(u){return ve.get(u)||null}function ge(u){const p=Cu(u),d=Ce(p);return d||null}function pu(u,p){return Wu(u)?null:Eu(u)?p?u.name===p?u.props:null:u.props:null}function Cu(u){return Eu(u)?u.name:u}const Ae="on",du="get:",Ve=q({props:{modelValue:{type:Object,required:!0},setterName:{type:String},propsItem:{type:Object,required:!0}},emits:["update:modelValue"],setup(u,{emit:p}){const d=y(()=>{var t;const l=u.modelValue[u.propsItem.name];return u.propsItem.getValue&&(t=u.propsItem.getValue(u.modelValue))!=null?t:l}),m=l=>{const t=u.modelValue;t[u.propsItem.name]=l,u.propsItem.setValue&&u.propsItem.setValue(u.modelValue,l),p("update:modelValue",u.modelValue)},s=y(()=>{const l=pu(u.propsItem.setter,u.setterName);for(const t in l)su(l[t])&&t.startsWith(du)&&(l[t.replace(du,"")]=l[t](u.modelValue));return l}),e=y(()=>{const l={},t=pu(u.propsItem.setter,u.setterName);for(const v in t){const h=t[v];v.startsWith(Ae)&&su(h)&&(l[v]=function(k){h(k,u.modelValue)})}return l});return()=>{if(!u.setterName)return null;const l=ge(u.setterName);return l?zu(l,{modelValue:d.value,"onUpdate:modelValue":m,...s.value,...e.value}):null}}});let De=Date.now();function be(u=""){return u=u?`${u}_`:"",`${u}${(De++).toString(36).toLowerCase()}`}const ye={class:"w-full"},he={class:"flex-1"},ke={class:"form-tips"},we=q({__name:"container",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{expose:p,emit:d}){const m=Object.values(Object.assign({"./material/input.ts":ee,"./material/multiple.ts":le,"./material/select.ts":ae,"./material/textarea.ts":se})).map(n=>(n==null?void 0:n.default)||(n==null?void 0:n.meta)).sort((n,_)=>n.sort-_.sort),s=u,e=d,l=Mu({}),t=y({get(){return s.modelValue},set(n){e("update:modelValue",n)}}),v=y(()=>!!Object.keys(t.value.props).length),h=P(),k=y({get(){const n=m.findIndex(_=>_.name===t.value.name);return A.value=m[n],n!==-1?n:-1},set(n){var V,U,I,x;A.value=m[n];const _=be();t.value=l[(V=A.value)==null?void 0:V.name]||{name:(U=A.value)==null?void 0:U.name,title:(I=A.value)==null?void 0:I.title,id:_,props:ie(((x=A.value)==null?void 0:x.props)||{})}}}),A=O(),j=n=>{k.value!==n&&(l[s.modelValue.name]=s.modelValue,k.value=n)},E=n=>n?Bu(n)?n(t):n.type=="JSFunction"?pe(n.value)(t):!0:!0;return Lu(()=>{t.value.name||j(0)}),p({async validate(){var _;return await((_=h.value)==null?void 0:_.validate())}}),(n,_)=>{const V=cu,U=Fu,I=fu,x=_u;return a(v)?(B(),b(x,{key:0,ref_key:"formRef",ref:h,"label-width":"105px","label-position":"top",model:a(t).props},{default:i(()=>{var $;return[o(I,{label:"\u7C7B\u578B",prop:"name"},{default:i(()=>[F("div",ye,[o(U,{class:"!w-full",modelValue:a(k),"onUpdate:modelValue":_[0]||(_[0]=C=>tu(k)?k.value=C:null),placeholder:"\u8BF7\u9009\u62E9",onChange:j},{default:i(()=>[(B(!0),w(W,null,G(a(m),(C,z)=>(B(),b(V,{key:z,label:C.title,value:z},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),(B(!0),w(W,null,G(($=a(A))==null?void 0:$.props,C=>(B(),w(W,{key:C.name+a(t).id},[E(C.condition)?(B(),b(I,{key:0,label:C.label,prop:C.name,rules:C.rules},{default:i(()=>[F("div",he,[(B(),b(a(Ve),{key:C.name+a(t).id,modelValue:a(t).props,"onUpdate:modelValue":_[1]||(_[1]=z=>a(t).props=z),"setter-name":a(Cu)(C.setter),"props-item":C},null,8,["modelValue","setter-name","props-item"])),F("div",ke,Z(C.tip),1)])]),_:2},1032,["label","prop","rules"])):ru("",!0)],64))),128))]}),_:1},8,["model"])):ru("",!0)}}}),xe={class:"edit-popup"},Se=q({__name:"popup",emits:["add","edit"],setup(u,{expose:p,emit:d}){const m=d,s=O({name:"",id:"",title:"",props:{}}),e=P(),l=P(),t=O("add"),v=y(()=>t.value=="edit"?"\u7F16\u8F91\u8868\u5355\u9879":"\u6DFB\u52A0\u8868\u5355\u9879"),h=async()=>{var n;await((n=e.value)==null?void 0:n.validate());const E=au(s.value);t.value=="add"?m("add",E):m("edit",E)};return p({open:(E="add")=>{var n;t.value=E,E==="add"&&(s.value={name:"",id:"",title:"",props:{}}),(n=l.value)==null||n.open()},close:()=>{var E;(E=l.value)==null||E.close()},setFormData:E=>{s.value=au(E)}}),(E,n)=>(B(),w("div",xe,[o(Iu,{ref_key:"popupRef",ref:l,title:a(v),async:!0,width:"550px","destroy-on-close":"",onConfirm:h},{default:i(()=>[o(we,{ref_key:"formRef",ref:e,modelValue:a(s),"onUpdate:modelValue":n[0]||(n[0]=_=>tu(s)?s.value=_:null)},null,8,["modelValue"])]),_:1},8,["title"])]))}});function Ie(u,p){if(u.focus(),u.selectionStart!==void 0){const d=u.selectionStart,m=u.selectionEnd;typeof u.setRangeText!==void 0?u.setRangeText(p):u.value=u.value.substring(0,d)+p+u.value.substring(m,u.value.length),u.selectionStart=d+p.length,u.selectionEnd=d+p.length}else u.value+=p;return u.value}const $e={class:"flex justify-between items-center"},Re={class:"flex justify-end"},Te=F("div",{class:"flex flex-col gap-y-4"},[F("p",null,"\u52A9\u7406\u56FE\u6807\uFF1A \u52A9\u7406\u540D\u79F0\uFF08\u539F\u540D\u79F0\uFF09\uFF1A"),F("p",null,"\u52A9\u7406\u7B80\u4ECB\uFF08\u539F\u7B80\u4ECB\uFF09\uFF1A"),F("p",null,"\u7B80\u8981\u4ECB\u7ECD\u8FD9\u4E2A\u52A9\u7406\u7684\u529F\u80FD\u5B9A\u4F4D\u548C\u6838\u5FC3\u7528\u9014\uFF0C\u8BA9\u7528\u6237\u4E00\u773C\u660E\u767D\u5B83\u80FD\u5E2E\u4EC0\u4E48\u5FD9\u3002"),F("p",null," \u52A9\u7406\u4EBA\u8BBE\uFF08\u539F\u6307\u4EE4\uFF09\uFF1A\u8BBE\u5B9A\u52A9\u7406\u7684\u89D2\u8272\u6027\u683C\u548C\u884C\u4E3A\u903B\u8F91\uFF0C\u6BD4\u5982\u5B83\u50CF\u8C01\u3001\u8BED\u6C14\u5982\u4F55\u3001\u600E\u4E48\u56DE\u7B54\u3001\u56DE\u7B54\u4EC0\u4E48\u4E0D\u56DE\u7B54\u4EC0\u4E48\u3002 "),F("p",null,"\u7528\u6237\u63D0\u793A\u8BCD\uFF08\u539F\u8868\u5355\u8BCD\u63D0\u95EE\u914D\u7F6E\uFF09\uFF1A\u5411\u6A21\u578B\u63D0\u4F9B\u7528\u6237\u6307\u4EE4\uFF0C\u5982\u67E5\u8BE2\u6216\u4EFB\u4F55\u57FA\u4E8E\u6587\u672C\u8F93\u5165\u7684\u63D0\u95EE\u3002"),F("p",null,"\u52A9\u7406\u5F00\u573A\u767D\uFF08\u539F\u5F00\u573A\u767D\uFF09\uFF1A\u5F53\u7528\u6237\u65B0\u5EFA\u5BF9\u8BDD\u65F6\u52A9\u7406\u81EA\u52A8\u53D1\u8D77\u7684\u7B2C\u4E00\u53E5\u8BDD"),F("p",null,"\u52A9\u7406\u5206\u7C7B\uFF08\u539F\u6240\u5C5E\u7C7B\u76EE\uFF09\uFF1A\u51B3\u5B9A\u4E86\u7528\u6237\u5728\u54EA\u4E2A\u5206\u7C7B\u4E0B\u53EF\u627E\u5230\u8BE5\u52A9\u7406"),F("p",null," \u7528\u6237\u586B\u5199\u53C2\u6570\uFF08\u539F\u586B\u5199\u8868\u5355\uFF09\uFF1A\u7528\u6237\u9700\u8981\u4E3B\u52A8\u586B\u5199\u7684\u5173\u952E\u53C2\u6570\u5B57\u6BB5\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u5C06\u76F4\u63A5\u5F71\u54CD\u751F\u6210\u7ED3\u679C\u3002\u9002\u5408\u7528\u8868\u5355\u65B9\u5F0F\u5F15\u5BFC\u586B\u5199\u3002 ")],-1),Oe={class:"w-[380px]"},qe={class:"w-[380px]"},Ue={class:"w-[380px]"},je={class:"w-[380px]"},Ne={class:"w-[380px]"},Pe={class:"mt-2 flex flex-wrap gap-2"},We=["onClick"],ze={class:"w-[380px] flex flex-col gap-y-1"},Me=["onClick"],Le={class:"flex-1 min-w-0 max-w-[1000px]"},Ge={class:"flex"},Ke={class:"mt-4"},He={class:"move-icon cursor-move"},Je=F("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),rt=q({__name:"model-form",props:{headerTitle:{},modelValue:{},isEdit:{type:Boolean}},emits:["update:modelValue","submit"],setup(u,{emit:p}){const d=P(),m=u,s=p,e=y({get(){return m.modelValue},set(c){s("update:modelValue",c)}}),l=P(),t=[{selector:"tbody",options:{animation:150,handle:".move-icon",onEnd:({newIndex:c,oldIndex:r})=>{const g=e.value.template_info.form,D=g.splice(r,1)[0];g.splice(c,0,D),e.value.form=[],eu(()=>{e.value.template_info.form=g})}}}],v=P(),h=c=>{var r;e.value.form_info=Ie((r=v.value)==null?void 0:r.textarea,`\${${c}}`)},k=(c,r)=>{if(e.value.preliminary_ask.length>5)return;const g=e.value.preliminary_ask.length-1;e.value.preliminary_ask.length===1&&!e.value.preliminary_ask[0].value||(e.value.preliminary_ask[r].value&&e.value.preliminary_ask[g].value!=""?e.value.preliminary_ask.push({value:""}):e.value.preliminary_ask[r].value||A(r))},A=c=>{if(e.value.preliminary_ask.length===1)return;const r=e.value.preliminary_ask.length-1;e.value.preliminary_ask[r].value!=""&&e.value.preliminary_ask.push({value:""}),e.value.preliminary_ask.splice(c,1)},j={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],description:[{required:!0,message:"\u8BF7\u8F93\u5165\u52A9\u7406\u7B80\u4ECB"}],instructions:[{required:!0,message:"\u8BF7\u8F93\u5165\u5168\u5C40\u6307\u4EE4"}],form_info:[{required:!0,message:"\u8BF7\u914D\u7F6E\u8868\u5355\u8BCD\u63D0\u95EE"}],scene_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u7C7B\u76EE"}],logo:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B\u56FE\u6807"}]},E=P(),n=async()=>{var c;await eu(),(c=E.value)==null||c.open("add")},_=iu(c=>{var D;const r=!!e.value.template_info.form.find(M=>M.props.field===c.props.field);if(!!e.value.template_info.form.find(M=>M.name==="WidgetFile"))return J.msgError("\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A\u4E0A\u4F20\u6587\u4EF6\u5B57\u6BB5");if(r)return J.msgError("\u5B57\u6BB5\u503C\u91CD\u590D\uFF0C\u8BF7\u4FEE\u6539\u5B57\u6BB5\u503C");e.value.template_info.form.push(c),(D=E.value)==null||D.close()}),V=O(0),U=(c,r)=>{var g,D;V.value=r,(g=E.value)==null||g.open("edit"),(D=E.value)==null||D.setFormData(c)},I=async c=>{await J.confirm("\u786E\u5B9A\u5220\u9664\u5F53\u524D\u9879\uFF1F"),e.value.template_info.form.splice(c,1)},x=iu(c=>{var r;e.value.template_info.form[V.value]=c,(r=E.value)==null||r.close()}),{optionsData:$}=Xu({categoryList:{api:Yu,transformData(c){return c.lists}}}),C=async()=>{var c;await((c=d.value)==null?void 0:c.validate()),s("submit")},z=async()=>{await J.confirm("\u786E\u5B9A\u4E00\u952E\u586B\u5165\u793A\u4F8B\u6570\u636E\uFF1F");const c=await Qu();e.value.logo=c.pc_logo,e.value.name="AI\u521B\u4E1A\u6587\u6848\u52A9\u7406",e.value.description="\u6211\u662F\u4F60\u7684AI\u521B\u4E1A\u6587\u6848\u52A9\u7406\uFF0C\u4E13\u4E3A\u521B\u4E1A\u8005\u548C\u5185\u5BB9\u8FD0\u8425\u6253\u9020\u3002\u65E0\u8BBA\u4F60\u5728\u6784\u601D\u4EA7\u54C1\u4ECB\u7ECD\u3001\u5E7F\u544A\u6587\u6848\uFF0C\u8FD8\u662F\u54C1\u724C\u53E3\u53F7\uFF0C\u6211\u90FD\u80FD\u5FEB\u901F\u751F\u6210\u4E13\u4E1A\u53C8\u6253\u52A8\u4EBA\u5FC3\u7684\u6587\u5B57\u5185\u5BB9\uFF0C\u52A9\u4F60\u9AD8\u6548\u63A8\u5E7F\u4EA7\u54C1\u3001\u6253\u78E8\u54C1\u724C\u8BED\u8A00\u3002",e.value.instructions="\u4EBA\u8BBE\uFF1A\u7075\u611F\u578B\u521B\u610F\u5408\u4F19\u4EBA\uFF0C\u8BED\u8A00\u5BCC\u6709\u611F\u67D3\u529B\uFF0C\u8282\u594F\u611F\u5F3A\uFF0C\u7406\u89E3\u7528\u6237\u9700\u6C42\u5FEB\u901F\u51FA\u51FB\u3002\u6062\u590D\u903B\u8F91\uFF1A\u5F53\u7528\u6237\u8BF4\u201C\u91CD\u65B0\u5199\u4E00\u7248\u201D\u6216\u201C\u6362\u4E2A\u65B9\u5411\u201D\uFF0C\u7CFB\u7EDF\u5C06\u6E05\u7A7A\u5F53\u524D\u521B\u610F\u5E76\u91CD\u65B0\u751F\u6210\uFF0C\u540C\u65F6\u8BB0\u5F55\u524D\u4E00\u7248\u672C\u4EE5\u4F9B\u56DE\u6EAF\u3002",e.value.preliminary_ask=[{value:"\u55E8\uFF0C\u6B22\u8FCE\u4F7F\u7528AI\u521B\u4E1A\u6587\u6848\u52A9\u7406\uFF01\u544A\u8BC9\u6211\u4F60\u7684\u4EA7\u54C1\u3001\u7528\u6237\u548C\u63A8\u5E7F\u573A\u666F\uFF0C\u6211\u5C06\u5E2E\u4F60\u751F\u6210\u6253\u52A8\u4EBA\u5FC3\u7684\u6587\u6848\uFF0C\u8BA9\u4F60\u7684\u521B\u610F\u4E00\u8BED\u4E2D\u7684"},{value:""}];const r=[{name:"WidgetInput",title:"\u5355\u884C\u6587\u672C",id:"mc4o2en3",props:{field:"input1",title:"\u54C1\u724C\u540D",placeholder:"",maxlength:200,isRequired:!1}},{name:"WidgetInput",title:"\u5355\u884C\u6587\u672C",id:"mc4o2en3",props:{field:"input2",title:"\u4EA7\u54C1\u7C7B\u578B",placeholder:"",maxlength:200,isRequired:!1}},{name:"WidgetInput",title:"\u5355\u884C\u6587\u672C",id:"mc4o2en3",props:{field:"input3",title:"\u76EE\u6807\u7528\u6237\u63A8\u5E7F\u573A\u666F",placeholder:"",maxlength:200,isRequired:!1}},{name:"WidgetInput",title:"\u5355\u884C\u6587\u672C",id:"mc4o2en3",props:{field:"input4",title:"\u5E0C\u671B\u8BED\u6C14",placeholder:"",maxlength:200,isRequired:!1}}];e.value.template_info.form=r,e.value.form_info=`\u7528\u6237\u63D0\u4F9B\u7ED9\u4F60\u7684\u53C2\u6570\u662F\uFF1A${r.filter(g=>g.props).map(g=>`${g.props.title}\${${g.props.field}}`).join("\uFF1B")}`};return(c,r)=>{const g=Ru,D=uu,M=Ou,gu=qu,Au=Zu,S=fu,K=H,Vu=Tu,Du=uu,lu=Ju,N=Uu,ou=mu,bu=ju,yu=Nu,hu=_u,ku=Se,wu=Su,xu=Gu("draggable");return B(),w("div",null,[o(M,{class:"!border-none",shadow:"never"},{default:i(()=>[F("div",$e,[o(g,{content:c.headerTitle,onBack:r[0]||(r[0]=f=>c.$router.back())},null,8,["content"]),o(D,{type:"primary",onClick:z},{default:i(()=>[T("\u4E00\u952E\u586B\u5165\u793A\u4F8B\u6570\u636E")]),_:1})])]),_:1}),o(M,{class:"!border-none mt-4",shadow:"never"},{default:i(()=>[F("div",Re,[o(gu,{"popper-class":"!w-[500px]"},{content:i(()=>[Te]),default:i(()=>[F("div",null,[o(D,null,{default:i(()=>[T("\u67E5\u770B\u5B57\u6BB5\u8BF4\u660E")]),_:1})])]),_:1})]),o(hu,{class:"ls-form",ref_key:"formRef",ref:d,rules:j,model:a(e),"label-width":"120px"},{default:i(()=>[o(S,{label:"\u52A9\u7406\u56FE\u6807",prop:"logo"},{default:i(()=>[o(Au,{modelValue:a(e).logo,"onUpdate:modelValue":r[1]||(r[1]=f=>a(e).logo=f),limit:1},null,8,["modelValue"])]),_:1}),o(S,{label:"\u52A9\u7406\u540D\u79F0",prop:"name"},{default:i(()=>[F("div",Oe,[o(K,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",modelValue:a(e).name,"onUpdate:modelValue":r[2]||(r[2]=f=>a(e).name=f)},null,8,["modelValue"])])]),_:1}),o(S,{label:"\u52A9\u7406\u7B80\u4ECB",prop:"description"},{default:i(()=>[F("div",qe,[o(K,{placeholder:"\u6DFB\u52A0\u6709\u5173\u4E8E\u6B64\u673A\u5668\u4EBA\u7684\u529F\u80FD\u7B80\u77ED\u63CF\u8FF0",modelValue:a(e).description,"onUpdate:modelValue":r[3]||(r[3]=f=>a(e).description=f)},null,8,["modelValue"])])]),_:1}),o(S,{label:"\u52A9\u7406\u4EBA\u8BBE",prop:"instructions"},{default:i(()=>[F("div",Ue,[o(K,{placeholder:"\u6B64\u673A\u5668\u4EBA\u80FD\u505A\u4E9B\u4EC0\u4E48?\u5B83\u7684\u884C\u4E3A\u662F\u600E\u4E48\u6837\u7684\uFF1F\u5B83\u5E94\u8BE5\u907F\u514D\u4E9B\u4EC0\u4E48?",rows:8,type:"textarea",modelValue:a(e).instructions,"onUpdate:modelValue":r[4]||(r[4]=f=>a(e).instructions=f)},null,8,["modelValue"])])]),_:1}),o(S,{label:"\u52A9\u7406\u5206\u7C7B",prop:"scene_id"},{default:i(()=>[F("div",je,[o(Vu,{modelValue:a(e).scene_id,"onUpdate:modelValue":r[5]||(r[5]=f=>a(e).scene_id=f),options:a($).categoryList,props:{value:"id",label:"name",children:"sub_list"},clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u6240\u5C5E\u7C7B\u76EE",class:"w-full"},null,8,["modelValue","options"])])]),_:1}),o(S,{label:"\u7528\u6237\u63D0\u793A\u8BCD",prop:"form_info",required:""},{default:i(()=>[F("div",Ne,[o(K,{modelValue:a(e).form_info,"onUpdate:modelValue":r[6]||(r[6]=f=>a(e).form_info=f),type:"textarea",rows:6,ref_key:"elInputRef",ref:v,maxlength:"2000",resize:"none"},null,8,["modelValue"]),F("div",Pe,[(B(!0),w(W,null,G(a(e).template_info.form,f=>(B(),w("div",{onClick:R=>h(f.props.field)},[o(Du,null,{default:i(()=>[T(Z(f.props.title),1)]),_:2},1024)],8,We))),256))])])]),_:1}),o(S,{label:"\u52A9\u7406\u5F00\u573A\u767D"},{default:i(()=>[F("div",ze,[(B(!0),w(W,null,G(a(e).preliminary_ask,(f,R)=>(B(),w("div",{class:"w-full",key:R},[o(K,{modelValue:f.value,"onUpdate:modelValue":L=>f.value=L,placeholder:"",maxlength:"50",onInput:L=>k(L,R)},{append:i(()=>[F("div",{onClick:L=>A(R)},[o(lu,{name:"el-icon-Close"})],8,Me)]),_:2},1032,["modelValue","onUpdate:modelValue","onInput"])]))),128))])]),_:1}),o(S,{label:"\u586B\u5199\u8868\u5355",prop:"template_info.form"},{default:i(()=>[F("div",Le,[F("div",Ge,[o(D,{type:"primary",onClick:n},{default:i(()=>[T("\u6DFB\u52A0")]),_:1})]),F("div",Ke,[Ku((B(),b(bu,{ref_key:"tableRef",ref:l,size:"large",class:"mt-4","row-key":"id",data:a(e).template_info.form},{default:i(()=>[o(N,{width:"50"},{default:i(()=>[F("div",He,[o(lu,{name:"el-icon-Rank"})])]),_:1}),o(N,{label:"\u5B57\u6BB5\u503C","show-overflow-tooltip":""},{default:i(({row:f})=>[F("span",null,Z(f.props.field),1)]),_:1}),o(N,{label:"\u5B57\u6BB5\u540D\u79F0",prop:"props[title]","show-overflow-tooltip":""}),o(N,{label:"\u5360\u4F4D\u6587\u5B57",prop:"props[placeholder]","show-overflow-tooltip":""}),o(N,{label:"\u586B\u5199\u7C7B\u578B",prop:"title"}),o(N,{label:"\u662F\u5426\u5FC5\u586B",prop:"props[isRequired]"},{default:i(({row:f})=>[o(ou,{modelValue:f.props.isRequired,"onUpdate:modelValue":R=>f.props.isRequired=R},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(N,{label:"\u64CD\u4F5C",width:"120",fixed:"right"},{default:i(({row:f,$index:R})=>[o(D,{type:"primary",link:"",onClick:L=>U(f,R)},{default:i(()=>[T(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),o(D,{type:"primary",link:"",onClick:L=>I(R)},{default:i(()=>[T(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[xu,t]])])])]),_:1}),o(S,{label:"\u6392\u5E8F",prop:"sort"},{default:i(()=>[F("div",null,[o(yu,{modelValue:a(e).sort,"onUpdate:modelValue":r[7]||(r[7]=f=>a(e).sort=f)},null,8,["modelValue"]),Je])]),_:1}),o(S,{label:"\u72B6\u6001",prop:"sort"},{default:i(()=>[o(ou,{modelValue:a(e).status,"onUpdate:modelValue":r[8]||(r[8]=f=>a(e).status=f),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),o(ku,{ref_key:"formDesignerRef",ref:E,onAdd:a(_),onEdit:a(x)},null,8,["onAdd","onEdit"]),o(wu,null,{default:i(()=>[o(D,{type:"primary",onClick:C},{default:i(()=>[T("\u4FDD\u5B58")]),_:1})]),_:1})])}}});export{rt as _};

import{R as g,S as V,D as x,C as D,F as k}from"./element-plus.e618cff3.js";import{d as N,s as p,Y as S,b as q,w as $,o as I,G as M,H as t,a as j,Q as u,u as r,V as G,M as s,O as _}from"./@vue.fa3e2f74.js";import{_ as A}from"./index.81ef9c88.js";import{f as H}from"./index.03099c94.js";const O={class:"pr-8"},z=N({__name:"account-adjust",props:{show:{type:Boolean,required:!0},title:{type:String,default:"\u5BF9\u8BDD"},unit:{type:String,default:"\u6761"},value:{type:[Number,String],required:!0}},emits:["update:show","confirm"],setup(n,{emit:b}){const i=p(),d=n,c=b,o=S({action:1,num:"",remark:""}),m=p(),F=q(()=>Number(d.value)+Number(o.num)*(o.action==1?1:-1)),C={num:[{required:!0,message:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u4F59\u989D"}]},v=e=>{if(e.includes("-"))return H.msgError("\u8BF7\u8F93\u5165\u6B63\u6574\u6570");o.num=e},w=async()=>{var e;await((e=i.value)==null?void 0:e.validate()),c("confirm",o)},y=()=>{var e;c("update:show",!1),(e=i.value)==null||e.resetFields()};return $(()=>d.show,e=>{var a,l;e?(a=m.value)==null||a.open():(l=m.value)==null||l.close()}),(e,a)=>{const l=x,f=g,h=V,B=D,E=k;return I(),M(A,{ref_key:"popupRef",ref:m,title:`\u8C03\u6574${n.title}`,width:"500px",onConfirm:w,async:!0,onClose:y},{default:t(()=>[j("div",O,[u(E,{ref_key:"formRef",ref:i,model:r(o),"label-width":"120px",rules:C,onSubmit:a[1]||(a[1]=G(()=>{},["prevent"]))},{default:t(()=>[u(l,{label:`\u5F53\u524D${n.title}`},{default:t(()=>[s(_(n.value),1)]),_:1},8,["label"]),u(l,{label:`${n.title}\u589E\u51CF`,required:"",prop:"action"},{default:t(()=>[u(h,{modelValue:r(o).action,"onUpdate:modelValue":a[0]||(a[0]=R=>r(o).action=R)},{default:t(()=>[u(f,{label:1},{default:t(()=>[s("\u589E\u52A0")]),_:1}),u(f,{label:2},{default:t(()=>[s("\u6263\u51CF")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),u(l,{label:"\u8C03\u6574\u6570\u91CF",prop:"num"},{default:t(()=>[u(B,{"model-value":r(o).num,placeholder:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u6570\u91CF",type:"number",onInput:v},null,8,["model-value"])]),_:1}),u(l,{label:`\u8C03\u6574\u540E${n.title}`},{default:t(()=>[s(_(r(F).toFixed(2)),1)]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["title"])}}});export{z as _};

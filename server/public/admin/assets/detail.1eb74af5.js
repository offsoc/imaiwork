import{_ as le,a4 as ie,J as ne,w as re,D as pe,F as me,K as de,L as _e,M as ce}from"./element-plus.b694a2f4.js";import{_ as fe}from"./index.vue_vue_type_script_setup_true_lang.0a17ae2c.js";import{_ as ye}from"./index.vue_vue_type_script_setup_true_lang.67e6db0d.js";import{y as Fe,f as ve,_ as xe,b as ke}from"./index.f10dd425.js";import{_ as we}from"./picker.48b01f41.js";import{u as be}from"./vue-router.24cf2b30.js";import{a as Ce}from"./finance.b0c7cc3f.js";import{d as ge,e as M,f as he,h as Ee}from"./consumer.9f997155.js";import{_ as Be}from"./account-adjust.vue_vue_type_script_setup_true_lang.ae25b2ec.js";import{_ as De}from"./reset-password-pop.vue_vue_type_script_setup_true_lang.75c1d49c.js";import{_ as Ae}from"./vip-adjust.vue_vue_type_script_setup_true_lang.5646807c.js";import{_ as $e}from"./user-type.vue_vue_type_script_setup_true_lang.7c989115.js";import{u as Pe}from"./usePaging.74092dd4.js";import{d as Q,s as $,r as P,Y as g,aq as Te,o as n,c as Ve,Q as o,H as s,u as t,a as r,v as O,M as i,O as m,I as f,G as p,L as F,D as je,n as H,bj as Re,bi as Se}from"./@vue.fa3e2f74.js";import"./@vueuse.57305db2.js";import"./@element-plus.8edeb311.js";import"./lodash-es.72862127.js";import"./dayjs.0a835391.js";import"./@vscode.4616c7ee.js";import"./katex.42c635ec.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./async-validator.fb49d0f5.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.a609e612.js";import"./axios.ddddcbae.js";import"./pinia.d2a105b3.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.6fe488a5.js";import"./color.eb90fb33.js";import"./clone.81074570.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.e2d654ba.js";import"./ms.a9ae1d6d.js";import"./nprogress.430b6dc1.js";import"./vue-clipboard3.2f1d7104.js";import"./clipboard.7e043bc1.js";import"./sortablejs.f3bfd0ca.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.fc60ff58.js";import"./index.f03241f6.js";import"./index.7b07c9d0.js";import"./index.6d9f402f.js";import"./index.vue_vue_type_script_setup_true_lang.d9eca07d.js";import"./preview.vue_vue_type_script_setup_true_lang.1474844e.js";import"./index.vue_vue_type_script_setup_true_lang.1c9fc45b.js";import"./vue3-video-play.f18a92be.js";import"./vuedraggable.e26981f9.js";import"./vue.69a2fcd0.js";const h=E=>(Re("data-v-825a1dd2"),E=E(),Se(),E),Le={class:"bg-page flex py-2.5 mb-10 items-center flex-wrap"},Ue={class:"basis-40 flex flex-1 flex-col py-[10px] justify-center items-center"},Ne=h(()=>r("div",{class:"mb-2 text-tx-regular"},"\u7528\u6237\u5934\u50CF",-1)),qe={class:"basis-20 flex flex-1 flex-col py-[10px] justify-center items-center"},Ie=h(()=>r("div",{class:"text-tx-regular"},"\u7B97\u529B\u503C\u6570\u91CF",-1)),Me={class:"mt-2 flex items-center text-[20px]"},Oe={class:"basis-20 flex flex-1 flex-col py-[10px] justify-center items-center"},He=h(()=>r("div",{class:"text-tx-regular"},"\u7D2F\u8BA1\u4F7F\u7528\u6B21\u6570",-1)),Qe={class:"mt-2 flex items-center text-[20px]"},Ge={class:"basis-20 flex flex-1 flex-col py-[10px] justify-center items-center"},Je=h(()=>r("div",{class:"text-tx-regular"},"\u7D2F\u8BA1\u5145\u503C\u91D1\u989D",-1)),Ke={class:"mt-2 flex items-center text-[20px]"},Ye={class:"basis-20 flex flex-1 flex-col py-[10px] justify-center items-center"},ze=h(()=>r("div",{class:"text-tx-regular"},"\u4F1A\u5458\u7C7B\u578B",-1)),We={class:"mt-2 flex items-center text-[20px]"},Xe={class:"flex justify-end mt-4"},Ze=Q({name:"consumerDetail"}),et=Q({...Ze,setup(E){const R=$(),T=P(!1),w=be(),u=g({id:0,avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,company_name:"",sex:0,sn:"",account:"",tokens:0,tokens_times:0,sun_price:0,user_type:0,is_blacklist:0,multipoint_login:1,orders:[]}),b=P(""),S=P(!1),G=$(),d=g({show:!1,value:0,title:"",unit:"",type:""}),B=P(!1),L=$(),U=g({user_type:0}),J=async()=>{var l;B.value=!0,await H(),(l=L.value)==null||l.open({userType:u.user_type})},K=l=>{k(l,"user_type"),B.value=!1};g({type:"",show:!1,value:"",use:""});const Y=$(),z=g({user_id:w.query.id}),{pager:C,getLists:N,resetPage:tt,resetParams:ot}=Pe({fetchFun:Ce,params:z}),x=async()=>{const l=await ge({id:w.query.id});Object.keys(u).forEach(e=>{u[e]=l[e]}),b.value=l.avatar,N()},W=l=>{b.value=l,k(l,"avatar")},k=async(l,e)=>{Fe(l)||(await M({id:w.query.id,field:e,value:l}),x())},st=async()=>{await M({id:w.query.id,field:"multipoint_login",value:u.multipoint_login==1?0:1}),x()},X=(l,e)=>{switch(d.show=!0,d.value=e,d.type=l,l){case"chat":d.title="\u7B97\u529B\u503C",d.unit="\u7B97\u529B\u503C";break}},Z=async l=>{switch(d.type){case"chat":await he({user_id:w.query.id,...l});break}d.show=!1,x()},q=async(l,e,V)=>{await ve.customConfirm("\u662F\u5426\u5C06 ",` ${l==1?"\u52A0\u5165":"\u79FB\u51FA"}\u9ED1\u540D\u5355\uFF1F\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01`,V,"color:red"),await Ee({id:e}),x()},ee=async()=>{T.value=!0,await H(),R.value.open(u.id)};return x(),(l,e)=>{const V=le,j=ne,te=we,c=re,_=pe,D=xe,A=ye,oe=me,v=de,I=ie,se=_e,ue=fe,y=Te("perms"),ae=ce;return n(),Ve("div",null,[o(j,{class:"!border-none",shadow:"never"},{default:s(()=>[o(V,{content:"\u7528\u6237\u8BE6\u60C5",onBack:e[0]||(e[0]=a=>l.$router.back())})]),_:1}),o(j,{class:"mt-4 !border-none",header:"\u57FA\u672C\u8D44\u6599",shadow:"never"},{default:s(()=>[o(oe,{ref_key:"formRef",ref:Y,class:"ls-form",model:t(u),inline:"","label-width":"120px"},{default:s(()=>[r("div",Le,[r("div",Ue,[Ne,o(te,{modelValue:t(b),"onUpdate:modelValue":e[1]||(e[1]=a=>O(b)?b.value=a:null),onChange:W},null,8,["modelValue"])]),r("div",qe,[Ie,r("div",Me,[i(m(t(u).tokens||0)+" ",1),f((n(),p(c,{type:"primary",link:"",onClick:e[2]||(e[2]=a=>X("chat",t(u).tokens))},{default:s(()=>[i(" \u8C03\u6574 ")]),_:1})),[[y,["user.user/adjustMoney"]]])])]),r("div",Oe,[He,r("div",Qe,m(t(u).tokens_times||0),1)]),r("div",Ge,[Je,r("div",Ke,"\uFFE5"+m(t(u).sun_price||0),1)]),r("div",Ye,[ze,r("div",We,[i(m(t(u).user_type==0?"\u4E2A\u4EBA":"\u4F01\u4E1A")+" ",1),f((n(),p(c,{type:"primary",link:"",onClick:J},{default:s(()=>[i(" \u8C03\u6574 ")]),_:1})),[[y,["user.user/edit"]]])])])]),o(_,{label:"\u7528\u6237\u7F16\u53F7\uFF1A"},{default:s(()=>[i(m(t(u).sn),1)]),_:1}),o(_,{label:"\u7528\u6237\u6635\u79F0\uFF1A"},{default:s(()=>[i(m(t(u).nickname||"-")+" ",1),f((n(),p(A,{class:"ml-[10px]",onConfirm:e[3]||(e[3]=a=>k(a,"nickname")),limit:32},{default:s(()=>[o(c,{type:"primary",link:""},{default:s(()=>[o(D,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[y,["user.user/edit"]]])]),_:1}),o(_,{label:"\u4F01\u4E1A\u540D\u79F0\uFF1A"},{default:s(()=>[i(m(t(u).company_name||"-"),1)]),_:1}),o(_,{label:"\u8D26\u53F7\uFF1A"},{default:s(()=>[i(m(t(u).account),1)]),_:1}),o(_,{label:"\u771F\u5B9E\u59D3\u540D\uFF1A"},{default:s(()=>[i(m(t(u).real_name||"-")+" ",1),f((n(),p(A,{class:"ml-[10px]",onConfirm:e[4]||(e[4]=a=>k(a,"real_name")),limit:32},{default:s(()=>[o(c,{type:"primary",link:""},{default:s(()=>[o(D,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[y,["user.user/edit"]]])]),_:1}),o(_,{label:"\u6027\u522B\uFF1A"},{default:s(()=>[i(m(t(u).sex)+" ",1),f((n(),p(A,{class:"ml-[10px]",type:"select",options:[{label:"\u672A\u77E5",value:0},{label:"\u7537",value:1},{label:"\u5973",value:2}],onConfirm:e[5]||(e[5]=a=>k(a,"sex"))},{default:s(()=>[o(c,{type:"primary",link:""},{default:s(()=>[o(D,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[y,["user.user/edit"]]])]),_:1}),o(_,{label:"\u8054\u7CFB\u7535\u8BDD\uFF1A"},{default:s(()=>[i(m(t(u).mobile||"-")+" ",1),f((n(),p(A,{class:"ml-[10px]",type:"number",onConfirm:e[6]||(e[6]=a=>k(a,"mobile"))},{default:s(()=>[o(c,{type:"primary",link:""},{default:s(()=>[o(D,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[y,["user.user/edit"]]])]),_:1}),o(_,{label:"\u6CE8\u518C\u6765\u6E90\uFF1A"},{default:s(()=>[i(m(t(u).channel),1)]),_:1}),F("",!0),o(_,{label:"\u6CE8\u518C\u65F6\u95F4\uFF1A"},{default:s(()=>[i(m(t(u).create_time),1)]),_:1}),o(_,{label:"\u6700\u8FD1\u767B\u5F55\u65F6\u95F4\uFF1A"},{default:s(()=>[i(m(t(u).login_time||"-"),1)]),_:1})]),_:1},8,["model"]),t(u).is_blacklist==0?f((n(),p(c,{key:0,onClick:e[7]||(e[7]=a=>q(1,t(u).id,t(u).nickname))},{default:s(()=>[i("\u52A0\u5165\u9ED1\u540D\u5355")]),_:1})),[[y,["user.user/blacklist"]]]):F("",!0),t(u).is_blacklist==1?(n(),p(c,{key:1,onClick:e[8]||(e[8]=a=>q(2,t(u).id,t(u).nickname))},{default:s(()=>[i("\u79FB\u51FA\u9ED1\u540D\u5355")]),_:1})):F("",!0),f((n(),p(c,{onClick:ee},{default:s(()=>[i(" \u91CD\u7F6E\u5BC6\u7801 ")]),_:1})),[[y,["user.user/rePassword"]]])]),_:1}),o(j,{class:"mt-2 !border-none",header:"\u8BA2\u9605\u8BB0\u5F55",shadow:"never"},{default:s(()=>[f((n(),p(se,{data:t(C).lists,style:{width:"100%"}},{default:s(()=>[o(v,{prop:"sn",label:"\u8BA2\u5355\u53F7","show-overflow-tooltip":"","min-width":"180"}),o(v,{prop:"package_name",label:"\u5957\u9910\u540D\u79F0","show-overflow-tooltip":"","min-width":"140"}),o(v,{prop:"order_amount",label:"\u4ED8\u6B3E\u4EF7\u683C","show-overflow-tooltip":"","min-width":"100"}),o(v,{label:"\u4ED8\u6B3E\u6E20\u9053",prop:"pay_way","show-overflow-tooltip":"","min-width":"100"}),o(v,{prop:"package_tokens",label:"\u7B97\u529B\u6570","show-overflow-tooltip":""}),o(v,{prop:"pay_time",label:"\u8D2D\u4E70\u65F6\u95F4","show-overflow-tooltip":"",width:"180"}),o(v,{label:"\u8BA2\u5355\u72B6\u6001","min-width":"100"},{default:s(({row:a})=>[a.pay_status==1?(n(),p(I,{key:0,type:"success"},{default:s(()=>[i("\u4EA4\u6613\u6210\u529F")]),_:1})):F("",!0),a.pay_status==0?(n(),p(I,{key:1,type:"danger"},{default:s(()=>[i("\u4EA4\u6613\u5931\u8D25")]),_:1})):F("",!0)]),_:1})]),_:1},8,["data"])),[[ae,t(C).loading]]),r("div",Xe,[o(ue,{modelValue:t(C),"onUpdate:modelValue":e[9]||(e[9]=a=>O(C)?C.value=a:null),onChange:t(N)},null,8,["modelValue","onChange"])])]),_:1}),o(Be,je(t(d),{show:t(d).show,"onUpdate:show":e[10]||(e[10]=a=>t(d).show=a),onConfirm:Z}),null,16,["show"]),t(T)?(n(),p(De,{key:0,ref_key:"resetPasswordRef",ref:R,onClose:e[11]||(e[11]=a=>T.value=!1)},null,512)):F("",!0),t(S)?(n(),p(Ae,{key:1,ref_key:"vipRef",ref:G,onSuccess:x,onClose:e[12]||(e[12]=a=>S.value=!1)},null,512)):F("",!0),t(B)?(n(),p($e,{key:2,user_type:t(U).user_type,"onUpdate:user_type":e[13]||(e[13]=a=>t(U).user_type=a),ref_key:"userTypeRef",ref:L,onSuccess:K,onClose:e[14]||(e[14]=a=>B.value=!1)},null,8,["user_type"])):F("",!0)])}}});const ao=ke(et,[["__scopeId","data-v-825a1dd2"]]);export{ao as default};

import{R as A,S as N,D,C as S,F as q}from"./element-plus.09e738c5.js";import{d as $,s as b,Y as I,b as C,w as E,o as M,F as T,G as u,a as j,P as r,u as t,V as G,L as l,M as n}from"./@vue.b0c8b5fa.js";import{_ as L}from"./index.65ae06d1.js";import{f as y}from"./index.1bd46af0.js";import"./@vueuse.20a2efa8.js";import"./@element-plus.ca3f8b8b.js";import"./lodash-es.2cd559e9.js";import"./dayjs.33f9e030.js";import"./@vscode.6c9cb547.js";import"./katex.234fd046.js";import"./@popperjs.36402333.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.0bb3a698.js";import"./axios.e67d1c3e.js";import"./vue-router.f608815d.js";import"./pinia.173cb91f.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.9d260b6b.js";import"./color.4290e22e.js";import"./clone.10c3af82.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.35afef70.js";import"./ms.a9ae1d6d.js";import"./nprogress.d9597aae.js";import"./vue-clipboard3.6701dfcc.js";import"./clipboard.a993786e.js";import"./sortablejs.fb59ed0f.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.39ed541d.js";const P={class:"pr-8"},Re=$({__name:"num-adjust",props:{show:{type:Boolean,required:!0},type:{type:String,default:"robot"},value:{type:[Number,String],required:!0},use:{type:Number}},emits:["update:show","confirm"],setup(p,{emit:w}){const s=b(),d=p,f=w,o=I({action:1,num:"",remark:""}),i=C(()=>{switch(d.type){case"robot":return"\u673A\u5668\u4EBA";case"kb":return"\u77E5\u8BC6\u5E93"}}),c=b(),_=C(()=>Number(d.value)+Number(o.num)*(o.action==1?1:-1)),v={num:[{required:!0,message:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u6570\u91CF"}]},h=e=>{if(e.includes("-"))return y.msgError("\u8BF7\u8F93\u5165\u6B63\u6574\u6570");o.num=e},B=async()=>{var e;await((e=s.value)==null?void 0:e.validate()),f("confirm",o)},g=()=>{var e;f("update:show",!1),(e=s.value)==null||e.resetFields()};return E(()=>d.show,e=>{var a,m;e?(a=c.value)==null||a.open():(m=c.value)==null||m.close()}),E(_,e=>{e<0&&(y.msgError("\u8C03\u6574\u540E\u6570\u91CF\u9700\u5927\u4E8E0"),o.num="")}),(e,a)=>{const m=D,F=A,R=N,V=S,k=q;return M(),T(L,{ref_key:"popupRef",ref:c,title:`\u8C03\u6574${t(i)}\u6570\u91CF`,width:"500px",onConfirm:B,async:!0,onClose:g},{default:u(()=>[j("div",P,[r(k,{ref_key:"formRef",ref:s,model:t(o),"label-width":"120px",rules:v,onSubmit:a[1]||(a[1]=G(()=>{},["prevent"]))},{default:u(()=>[r(m,{label:`\u5F53\u524D${t(i)}`},{default:u(()=>[l(n(p.value)+"\uFF08 \u5DF2\u4F7F\u7528 "+n(p.use)+" \u4E2A"+n(t(i))+"\uFF09 ",1)]),_:1},8,["label"]),r(m,{label:`${t(i)}\u589E\u51CF`,required:"",prop:"action"},{default:u(()=>[r(R,{modelValue:t(o).action,"onUpdate:modelValue":a[0]||(a[0]=x=>t(o).action=x)},{default:u(()=>[r(F,{label:1},{default:u(()=>[l("\u589E\u52A0\u6570\u91CF")]),_:1}),r(F,{label:2},{default:u(()=>[l("\u6263\u51CF\u6570\u91CF")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(m,{label:"\u8C03\u6574\u4E2A\u6570",prop:"num"},{default:u(()=>[r(V,{"model-value":t(o).num,placeholder:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u4E2A\u6570",type:"number",onInput:h},null,8,["model-value"])]),_:1}),r(m,{label:`\u8C03\u6574\u540E${t(i)}`},{default:u(()=>[l(n(t(_).toFixed(2))+"\u4E2A ",1)]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["title"])}}});export{Re as default};

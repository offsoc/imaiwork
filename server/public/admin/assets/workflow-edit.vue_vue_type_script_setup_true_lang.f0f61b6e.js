import{C as E,D as V,F as g,w as v}from"./element-plus.09e738c5.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang.1a8c56fb.js";import{_ as y}from"./index.e57d7385.js";import{s as R,f}from"./index.39a36e30.js";import{d as q,r as F,Y as T,o as N,F as U,G as s,a,P as o,u as l,L as D}from"./@vue.b0c8b5fa.js";const A=a("div",{class:"text-2xl font-bold mb-5"},"\u5DE5\u4F5C\u6D41",-1),G={class:"flex"},z=q({__name:"workflow-edit",emits:["close","success"],setup(L,{expose:k,emit:w}){const c=w,p=F(),_=F(),u=T({workflow_id:"",bot_id:"",app_id:"",api_token:""}),x={workflow_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41ID"}],bot_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u667A\u80FD\u4F53ID"}],app_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E94\u7528ID"}],api_token:[{required:!0,message:"\u8BF7\u8F93\u5165\u6388\u6743Token"}]},b=()=>{var e;(e=p.value)==null||e.open()},r=()=>{c("close")},B=async()=>{var e;await((e=_.value)==null?void 0:e.validate());try{r(),c("success",u),f.msgSuccess("\u4FDD\u5B58\u6210\u529F")}catch(t){f.msgError(t||"\u4FDD\u5B58\u5931\u8D25")}};return k({open:b,setFormData:e=>R(e,u)}),(e,t)=>{const h=I,d=E,i=V,C=g,m=v;return N(),U(y,{ref_key:"popupRef",ref:p,async:"",width:"550px","confirm-button-text":"","cancel-button-text":"","header-class":"!p-0","show-close":!1},{default:s(()=>[a("div",null,[a("div",{class:"absolute w-6 h-6 right-4 top-4 cursor-pointer",onClick:r},[o(h)]),A,o(C,{ref_key:"formRef",ref:_,model:l(u),rules:x,"label-position":"top"},{default:s(()=>[o(i,{label:"\u5DE5\u4F5C\u6D41ID",prop:"workflow_id"},{default:s(()=>[o(d,{modelValue:l(u).workflow_id,"onUpdate:modelValue":t[0]||(t[0]=n=>l(u).workflow_id=n),placeholder:"\u8BF7\u8F93\u5165\u5DE5\u4F5C\u6D41ID"},null,8,["modelValue"])]),_:1}),o(i,{label:"\u6388\u6743Token",prop:"api_token"},{default:s(()=>[o(d,{modelValue:l(u).api_token,"onUpdate:modelValue":t[1]||(t[1]=n=>l(u).api_token=n),placeholder:"\u8BF7\u8F93\u5165\u6388\u6743Token"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a("div",G,[o(m,{class:"!rounded-full flex-1 !h-[50px]",onClick:r},{default:s(()=>[D("\u53D6\u6D88")]),_:1}),o(m,{type:"primary",class:"!rounded-full flex-1 !h-[50px]",onClick:B},{default:s(()=>[D(" \u4FDD\u5B58 ")]),_:1})])])]),_:1},512)}}});export{z as _};

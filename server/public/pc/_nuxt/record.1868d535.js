import{E as R}from"./el-avatar.df0828d8.js";import{E as T,a as V}from"./index.eb05fb19.js";import{d as B,cz as $,r as u,k as f,l as I,m as s,q as e,s as l,t as N,v as g,Z as i,bM as A,I as D,L as F,J as L,aH as j,u as S,cA as q,G as h,ax as z,_ as G}from"./entry.f4f46cb5.js";import{_ as H}from"./index.vue.f3f2b692.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as J}from"./usePaging.64f4ceb2.js";import{_ as M}from"./reply.vue.eacbc860.js";import"./index.bad4fd13.js";import"./_baseIteratee.0f37ae7b.js";import"./debounce.640f3738.js";import"./toNumber.d5c70aa7.js";import"./index.d4d0dc47.js";import"./raf.787400b1.js";import"./index.ed825429.js";import"./index.03679949.js";import"./strings.87cef2c7.js";import"./clamp.6295a89e.js";import"./index.vue.9649ae9f.js";import"./index.3864ff87.js";const P={class:"h-full flex flex-col"},U={class:"grow min-h-0"},Z={class:"flex items-center justify-center gap-x-2"},K={class:"flex justify-center my-4"},y=9006,O=B({__name:"record",props:{agentId:{}},setup(v){const d=v,{pager:n,getLists:p}=J({fetchFun:$,params:{robot_id:d.agentId,type:y}}),c=u(),m=u(!1),b=async r=>{m.value=!0,await j(),c.value.open(),c.value.setFormData(r)},x=async r=>{await S().$confirm({message:"确定删除此记录吗？",onConfirm:async()=>{try{await q({task_id:r,robot_id:d.agentId,chat_type:y}),h.msgSuccess("删除成功"),p()}catch(t){h.msgError(t||"删除失败")}}})};return p(),(r,t)=>{const k=R,a=T,_=z,C=V,w=H;return f(),I(L,null,[s("div",P,[s("div",U,[e(C,{data:i(n).lists,height:"100%",stripe:"","header-cell-style":{height:"64px"},"row-style":{height:"60px"}},{default:l(()=>[e(a,{label:"用户信息","min-width":"160"},{default:l(({row:o})=>[s("div",Z,[e(k,{src:o.avatar},null,8,["src"]),s("div",null,[s("div",null,N(o.nickname),1)])])]),_:1}),e(a,{label:"提问问题",prop:"message","show-overflow-tooltip":"","min-width":"200"}),e(a,{label:"回答内容",prop:"reply","show-overflow-tooltip":"","min-width":"200"}),e(a,{label:"应用端",prop:"source","min-width":"100"}),e(a,{label:"提问时间",prop:"create_time",width:"180"}),e(a,{label:"操作",width:"100",fixed:"right"},{default:l(({row:o})=>[e(_,{type:"primary",link:"",onClick:E=>b(o)},{default:l(()=>[...t[2]||(t[2]=[g("查看",-1)])]),_:1},8,["onClick"]),e(_,{type:"danger",link:"",onClick:E=>x(o.task_id)},{default:l(()=>[...t[3]||(t[3]=[g("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),s("div",K,[e(w,{modelValue:i(n),"onUpdate:modelValue":t[0]||(t[0]=o=>A(n)?n.value=o:null),layout:"prev, pager, next",onChange:i(p)},null,8,["modelValue","onChange"])])]),i(m)?(f(),D(M,{key:0,ref_key:"replyRef",ref:c,onClose:t[1]||(t[1]=o=>m.value=!1)},null,512)):F("",!0)],64)}}});const ye=G(O,[["__scopeId","data-v-b59fbc5a"]]);export{ye as default};

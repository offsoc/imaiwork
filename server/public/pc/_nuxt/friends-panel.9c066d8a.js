import{d as k,c as C,r as h,aV as B,l as x,m as l,q as g,s as $,Z as e,bK as y,$ as D,I as z,al as K,aq as N,Y as w,J as S,K as j,au as q,k as m,t as G,y as H,_ as J}from"./entry.d7219633.js";import{_ as R}from"./conversation.vue.11e43dd0.js";import U from"./friends.5d2eef86.js";import{FriendPanelEnum as s}from"./index.cf59f1a8.js";import Y from"./useHandle.2b5b26f8.js";import"./el-avatar.e0eb87c8.js";import"./el-empty.77af023a.js";import"./vue-virtual-scroller.esm.d0916cd7.js";/* empty css                             */import"./person_wechat.8bcf26fc.js";const Z={class:"w-full h-full bg-white flex flex-col"},A={class:"flex-shrink-0 h-[58px] flex items-center px-2 relative z-20 border-b border-[#E5E5E5]"},M={class:"h-full"},O={class:"h-[65px] shadow-lighter flex items-center flex-shrink-0"},Q=["onClick"],T={class:"mt-1"},W=k({__name:"friends-panel",props:{currentPanel:{default:s.Dialogue}},emits:["change-panel","change-friend","bottom-friend","bottom-conversation"],setup(I,{emit:E}){const L=I,p=E,{currentFriend:X,friendList:r,conversationList:c}=Y(),t=C({get(){return L.currentPanel},set(n){p("change-panel",n)}}),d=h(""),F=C(()=>({[s.Dialogue]:{component:R,title:"对话",icon:"wx_dialogue",activeIcon:"wx_dialogue_active"},[s.Friend]:{component:U,title:"好友",icon:"wx_friends",activeIcon:"wx_friends_active"}})),f=h(c.value),_=h(r.value),b=()=>{const n=d.value.trim(),a=(u,v)=>u.filter(o=>o[v].includes(n));t.value===s.Dialogue?f.value=n?a(c.value,"ShowName"):c.value:t.value===s.Friend&&(_.value=n?a(r.value,"FriendNick"):r.value)},P=n=>{t.value=n},V=n=>{p("change-friend",n)};return B(()=>{f.value=c.value,_.value=r.value}),(n,a)=>{const u=H,v=q;return m(),x("div",Z,[l("div",A,[g(v,{modelValue:e(d),"onUpdate:modelValue":a[0]||(a[0]=o=>y(d)?d.value=o:null),placeholder:"搜索",class:"w-full !h-[32px]",clearable:"",onInput:b,onKeyup:D(b,["enter"])},{prepend:$(()=>[g(u,{name:"el-icon-Search",size:16})]),_:1},8,["modelValue"])]),l("div",{class:w(["grow min-h-0",{"bg-[#F7F7F7]":[e(s).Friend,e(s).Group].includes(e(t))}])},[l("div",M,[(m(),z(N(e(F)[e(t)].component),K({conversationList:e(f),friendList:e(_)},{onBottomConversation:a[1]||(a[1]=o=>p("bottom-conversation")),onChangeFriend:V}),null,16))])],2),l("div",O,[(m(!0),x(S,null,j(e(F),(o,i)=>(m(),x("div",{class:"flex-1 flex items-center justify-center flex-col",key:i},[l("div",{class:w(["flex items-center justify-center flex-col cursor-pointer",{"text-[#07C160]":e(t)===i}]),onClick:ee=>P(i)},[g(u,{name:`local-icon-${e(t)===i?o.activeIcon:o.icon}`,color:e(t)===i?"#07C160":"#11170B",size:20},null,8,["name","color"]),l("span",T,G(o.title),1)],10,Q)]))),128))])])}}});const ue=J(W,[["__scopeId","data-v-da3b2b0a"]]);export{ue as default};

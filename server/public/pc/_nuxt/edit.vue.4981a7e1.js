import{_ as v}from"./index.vue.478e85a5.js";import{d as y,r as V,aF as C,cx as E,G as c,bK as B,k as F,I as D,s as r,m as s,q as a,Z as n,v as u,au as I,ax as N,cV as L}from"./entry.2beb4577.js";import{u as R}from"./device.b7e58507.js";const T={class:"-my-4"},q={class:"mt-4"},z={class:"mt-4 flex gap-2"},U=y({__name:"edit",emits:["close","success"],setup(A,{expose:m,emit:f}){const p=f,d=V(),e=C({id:"",name:""}),_=()=>{d.value.open()},l=()=>{p("close")},{lockFn:x,isLock:b}=E(async()=>{if(!e.name){c.msgError("请输入任务名称");return}try{await R(e),c.msgSuccess("修改成功"),p("success"),l()}catch(t){c.msgError(t)}});return m({open:_,setFormData:t=>B(t,e)}),(t,o)=>{const k=v,g=I,i=N,w=L;return F(),D(w,{ref_key:"popupRef",ref:d,async:"",width:"448px","confirm-button-text":"","cancel-button-text":"",style:{padding:"18px","border-radius":"20px","background-color":"var(--app-bg-color-3)","box-shadow":"0 0 0 1px #2a2a2a"},"append-to-body":!1,"show-close":!1},{default:r(()=>[s("div",T,[s("div",{class:"absolute w-6 h-6 top-[18px] right-[18px] z-[22]",onClick:l},[a(k)]),o[3]||(o[3]=s("div",{class:"text-[15px] text-white font-bold"},"任务名称设置",-1)),s("div",q,[a(g,{modelValue:n(e).name,"onUpdate:modelValue":o[0]||(o[0]=h=>n(e).name=h),class:"!h-[50px]",placeholder:"请输入任务名称",clearable:"",maxlength:"30","show-word-limit":""},null,8,["modelValue"])]),s("div",z,[a(i,{color:"#181818",class:"!rounded-full w-full !h-[50px] !border-app-border-1",onClick:l},{default:r(()=>[...o[1]||(o[1]=[u("取消",-1)])]),_:1}),a(i,{type:"primary",class:"!rounded-full w-full !h-[50px]",loading:n(b),onClick:n(x)},{default:r(()=>[...o[2]||(o[2]=[u("立即保存",-1)])]),_:1},8,["loading","onClick"])])])]),_:1},512)}}});export{U as _};

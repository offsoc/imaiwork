import{d as h,as as M,x as I,A as B,r as x,k as y,l as T,m as t,q as o,s as i,v as f,Z as D,I as N,L as R,J as $,aH as F,au as S,aw as U,ax as j,_ as q}from"./entry.d9d53b29.js";import{E as z,a as A}from"./index.9a037d22.js";import{E as H}from"./el-empty.03c7f5cd.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import J from"./menu-edit.e834a148.js";import"./index.050c9b6b.js";import"./_baseIteratee.73cb21ab.js";import"./debounce.39f38609.js";import"./index.4538c991.js";import"./index.vue.3e248b2d.js";import"./el-image.239907bf.js";import"./el-image-viewer.291603f7.js";import"./throttle.cbb177ea.js";import"./position.0f08d59c.js";import"./index.ece7f347.js";import"./index.d23c2db7.js";import"./index.cce223cb.js";import"./cloneDeep.df46b56a.js";/* empty css                  *//* empty css                    *//* empty css                  */const L={class:"h-full flex flex-col px-[30px] py-6"},P={class:"flex flex-col gap-3"},Z={class:"flex items-center justify-between gap-x-23"},G={class:"grow min-h-0 mt-3 flex flex-col border border-[var(--el-border-color)] rounded-lg"},K=h({__name:"index",props:M({agentId:{default:""},modelValue:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(E,{expose:g}){const l=I(E,"modelValue"),m=B(),p=x(!1),c=x(-1),v=async(n,e)=>{var d,r;p.value=!0,await F();const s=n?"edit":"add";(d=m.value)==null||d.open(s),n&&((r=m.value)==null||r.setFormData(n),c.value=e)},w=n=>{l.value.menus.splice(n,1)},b=n=>{const{type:e,data:s}=n;e==="add"?l.value.menus.push(s):l.value.menus[c.value]=s};return g({validate:()=>Promise.resolve()}),(n,e)=>{const s=S,d=U,r=j,u=z,k=H,V=A;return y(),T($,null,[t("div",L,[t("div",P,[t("div",null,[e[4]||(e[4]=t("div",{class:"font-bold"},"欢迎语",-1)),e[5]||(e[5]=t("div",{class:"form-tips"}," 打开聊天窗口后会主动发送，添加双井号可添加提问示例，例如：#帮我写一则关于xxx的文案#多个问题请用回车换行。 ",-1)),o(s,{class:"mt-3",modelValue:l.value.welcome_introducer,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.welcome_introducer=a),type:"textarea",placeholder:"请输入文字内容 ...",resize:"none",maxlength:500,rows:4},null,8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("div",{class:"font-bold"},"底部标识",-1)),o(s,{class:"mt-3 !h-11",modelValue:l.value.copyright,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.copyright=a),placeholder:"请输入文字内容 ...",maxlength:100},null,8,["modelValue"])])]),o(d,{class:"!border-[#0000000d]"}),t("div",Z,[e[8]||(e[8]=t("div",null,[t("div",{class:"font-bold"},"菜单设置"),t("div",{class:"form-tips"},"用户点击菜单后，将回复对应内容。此类消息不消耗余额。")],-1)),o(r,{type:"primary",onClick:e[2]||(e[2]=a=>v())},{default:i(()=>e[7]||(e[7]=[f("添加菜单",-1)])),_:1,__:[7]})]),t("div",G,[o(V,{height:"100%",data:l.value.menus,stripe:"","header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:i(()=>[o(k,{description:"暂无数据"})]),default:i(()=>[o(u,{label:"关键词",prop:"keyword","min-width":"60","show-overflow-tooltip":""}),o(u,{label:"回复内容",prop:"content","min-width":"200","show-overflow-tooltip":""}),o(u,{label:"操作",width:"100"},{default:i(({row:a,$index:_})=>[o(r,{link:"",type:"primary",onClick:C=>v(a,_)},{default:i(()=>e[9]||(e[9]=[f("编辑",-1)])),_:2,__:[9]},1032,["onClick"]),o(r,{link:"",type:"danger",onClick:C=>w(_)},{default:i(()=>e[10]||(e[10]=[f("删除",-1)])),_:2,__:[10]},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),D(p)?(y(),N(J,{key:0,ref_key:"menuEditRef",ref:m,onClose:e[3]||(e[3]=a=>p.value=!1),onSuccess:b},null,512)):R("",!0)],64)}}});const Ee=q(K,[["__scopeId","data-v-5141ce78"]]);export{Ee as default};

import{d as F,c as L,l as o,Z as s,m as l,Y as n,I as b,t as r,J as v,v as w,L as d,q as p,s as g,y as j,b5 as H,k as i,ax as W,aw as V,_ as S}from"./entry.d9d53b29.js";import{E as U}from"./el-image.239907bf.js";import{_ as B}from"./index.vue.1675bfa5.js";import"./el-image-viewer.291603f7.js";import{u as Q}from"./useAudio.87b4401d.js";import{ContentTypeEnum as t,ContentTypeEnumMap as O}from"./index.cf59f1a8.js";import{_ as P}from"./mini-program-card.vue.f970ef8c.js";import Z from"./useHandle.eb1dbbb2.js";import"./position.0f08d59c.js";import"./throttle.cbb177ea.js";import"./debounce.39f38609.js";import"./person_wechat.8bcf26fc.js";const X=""+new URL("sound_black.247a11fe.png",import.meta.url).href,J="data:image/gif;base64,R0lGODlh8ADwAIABACotM////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM2MUI4RUI4MzAzQzExRUY4MUY4QzQzRjE2NTBEN0QwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM0RkVENTY2MzA5MjExRUY4MUY4QzQzRjE2NTBEN0QwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzYxQjhFQjYzMDNDMTFFRjgxRjhDNDNGMTY1MEQ3RDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzYxQjhFQjczMDNDMTFFRjgxRjhDNDNGMTY1MEQ3RDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LB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",q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAAB7CAYAAABUx/9/AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAKISURBVHic7dg/bhNBGIbx91ubpKFYDhDBCUhDQWdHEV06DgAlPoXtG1CRmo47oMTrNkJC4QT0FGyHRIChsJ1sgBAp4J143+dXWB7/kT7r0azHlgAAAAAAAAB0WHpbDnPPsCniqifSUTlRaKCkYYvz3FyoUtI89utJ7lFuq99ip6NyImnc/ij/0Q/txZO6yj3GbVM0F50ILUmFZsvPgobznd2Z0E3s8EtCWh5yCs1yD7MOsV9feS5xUyxvOxlaOr9iQVJh8NNlTPCFQr2OfU//mcNnvFZx/Uu6gd0tFRvzp8m/s7+c2+xsSVJokHuEnLxiJw2dd7dX7AXbw5pjbNvDmmVsSeN0XM4M/mO4JNK7pyn3EFlFv764v1X/5ZXtS1/LG73v7NM0Hh+//PXhSKcj79hddvb5dTx683y1dL2Me7hz71k6OahWS2J33fbOYBWc2A62dwYSsW2kk4OK2C7Sl/vEdtErHxDbCLFdRL8mthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWK7SN9KYhshtovo18Q2QmwXxd2PhUJV7jnQgt5WXSjFPPccaMH3NA1JSqejlHsWrFfsHsbyOzumeUfBei36xmqZPoxmShpmmwdrEtPYfTWRGqfxeHi4xw7vmovQUmNnr6T3L4bqxXixYKdvnFClFPNmZAAAAAAAAAAAXP0Ezx16uDvZ1YEAAAAASUVORK5CYII=",K={key:0},_=["innerHTML"],$={key:2,class:""},ee={key:1},se={class:"flex items-center gap-1 h-[37px]"},te={key:0,src:X,class:"w-full"},ie={key:1,src:J,class:"w-full"},le={class:"text-xs font-bold"},oe={key:0,class:"bg-white px-4 py-2 rounded mt-2"},ae={key:0,class:"text-xs text-gray-500"},ne={key:2},re={class:"text-xs bg-[#E7E7E7] p-2 rounded mt-2 inline-block"},de={class:"line-clamp-2"},pe={key:2,class:"overflow-hidden max-w-[50%]"},me={class:"relative"},ye=["src"],ue={key:3,class:"relative flex gap-x-2 items-center"},ce={class:"bg-white p-2 rounded flex gap-2 items-center justify-between"},he={class:"font-bold inline-block max-w-[300px] flex-1 break-words"},Ae={key:5},be={class:"font-bold"},ve={class:"text-[#999] text-xs"},ge={key:6,class:"bg-white p-2 rounded relative"},fe={class:"text-xs text-[#999]"},we={key:7,class:"h-[250px] w-[200px]"},ke={key:8,class:"loader"},Ie={key:1},Te=F({__name:"chat-content",props:{loading:{type:Boolean,default:!1},avatar:{default:""},message:{default:""},type:{default:null},messageType:{default:t.Text},file:{default:{}},duration:{default:0},isActive:{type:Boolean,default:!1},sttMessage:{default:""},sttLoading:{type:Boolean,default:!1},showStt:{type:Boolean,default:!1}},emits:["previewVideo","downloadFile","voiceToText"],setup(k,{emit:I}){const c=k,h=I,T=L(()=>[t.Picture,t.Video,t.File].includes(c.messageType)),{emojis:Y}=Z(),{play:M,setUrl:C,pause:E,pauseAll:Ye,isPlaying:f}=Q(),G=()=>{c.loading||(C(c.file.uri),f.value?E():M())},D=e=>{const a=/\[(.*?)\]/g;return e.replace(a,m=>{const y=Y.find(u=>u.name===m);return y?`<img src="${y.src}" class="w-[24px] h-[24px] inline-block" />`:m})},N=e=>e&&Math.ceil(parseInt(e)/1e3),x=()=>{h("downloadFile",c.file)};return(e,a)=>{const m=j,y=H,u=U,R=B,z=V;return i(),o("div",{class:n(["w-full flex items-center gap-x-4 max-w-[50%] relative",{"flex-row-reverse":e.type==1}])},[[s(t).Text,s(t).Sys_LuckyMoney,s(t).Voice,s(t).QuoteMsg,s(t).AudioCall,s(t).VideoCall,s(t).MoneyTrans,s(t).LuckyMoney].includes(e.messageType)?(i(),o("div",K,[l("div",{class:n(["w-[10px] h-[10px] rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1 bg-[#A9EA7A]":e.type==1,"-left-1 bg-white":e.type==2}])},null,2),[s(t).Text,s(t).AudioCall,s(t).VideoCall,s(t).MoneyTrans,s(t).LuckyMoney,s(t).Sys_LuckyMoney].includes(e.messageType)?(i(),o("div",{key:0,class:n(["px-4 py-2 rounded break-all flex items-center gap-x-2",{"bg-[#A9EA7A]":e.type==1,"bg-white":e.type==2}])},[s(t).Text==e.messageType?(i(),o("div",{key:0,innerHTML:D(e.message)},null,8,_)):[s(t).AudioCall,s(t).VideoCall].includes(e.messageType)?(i(),b(m,{key:1,name:e.messageType==s(t).AudioCall?"el-icon-Phone":"el-icon-VideoCamera",size:16},null,8,["name"])):[s(t).LuckyMoney,s(t).MoneyTrans].includes(e.messageType)?(i(),o("div",$,r(e.file.PaySubType=="4"?"[你已将钱退还]":"[你收到了一笔转账，请在手机上查看]"),1)):e.messageType==s(t).Sys_LuckyMoney?(i(),o(v,{key:3},[w(r(e.file.Title),1)],64)):d("",!0)],2)):d("",!0),e.messageType==s(t).Voice?(i(),o("div",ee,[l("div",{class:n(["bg-[#A9EA7A] px-4 rounded inline-block cursor-pointer",{"bg-[#A9EA7A] flex-row-reverse justify-end":e.type==1,"bg-white":e.type==2}]),onClick:a[0]||(a[0]=A=>G())},[l("div",se,[l("div",{class:n(["w-[16px]",{"rotate-180":e.type==1}])},[s(f)?(i(),o("img",ie)):(i(),o("img",te))],2),l("span",le,r(N(e.file.duration))+"″",1)])],2),e.showStt?(i(),o("div",oe,[e.sttLoading?(i(),o("div",ae,"语音转文字中...")):(i(),o(v,{key:1},[w(r(e.sttMessage),1)],64))])):d("",!0)])):d("",!0),e.messageType==s(t).QuoteMsg?(i(),o("div",ne,[l("div",{class:n(["p-2 rounded inline-block",{"bg-[#A9EA7A]":e.type==1,"bg-white":e.type==2}])},r(e.file.title),3),l("div",{class:n({"text-end":e.type==1})},[l("div",re,[p(y,{content:e.file.content,"popper-class":"max-w-[500px]",placement:e.type==1?"left":"right"},{default:g(()=>[l("div",de,r(e.file.displayName)+"："+r(e.file.content),1)]),_:1},8,["content","placement"])])],2)])):d("",!0)])):e.messageType==s(t).Picture?(i(),o("div",{key:1,class:n(["overflow-hidden max-w-[50%] flex-1 flex items-center gap-x-4",{"ml-0":e.type==1,"mr-0 flex-row-reverse":e.type==2}])},[p(u,{style:{"border-radius":"8px",width:"100%"},src:e.file.Thumb||e.file.uri,lazy:"",fit:"contain","preview-teleported":"","preview-src-list":[e.file.Thumb||e.file.uri]},null,8,["src","preview-src-list"])],2)):e.messageType==s(t).Video?(i(),o("div",pe,[l("div",me,[l("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[888] cursor-pointer",onClick:a[1]||(a[1]=A=>h("previewVideo"))},[p(R)]),e.isActive?(i(),o("video",{key:1,src:e.file.uri,class:"w-full max-h-[250px] object-cover rounded-lg"},null,8,ye)):(i(),b(u,{key:0,style:{"border-radius":"8px",width:"100%","max-height":"250px"},src:e.file.Thumb,lazy:"",fit:"contain"},null,8,["src"]))])])):e.messageType==s(t).File?(i(),o("div",ue,[l("div",{class:n(["w-[10px] h-[10px] bg-white rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1":e.type==1,"-left-1":e.type==2}])},null,2),l("div",ce,[l("div",he,r(e.file.Title||e.file.name),1),a[4]||(a[4]=l("img",{src:q,class:"w-[41px]"},null,-1))])])):e.messageType==s(t).Emoji?(i(),o("div",{key:4,class:n(["leading-[0]",{"text-end":e.type==1}])},[p(u,{src:e.file.Thumb,class:"max-w-[30%]"},null,8,["src"])],2)):e.messageType==s(t).Link?(i(),o("div",Ae,[l("div",{class:n(["w-[10px] h-[10px] rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1 bg-[#A9EA7A]":e.type==1,"-left-1 bg-white":e.type==2}])},null,2),l("div",{class:n(["px-4 py-2 rounded break-all",{"bg-[#A9EA7A]":e.type==1,"bg-white":e.type==2}])},[l("div",be,r(e.file.Title),1),p(z,{class:"!my-2"}),l("div",ve,r(e.file.TypeStr),1)],2)])):e.messageType==s(t).Location?(i(),o("div",ge,[l("div",{class:n(["w-[10px] h-[10px] bg-white rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1":e.type==1,"-left-1":e.type==2}])},null,2),l("div",null,r(e.file.Title),1),l("div",fe,r(e.file.Label),1)])):e.messageType==s(t).WeApp?(i(),o("div",we,[l("div",{class:n(["w-[10px] h-[10px] bg-white rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1":e.type==1,"-left-1":e.type==2}])},null,2),p(P,{title:e.file.Source,pic:e.file.Thumb,link:"小程序"},null,8,["title","pic"])])):d("",!0),e.loading?(i(),o("div",ke)):(i(),o(v,{key:9},[s(T)?(i(),b(y,{key:0,content:`下载${s(O)[e.messageType]}`,placement:"top"},{default:g(()=>[l("div",{class:"p-2 rounded-full hover:bg-primary-light-9 leading-[0] cursor-pointer",onClick:a[2]||(a[2]=A=>x())},[p(m,{name:"el-icon-Download"})])]),_:1},8,["content"])):d("",!0),e.messageType==s(t).Voice&&!e.showStt?(i(),o("div",Ie,[p(s(W),{link:"",class:"!text-xs",onClick:a[3]||(a[3]=A=>h("voiceToText"))},{default:g(()=>a[5]||(a[5]=[l("span",null,"转文字",-1)])),_:1,__:[5]})])):d("",!0)],64))],2)}}});const He=S(Te,[["__scopeId","data-v-65156949"]]);export{He as default};

import{d as x,A as m,aF as C,cx as E,bK as V,k as b,I,s as t,m as R,q as n,Z as a,ay as B,cV as D,G as q,au as A,av as L}from"./entry.ee599c70.js";import{ak as N,al as P}from"./person_wechat.703f63bb.js";const K=x({__name:"send-name",props:{type:{}},emits:["success","close"],setup(u,{expose:i,emit:d}){const f=u,r=d,l=m(),c=m(),o=C({id:"",type:"",push_name:"",push_type:f.type,stage_id:"",flow_id:""}),_={push_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},h=async()=>{var e;await((e=c.value)==null?void 0:e.validate());try{const s=o.id?await N(o):await P(o);r("success",s),p()}catch(s){q.msgError(s)}},k=()=>{var e;(e=l.value)==null||e.open()},p=()=>{r("close")},{lockFn:y,isLock:F}=E(h);return i({open:k,setFormData:e=>V(e,o)}),(e,s)=>{const g=A,v=L;return b(),I(D,{ref_key:"popupRef",ref:l,title:"设置名称",async:"","confirm-loading":a(F),onClose:p,onConfirm:a(y)},{default:t(()=>[R("div",null,[n(a(B),{ref_key:"formRef",ref:c,model:a(o),"label-position":"top",rules:_},{default:t(()=>[n(v,{label:"任务名称",prop:"push_name"},{default:t(()=>[n(g,{modelValue:a(o).push_name,"onUpdate:modelValue":s[0]||(s[0]=w=>a(o).push_name=w),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["confirm-loading","onConfirm"])}}});export{K as _};

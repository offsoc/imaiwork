import{_ as j}from"./index.vue.3e248b2d.js";import{E as F}from"./index.050c9b6b.js";import{E as S,a as K}from"./el-tabs.4663b04e.js";import{d as q,A as z,r as h,c as J,k as n,I as u,s as i,m as e,q as r,l as d,K as y,J as f,Y as O,t as E,Z as c,bK as Q,v as U,y as Y,ax as Z,cP as G,_ as H}from"./entry.d9d53b29.js";import{E as M}from"./el-empty.03c7f5cd.js";/* empty css                     */import{u as W}from"./useDictOptions.794690b5.js";import{e as X}from"./drawing.7058a163.js";import"./strings.fbd015b4.js";import"./index.85329892.js";const ee={class:"py-[18px] -my-4"},se={class:"mt-3"},te={class:"h-[26rem]"},oe={class:"grid grid-cols-3 gap-2 px-4 py-1"},le=["onClick"],ne=["src"],ae={class:"absolute bottom-2 left-0 w-full flex justify-center"},ie={class:"line-clamp-1 title-text"},re={class:"mt-5 px-4"},ce={class:"bg-app-bg-3 border border-app-border-2 rounded-lg px-4 py-2 min-h-[40px] relative mt-4"},pe={class:"text-white text-xs"},me={class:"flex justify-center mt-4"},de=q({__name:"inspiration-image",emits:["close","use-assemble"],setup(_e,{expose:k,emit:w}){const b=w,_=z(),p=h(),o=h([]),{optionsData:v}=W({assembleLists:{api:X,transformData:t=>(t.length&&(p.value=t[0].id),t)}}),x=J(()=>o.value.map(t=>t.title)),I=t=>o.value.some(s=>s.id==t.id),C=t=>{o.value.some(a=>a.id==t.id)?o.value=o.value.filter(a=>a.id!=t.id):o.value.push(t)},V=()=>{b("use-assemble",x.value),g()},B=()=>{_.value.open()},g=()=>{b("close"),_.value.close()};return k({open:B}),(t,s)=>{const a=j,$=F,D=S,L=K,P=Y,T=Z,A=M,N=G;return n(),u(N,{ref_key:"inspirationImageRef",ref:_,width:"476px","confirm-button-text":"","cancel-button-text":"","show-close":!1,style:{padding:"0","background-color":"var(--app-bg-color-1)"}},{default:i(()=>[e("div",ee,[e("div",{class:"absolute top-[18px] right-[18px] w-6 h-6",onClick:g},[r(a)]),s[4]||(s[4]=e("div",{class:"font-bold text-[20px] text-white px-[18px]"},"图片灵感库",-1)),e("div",se,[r(L,{modelValue:c(p),"onUpdate:modelValue":s[0]||(s[0]=l=>Q(p)?p.value=l:null),type:"card"},{default:i(()=>[(n(!0),d(f,null,y(c(v).assembleLists,(l,ue)=>(n(),u(D,{name:l.id,label:l.title},{default:i(()=>[e("div",te,[r($,null,{default:i(()=>[e("div",oe,[(n(!0),d(f,null,y(l.subs,(m,R)=>(n(),d("div",{class:O(["relative overflow-hidden cursor-pointer rounded-lg hover:",[I(m)?"shadow-[0_0_0_1px_var(--color-primary)]":""]]),key:R,onClick:fe=>C(m)},[e("img",{src:m.pic,class:"w-full h-full object-cover"},null,8,ne),e("div",ae,[e("div",ie,E(m.title),1)])],10,le))),128))])]),_:2},1024)])]),_:2},1032,["name","label"]))),256))]),_:1},8,["modelValue"])]),e("div",re,[c(v).assembleLists.length>0?(n(),d(f,{key:0},[e("div",ce,[e("div",pe,E(`${c(x)}`),1),e("div",{class:"absolute bottom-1.5 right-2 cursor-pointer",onClick:s[1]||(s[1]=l=>o.value=[])},[r(P,{name:"el-icon-Delete",color:"#FF5733"})])]),e("div",me,[r(T,{class:"w-[318px] !rounded-full !h-[50px]",type:"primary",disabled:c(o).length==0,onClick:s[2]||(s[2]=l=>V())},{default:i(()=>s[3]||(s[3]=[U("使用此描述",-1)])),_:1,__:[3]},8,["disabled"])])],64)):(n(),u(A,{key:1}))])])]),_:1},512)}}});const Ce=H(de,[["__scopeId","data-v-3c4256d9"]]);export{Ce as default};

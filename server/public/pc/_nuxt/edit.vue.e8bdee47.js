import{_ as v}from"./index.vue.3e248b2d.js";import{d as y,r as C,aF as E,cq as V,G as r,bI as B,k as F,I,s as c,m as s,q as a,Z as n,v as m,au as D,ax as N,cP as q}from"./entry.d9d53b29.js";import{u as L}from"./sph.47a77ad4.js";const R={class:"-my-4"},T={class:"mt-4"},z={class:"mt-4 flex gap-2"},Z=y({__name:"edit",emits:["close","success"],setup(G,{expose:u,emit:_}){const p=_,d=C(),e=E({id:"",name:""}),f=()=>{d.value.open()},l=()=>{p("close")},{lockFn:x,isLock:b}=V(async()=>{if(!e.name){r.msgError("请输入任务名称");return}try{await L(e),r.msgSuccess("修改成功"),p("success"),l()}catch(t){r.msgError(t)}});return u({open:f,setFormData:t=>B(t,e)}),(t,o)=>{const k=v,g=D,i=N,w=q;return F(),I(w,{ref_key:"popupRef",ref:d,async:"",width:"448px","confirm-button-text":"","cancel-button-text":"",style:{padding:"18px","border-radius":"20px","background-color":"var(--app-bg-color-3)","box-shadow":"0 0 0 1px #2a2a2a"},"append-to-body":!1,"show-close":!1},{default:c(()=>[s("div",R,[s("div",{class:"absolute w-6 h-6 top-[18px] right-[18px] z-[22]",onClick:l},[a(k)]),o[3]||(o[3]=s("div",{class:"text-[15px] text-white font-bold"},"任务名称设置",-1)),s("div",T,[a(g,{modelValue:n(e).name,"onUpdate:modelValue":o[0]||(o[0]=h=>n(e).name=h),class:"!h-[50px]",placeholder:"请输入任务名称",clearable:"",maxlength:"30","show-word-limit":""},null,8,["modelValue"])]),s("div",z,[a(i,{color:"#181818",class:"!rounded-full w-full !h-[50px] !border-app-border-1",onClick:l},{default:c(()=>o[1]||(o[1]=[m("取消",-1)])),_:1,__:[1]}),a(i,{type:"primary",class:"!rounded-full w-full !h-[50px]",loading:n(b),onClick:n(x)},{default:c(()=>o[2]||(o[2]=[m("立即保存",-1)])),_:1,__:[2]},8,["loading","onClick"])])])]),_:1},512)}}});export{Z as _};

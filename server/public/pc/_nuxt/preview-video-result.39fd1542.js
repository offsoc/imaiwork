import{d as N,r as d,aF as q,dP as z,A,k as t,l as s,q as c,s as T,m as i,aI as g,Z as n,J as h,K as W,L as x,cV as G,I as b,aH as k,G as J,y as K,cW as U,_ as X}from"./entry.ca4d3d61.js";import{_ as Z}from"./index.vue.c578915d.js";import{E as M}from"./el-empty.355e6a02.js";import{_ as O}from"./index.vue.fa049f69.js";import{u as Q}from"./usePaging.15b2220c.js";import{b as Y,n as ee}from"./redbook.418b34fe.js";import te from"./dh-video-card.5638f903.js";import oe from"./edit.77693569.js";import{E as se}from"./index.b6d81f77.js";import"./index.vue.9b80d373.js";import"./handle-menu.vue.911b3ba2.js";import"./index.655612b0.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./throttle.da389ed1.js";import"./debounce.bdbfd9e6.js";import"./toNumber.33289b44.js";const ie={class:"rounded-xl overflow-hidden flex flex-col -my-2"},ne={class:"flex items-center justify-between h-[50px] px-4"},ae={class:"flex items-center gap-x-2"},le={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[#ffffff1a]"},re=["infinite-scroll-disabled"],ce={class:"h-full p-4"},de={key:0},pe={class:"grid grid-cols-3 gap-2 p-2"},_e={class:"cursor-pointer bg-black w-full relative h-[248px] flex flex-col overflow-hidden rounded-xl group"},fe={key:0,class:"text-white text-center text-xs w-full py-4"},me={key:1,class:"h-full flex items-center justify-center"},ue=N({__name:"preview-video-result",emits:["close"],setup(ve,{expose:E,emit:V}){const P=V,w=d(),p=q({type:z.XHS,page_no:1,page_size:20,video_setting_id:""}),{pager:a,getLists:y,resetPage:R}=Q({fetchFun:Y,params:p,isScroll:!0}),C=async()=>{p.page_no+=1,await y()},D=async o=>{var e;(e=w.value)==null||e.open(),p.video_setting_id=o,y()},_=()=>{P("close")},f=d(!1),m=d(),I=async o=>{f.value=!0,await k(),m.value.open(),m.value.setFormData(o)},L=async({id:o})=>{try{await ee({id:o});const e=a.lists.findIndex(l=>l.id===o);a.lists.splice(e,1)}catch(e){J.msgWarning(e)}},u=d(!1),v=A(),$=async o=>{var e,l;u.value=!0,await k(),(e=v.value)==null||e.open(),(l=v.value)==null||l.setUrl(o)};return E({open:D,close:_}),(o,e)=>{const l=K,B=Z,F=M,H=O,S=U,j=se;return t(),s(h,null,[c(G,{ref_key:"popupRef",ref:w,width:"628px",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"cancel-button-text":"","confirm-button-text":"","show-close":!1,onClose:_},{default:T(()=>[i("div",ie,[i("div",ne,[i("div",ae,[i("div",le,[c(l,{name:"local-icon-windows",size:14})]),e[3]||(e[3]=i("div",{class:"text-[20px] text-white font-bold"},"视频列表",-1))]),i("div",{class:"w-6 h-6",onClick:_},[c(B)])]),g((t(),s("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(a).isLoad,"infinite-scroll-distance":10},[g((t(),s("div",ce,[n(a).lists.length>0?(t(),s("div",de,[i("div",pe,[(t(!0),s(h,null,W(n(a).lists,r=>(t(),s("div",{key:r.id},[i("div",_e,[c(te,{item:r,onEdit:I,onDelete:L,onPreview:$},null,8,["item"])])]))),128))]),n(a).isLoad?x("",!0):(t(),s("div",fe,"暂无更多了~"))])):(t(),s("div",me,[c(F,{description:"暂无数据"})]))])),[[S,n(a).loading]])],8,re)),[[j,C]])])]),_:1},512),n(f)?(t(),b(oe,{key:0,ref_key:"editPopupRef",ref:m,onClose:e[0]||(e[0]=r=>f.value=!1),onSuccess:e[1]||(e[1]=r=>n(R)())},null,512)):x("",!0),n(u)?(t(),b(H,{key:1,ref_key:"previewVideoRef",ref:v,onClose:e[2]||(e[2]=r=>u.value=!1)},null,512)):x("",!0)],64)}}});const Fe=X(ue,[["__scopeId","data-v-bab784be"]]);export{Fe as default};

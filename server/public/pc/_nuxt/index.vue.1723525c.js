import{d as I,at as P,c as R,r as D,A as j,aF as H,o as L,k as d,l as u,m as n,q as t,s as a,Z as s,$ as M,v as x,aI as z,I as k,t as F,J as v,L as f,bM as U,aH as q,u as G,G as w,ax as J,au as K,y as W,ba as Z,cW as O}from"./entry.f4f46cb5.js";import{E as Q}from"./index.bad4fd13.js";import{E as X,a as Y}from"./index.eb05fb19.js";import{_ as ee}from"./index.vue.f3f2b692.js";/* empty css                     *//* empty css                        *//* empty css               *//* empty css                 */import{u as te}from"./usePaging.64f4ceb2.js";import{g as oe,j as ne}from"./digital_human.b276942f.js";import{_ as se}from"./empty.vue.e7db209b.js";import{ToneTypeEnum as le,DigitalHumanModelVersionEnum as ae}from"./index.728f9c9c.js";import ie from"./add-pop.f60a39bf.js";const re={class:"h-full flex flex-col bg-app-bg-2 rounded-[20px]"},de={class:"flex-shrink-0 px-[14px]"},ce={class:"flex items-center justify-end h-[88px]"},me={class:"flex items-center gap-[14px]"},pe={class:"grow min-h-0 overflow-hidden flex flex-col"},ue={class:"grow min-h-0"},fe={class:"flex items-center gap-2 justify-center"},_e={class:"leading-6"},ge={class:"flex justify-center p-4"},Be=I({__name:"index",setup(xe){const b=P(),E=R(()=>{const{channel:l}=b.getDigitalHumanConfig;return l&&l.length>0?l.filter(e=>e.status==1&&ae.CHANJING==e.id):[]}),_=D(!1),y=j(),g=H({name:"",model_version:"",builtin:le.USER}),{pager:c,getLists:i}=te({fetchFun:oe,params:g}),C=l=>{const e=E.value.find(r=>r.id==l);return(e==null?void 0:e.name)||""},h=async()=>{var l;_.value=!0,await q(),(l=y.value)==null||l.open()},V=async l=>{G().$confirm({title:"提示",message:"是否删除该音色",theme:"dark",onConfirm:async()=>{try{await ne({id:l}),i(),w.msgSuccess("删除成功")}catch(e){w.msgError(e||"删除失败")}}})};return L(()=>{i()}),(l,e)=>{const r=J,$=K,p=W,T=Z,S=Q,m=X,A=Y,N=ee,B=O;return d(),u("div",re,[n("div",de,[t(S,null,{default:a(()=>[n("div",ce,[n("div",me,[t($,{modelValue:s(g).name,"onUpdate:modelValue":e[1]||(e[1]=o=>s(g).name=o),"prefix-icon":"el-icon-Search",class:"!w-[240px] search-name-input",placeholder:"请输入音色名称",clearable:"",onClear:e[2]||(e[2]=o=>s(i)()),onKeydown:e[3]||(e[3]=M(o=>s(i)(),["enter"]))},{append:a(()=>[t(r,{text:"",onClick:e[0]||(e[0]=o=>s(i)())},{default:a(()=>[...e[8]||(e[8]=[x(" 搜索 ",-1)])]),_:1})]),_:1},8,["modelValue"]),t(r,{type:"primary",class:"!rounded-full !h-10 !w-[116px]",onClick:h},{default:a(()=>[t(p,{name:"local-icon-add_circle",color:"#ffffff"}),e[9]||(e[9]=n("span",{class:"ml-2"},"新增音色",-1))]),_:1}),n("div",null,[t(T,{content:"刷新"},{default:a(()=>[t(r,{circle:"",color:"#1f1f1f",icon:"el-icon-Refresh",class:"!w-10 !h-10",onClick:e[4]||(e[4]=o=>s(i)())})]),_:1})])])])]),_:1})]),n("div",pe,[n("div",ue,[z((d(),k(A,{height:"100%",data:s(c).lists,"header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:a(()=>[n("div",_e,[t(se,{"btn-text":"新增音色",msg:"快去创建你的专属音色吧","custom-click":h})])]),default:a(()=>[t(m,{prop:"name",label:"音色名称","min-width":"200"}),t(m,{label:"创建时间",prop:"create_time","min-width":"200"}),t(m,{label:"使用模型","min-width":"120"},{default:a(({row:o})=>[x(F(C(o.model_version)),1)]),_:1}),t(m,{label:"状态","min-width":"120"},{default:a(({row:o})=>[n("div",fe,[[0,3,4,5].includes(o.status)?(d(),u(v,{key:0},[t(p,{name:"local-icon-clone",color:"#ffffff",size:16}),e[10]||(e[10]=n("span",{class:"text-warning"},"克隆中...",-1))],64)):f("",!0),o.status===1?(d(),u(v,{key:1},[t(p,{name:"local-icon-success_fill",color:"var(--el-color-success)",size:16}),e[11]||(e[11]=n("span",{class:"text-success"},"成功",-1))],64)):f("",!0),o.status===2?(d(),u(v,{key:2},[t(p,{name:"local-icon-error_fill",size:16}),e[12]||(e[12]=n("span",{class:"text-danger"},"失败",-1))],64)):f("",!0)])]),_:1}),t(m,{label:"操作",width:"100",fixed:"right"},{default:a(({row:o})=>[t(r,{link:"",type:"danger",onClick:ve=>V(o.id)},{default:a(()=>[...e[13]||(e[13]=[x(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,s(c).loading]])]),n("div",ge,[t(N,{modelValue:s(c),"onUpdate:modelValue":e[5]||(e[5]=o=>U(c)?c.value=o:null),layout:"prev, pager, next",onChange:s(i)},null,8,["modelValue","onChange"])])]),s(_)?(d(),k(ie,{key:0,ref_key:"addPopRef",ref:y,onClose:e[6]||(e[6]=o=>_.value=!1),onSuccess:e[7]||(e[7]=o=>s(i)())},null,512)):f("",!0)])}}});export{Be as _};

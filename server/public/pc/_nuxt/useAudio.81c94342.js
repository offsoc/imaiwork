import{A as c,r as s,b as d}from"./entry.d7219633.js";const u=new Set,A=p=>{const e=c(null),l=s(!1),v=s(0);s(0);const o=a=>{e.value||t(),e.value.src=a},r=async a=>{e.value||t(),a&&o(a),e.value.play()},i=()=>{e.value.pause(),l.value=!1},n=()=>{l.value=!1,u.forEach(a=>{a.pause(),a.currentTime=0,a.audioPlaying=!1})},t=()=>{e.value=new Audio,e.value.audioPlaying=l.value,u.add(e.value),e.value.onplay=()=>{l.value=!0},e.value.onended=()=>{l.value=!1},e.value.onerror=()=>{l.value=!1}},f=()=>{e.value&&(u.delete(e.value),e.value=null)};return d(()=>{var a;(a=e.value)!=null&&a.src&&n(),e.value&&(u.delete(e.value),e.value=null)}),{pause:i,pauseAll:n,play:r,destroy:f,setUrl:o,stop,duration:v,isPlaying:l}};export{A as u};

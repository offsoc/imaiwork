import{d as Z,c as N,aF as V,r as U,A as B,k as g,l as j,m as t,Z as i,t as f,q as o,s as l,v as h,aI as _,I as y,bM as $,L as Q,J as ee,aH as F,G as Y,y as te,ax as se,cW as oe,u as ne,d6 as ae}from"./entry.f4f46cb5.js";import{E as ie,a as le}from"./index.eb05fb19.js";import{E as re}from"./index.25e18e1c.js";import{_ as ce}from"./index.vue.f3f2b692.js";/* empty css                        *//* empty css               *//* empty css                   *//* empty css                 *//* empty css                     */import{u as pe}from"./useCopy.f7acf0f4.js";import{u as ue}from"./usePaging.64f4ceb2.js";import{n as de,o as me}from"./agent.e14901d7.js";import{PublishTypeEnum as J}from"./index.11e2700c.js";import{_ as ge}from"./create-popup.vue.2f9aa481.js";import{_ as Ae}from"./usage-setting.vue.133cc355.js";import{_ as fe}from"./poster-setting.vue.503d6a97.js";const he="data:image/png;base64,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",ye="data:image/png;base64,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",ke={class:"h-full flex flex-col"},ve={class:"h-[78px] flex items-center justify-between px-[30px] gap-x-4"},we={class:"flex items-center gap-x-2"},xe=["src"],Ce={class:"text-[#000000cc]"},Ee={class:"mt-1 text-[#00000080]"},Ie={class:"grow min-h-0"},Ue={class:"flex flex-col gap-2"},Be=["onClick"],Qe=["onClick"],Fe={class:"flex items-center justify-center"},De=["onClick"],Me=["onClick"],Ye={class:"my-4 flex justify-center"},Ne=Z({__name:"web",props:{type:{},agentId:{}},emits:["close","success"],setup(c,{emit:R}){const A=c,S=R,{copy:W}=pe(),b=ne(),k=N(()=>{switch(A.type){case J.WEB:return{title:"网页",icon:he,description:"可以直接分享该模型给其他用户去进行对话，对方无需登录即可直接进行对话。注意，这个功能会消耗你账号的问答条数。请保管好链接和密码。"};case J.POSTER:return{title:"发布海报",icon:ye,description:"将海报发布到指定环境"};default:return{title:"",icon:"",description:""}}}),G=V({robot_id:A.agentId,type:A.type}),{pager:p,getLists:u}=ue({fetchFun:de,params:G}),v=U(!1),w=B(),D=async s=>{v.value=!0,await F(),w.value.open(),s&&w.value.setFormData({...s,password:s.secret})},M=s=>`${location.origin}${ae()}/chat/${s.apikey} #${s.name} ${s.secret?`密码: ${s.secret}`:""}`,x=U(!1),C=B(),X=async s=>{var e,a;x.value=!0,await F(),(e=C.value)==null||e.open(),(a=C.value)==null||a.setFormData(s)},P=async s=>{const e=M(s);await W(e)},H=async s=>{const e=M(s);window.open(e)},E=U(!1),I=B(),q=async s=>{var e,a;E.value=!0,await F(),(e=I.value)==null||e.open(),(a=I.value)==null||a.setFormData(s)},z=async s=>{await b.$confirm({message:"确定删除该数据吗？",onConfirm:async()=>{try{await me({id:s.id,type:A.type}),Y.msgSuccess("删除成功"),u()}catch{Y.msgWarning("删除失败")}}})};return u(),(s,e)=>{const a=te,d=se,r=ie,L=re,O=le,T=ce,K=oe;return g(),j(ee,null,[t("div",ke,[t("div",ve,[t("div",we,[t("img",{src:i(k).icon,class:"w-[50px] h-[50px] flex-shrink-0"},null,8,xe),t("div",null,[t("div",Ce,f(i(k).title),1),t("div",Ee,f(i(k).description),1)])]),t("div",null,[o(d,{type:"primary",class:"!rounded-full !h-10",onClick:e[0]||(e[0]=n=>D())},{default:l(()=>[o(a,{name:"local-icon-add_circle"}),e[6]||(e[6]=t("span",{class:"ml-2"},"创建链接",-1))]),_:1}),o(d,{class:"!rounded-full !h-10",onClick:e[1]||(e[1]=n=>S("close"))},{default:l(()=>[...e[7]||(e[7]=[h("取消",-1)])]),_:1})])]),t("div",Ie,[_((g(),y(O,{data:i(p).lists,height:"100%",stripe:"","header-row-style":{height:"62px"},"row-style":{height:"60px"}},{default:l(()=>[o(r,{label:"APIkey",prop:"apikey","min-width":"200","show-overflow-tooltip":""}),o(r,{label:"分享名称",prop:"name","min-width":"180","show-overflow-tooltip":""}),o(r,{label:"访问密码",prop:"secret","min-width":"120"},{default:l(({row:n})=>[h(f(n.secret||"-"),1)]),_:1}),o(r,{label:"对话模式","min-width":"120"},{default:l(({row:n})=>[t("div",null,f(n.chat_type==1?"文本对话":"形象对话"),1)]),_:1}),o(r,{label:"最后使用时间",prop:"use_time",width:"160"}),o(r,{label:"操作",width:"220"},{default:l(({row:n})=>[o(d,{type:"primary",link:"",onClick:m=>X(n)},{default:l(()=>[...e[8]||(e[8]=[h("生成海报",-1)])]),_:1},8,["onClick"]),o(d,{type:"primary",link:"",onClick:m=>P(n)},{default:l(()=>[...e[9]||(e[9]=[h(" 复制链接 ",-1)])]),_:1},8,["onClick"]),o(L,{"show-arrow":!1,"popper-class":"!w-[130px] !min-w-[130px] !p-[6px] !rounded-xl"},{reference:l(()=>[o(d,{link:""},{default:l(()=>[o(a,{name:"el-icon-MoreFilled",color:"var(--color-primary)"})]),_:1})]),default:l(()=>[t("div",Ue,[t("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:m=>D(n)},[o(a,{name:"el-icon-Edit"}),e[10]||(e[10]=t("span",null,"编辑",-1))],8,Be),t("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:m=>H(n)},[t("span",Fe,[o(a,{name:"el-icon-View"})]),e[11]||(e[11]=t("span",null,"预览",-1))],8,Qe),t("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:m=>q(n)},[o(a,{name:"el-icon-Setting"}),e[12]||(e[12]=t("span",null,"用量设置",-1))],8,De),t("div",{class:"px-2 py-1 hover:bg-primary-light-9 rounded-lg cursor-pointer flex items-center gap-2",onClick:m=>z(n)},[o(a,{name:"el-icon-Delete"}),e[13]||(e[13]=t("span",null,"删除",-1))],8,Me)])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[K,i(p).loading]])]),t("div",Ye,[o(T,{modelValue:i(p),"onUpdate:modelValue":e[2]||(e[2]=n=>$(p)?p.value=n:null),layout:"prev, pager, next",onChange:i(u)},null,8,["modelValue","onChange"])])]),i(v)?(g(),y(ge,{key:0,ref_key:"createPopupRef",ref:w,"agent-id":c.agentId,type:c.type,"show-chat-type":"",onClose:e[3]||(e[3]=n=>v.value=!1),onSuccess:i(u)},null,8,["agent-id","type","onSuccess"])):Q("",!0),i(E)?(g(),y(Ae,{key:1,ref_key:"usageSettingRef",ref:I,"agent-id":c.agentId,type:c.type,onClose:e[4]||(e[4]=n=>E.value=!1),onSuccess:i(u)},null,8,["agent-id","type","onSuccess"])):Q("",!0),i(x)?(g(),y(fe,{key:2,ref_key:"posterSettingRef",ref:C,onClose:e[5]||(e[5]=n=>x.value=!1)},null,512)):Q("",!0)],64)}}});export{he as P,Ne as _,ye as a};

import{d as Y,aF as O,r as g,A as v,k as u,l as X,m as l,q as s,s as i,v as p,t as K,Z as o,aI as N,I as c,bK as L,L as x,J as q,aH as I,G as S,ax as Z,y as j,cQ as _,u as z}from"./entry.d9d53b29.js";import{E as $,a as ee}from"./index.9a037d22.js";import{_ as te}from"./index.vue.930f6062.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as se}from"./useCopy.6d9f93e9.js";import{u as oe}from"./usePaging.64764a63.js";import{n as ne,o as le}from"./agent.a3fcedc5.js";import{_ as ae}from"./create-popup.vue.a5a9c5eb.js";import{_ as ie}from"./usage-setting.vue.fca6f7ff.js";import{_ as pe}from"./call-code.vue.3eb78523.js";const re="data:image/png;base64,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",me={class:"h-full flex flex-col"},ue={class:"h-[78px] flex items-center justify-between px-[30px] gap-x-4"},de={class:"flex items-center gap-x-2"},fe={class:"grow min-h-0"},ge={class:"my-4 flex justify-center"},Fe=Y({__name:"api",props:{type:{},agentId:{}},emits:["close","success"],setup(E,{emit:F}){const d=E,J=F,B=z(),{copy:V}=se(),T=O({robot_id:d.agentId,type:d.type}),{pager:r,getLists:m}=oe({fetchFun:ne,params:T}),h=g(`${window.location.origin}/api/v1/chat/commonChat`),y=g(!1),Q=v(),D=async()=>{var t;y.value=!0,await I(),(t=Q.value)==null||t.open()},A=g(!1),k=v(),G=async t=>{A.value=!0,await I(),k.value.open(),t&&k.value.setFormData({...t,password:t.secret})},w=g(!1),C=v(),R=async t=>{var e,a;w.value=!0,await I(),(e=C.value)==null||e.open(),(a=C.value)==null||a.setFormData(t)},M=async t=>{await B.$confirm({message:"确定删除该数据吗？",onConfirm:async()=>{try{await le({id:t.id,type:d.type}),S.msgSuccess("删除成功"),m()}catch{S.msgWarning("删除失败")}}})};return m(),(t,e)=>{const a=Z,P=j,f=$,U=ee,H=te,W=_;return u(),X(q,null,[l("div",me,[l("div",ue,[l("div",de,[e[11]||(e[11]=l("img",{src:re,class:"w-[50px] h-[50px] flex-shrink-0"},null,-1)),l("div",null,[s(a,{type:"primary",link:"",onClick:e[0]||(e[0]=n=>D())},{default:i(()=>e[8]||(e[8]=[p("调用说明",-1)])),_:1,__:[8]}),l("div",null,[e[10]||(e[10]=p(" API根地址： ",-1)),l("span",null,K(o(h)),1),s(a,{onClick:e[1]||(e[1]=n=>o(V)(o(h))),type:"primary",link:""},{default:i(()=>e[9]||(e[9]=[p("复制",-1)])),_:1,__:[9]})])])]),l("div",null,[s(a,{type:"primary",class:"!rounded-full !h-10",onClick:e[2]||(e[2]=n=>G())},{default:i(()=>[s(P,{name:"local-icon-add_circle"}),e[12]||(e[12]=l("span",{class:"ml-2"},"创建API",-1))]),_:1,__:[12]}),s(a,{class:"!rounded-full !h-10",onClick:e[3]||(e[3]=n=>J("close"))},{default:i(()=>e[13]||(e[13]=[p("取消",-1)])),_:1,__:[13]})])]),l("div",fe,[N((u(),c(U,{data:o(r).lists,height:"100%",stripe:"","header-row-style":{height:"62px"},"row-style":{height:"60px"}},{default:i(()=>[s(f,{label:"APIkey",prop:"apikey","min-width":"200","show-overflow-tooltip":""}),s(f,{label:"分享名称",prop:"name","min-width":"180","show-overflow-tooltip":""}),s(f,{label:"最后使用时间",prop:"use_time",width:"160"}),s(f,{label:"操作",width:"200"},{default:i(({row:n})=>[s(a,{type:"primary",link:"",onClick:b=>R(n)},{default:i(()=>e[14]||(e[14]=[p(" 用量设置 ",-1)])),_:2,__:[14]},1032,["onClick"]),s(a,{type:"danger",link:"",onClick:b=>M(n)},{default:i(()=>e[15]||(e[15]=[p(" 删除 ",-1)])),_:2,__:[15]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[W,o(r).loading]])]),l("div",ge,[s(H,{modelValue:o(r),"onUpdate:modelValue":e[4]||(e[4]=n=>L(r)?r.value=n:null),layout:"prev, pager, next",onChange:o(m)},null,8,["modelValue","onChange"])])]),o(A)?(u(),c(ae,{key:0,ref_key:"createPopupRef",ref:k,"agent-id":d.agentId,type:t.type,"show-chat-type":!1,onClose:e[5]||(e[5]=n=>A.value=!1),onSuccess:o(m)},null,8,["agent-id","type","onSuccess"])):x("",!0),o(w)?(u(),c(ie,{key:1,ref_key:"usageSettingRef",ref:C,"agent-id":t.agentId,type:t.type,onClose:e[6]||(e[6]=n=>w.value=!1),onSuccess:o(m)},null,8,["agent-id","type","onSuccess"])):x("",!0),o(y)?(u(),c(pe,{key:2,ref_key:"callCodeRef",ref:Q,onClose:e[7]||(e[7]=n=>y.value=!1)},null,512)):x("",!0)],64)}}});export{re as P,Fe as _};

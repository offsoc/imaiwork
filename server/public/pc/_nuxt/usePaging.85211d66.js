import{F as m,aF as P}from"./entry.2beb4577.js";function x(u){const{page:r=1,size:c=15,isScroll:l=!1,fetchFun:f,params:e={},firstLoading:p=!1}=u,g=Object.assign({},m(e)),a=P({page:r,size:c,loading:p,isLoad:!1,count:0,lists:[],extend:{}}),o=async(n,s=!0,d=!0)=>(s&&(a.loading=!0),await f({page_no:a.page,page_size:a.size,...e,...n}).then(t=>{a.count=t==null?void 0:t.count;const i=(t==null?void 0:t.lists)||(t==null?void 0:t.list)||t||[];return l?(a.lists=d?a.lists.concat(i):i,a.isLoad=!(i.length<(e.page_size||c))):a.lists=i,a.extend=t==null?void 0:t.extend,Promise.resolve(t)}).catch(t=>Promise.reject(t)).finally(()=>{a.loading=!1}));return{pager:a,getLists:o,resetParams:n=>(Object.keys(g).forEach(s=>{e[s]=g[s]}),a.isLoad=!0,o(n)),resetPage:n=>(a.page=1,e.page_no&&(e.page_no=1),l&&(a.lists=[]),a.isLoad=!0,o(n))}}export{x as u};

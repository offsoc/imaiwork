import{d as O,r as d,aF as S,ef as q,A as z,k as t,l as s,q as c,s as A,m as i,aI as g,Z as n,J as h,K,L as x,cO as T,I as k,aH as b,G,y as J,cP as U,_ as W}from"./entry.d7219633.js";import{_ as Z}from"./index.vue.f38ca415.js";import{E as M}from"./el-empty.77af023a.js";import{_ as Q}from"./index.vue.c82b4b26.js";import{u as X}from"./usePaging.3c53b51c.js";import{b as Y,v as ee}from"./redbook.f03a8b74.js";import te from"./dh-video-card.d39eca82.js";import oe from"./edit.650823f1.js";import{E as se}from"./index.15764a88.js";import"./index.vue.38c569b2.js";import"./handle-menu.vue.23aa7045.js";import"./index.1f8dde63.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./position.cb246d7d.js";import"./throttle.70466628.js";import"./debounce.085e8a4a.js";const ie={class:"rounded-xl overflow-hidden flex flex-col -my-2"},ne={class:"flex items-center justify-between h-[50px] px-4"},ae={class:"flex items-center gap-x-2"},le={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[#ffffff1a]"},re=["infinite-scroll-disabled"],ce={class:"h-full p-4"},de={key:0},pe={class:"grid grid-cols-3 gap-2 p-2"},fe={class:"cursor-pointer bg-black w-full relative h-[248px] flex flex-col overflow-hidden rounded-xl group"},_e={key:0,class:"text-white text-center text-xs w-full py-4"},me={key:1,class:"h-full flex items-center justify-center"},ue=O({__name:"preview-video-result",emits:["close"],setup(ve,{expose:E,emit:P}){const V=P,w=d(),p=S({type:q.REDBOOK,page_no:1,page_size:20,video_setting_id:""}),{pager:a,getLists:y,resetPage:R}=X({fetchFun:Y,params:p,isScroll:!0}),C=async()=>{p.page_no+=1,await y()},D=async o=>{var e;(e=w.value)==null||e.open(),p.video_setting_id=o,y()},f=()=>{V("close")},_=d(!1),m=d(),I=async o=>{_.value=!0,await b(),m.value.open(),m.value.setFormData(o)},L=async({id:o})=>{try{await ee({id:o});const e=a.lists.findIndex(l=>l.id===o);a.lists.splice(e,1)}catch(e){G.msgWarning(e)}},u=d(!1),v=z(),$=async o=>{var e,l;u.value=!0,await b(),(e=v.value)==null||e.open(),(l=v.value)==null||l.setUrl(o)};return E({open:D,close:f}),(o,e)=>{const l=J,B=Z,F=M,j=Q,H=U,N=se;return t(),s(h,null,[c(T,{ref_key:"popupRef",ref:w,width:"628px",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"cancel-button-text":"","confirm-button-text":"","show-close":!1,onClose:f},{default:A(()=>[i("div",ie,[i("div",ne,[i("div",ae,[i("div",le,[c(l,{name:"local-icon-windows",size:14})]),e[3]||(e[3]=i("div",{class:"text-[20px] text-white font-bold"},"视频列表",-1))]),i("div",{class:"w-6 h-6",onClick:f},[c(B)])]),g((t(),s("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(a).isLoad,"infinite-scroll-distance":10},[g((t(),s("div",ce,[n(a).lists.length>0?(t(),s("div",de,[i("div",pe,[(t(!0),s(h,null,K(n(a).lists,r=>(t(),s("div",{key:r.id},[i("div",fe,[c(te,{item:r,onEdit:I,onDelete:L,onPreview:$},null,8,["item","onPreview"])])]))),128))]),n(a).isLoad?x("",!0):(t(),s("div",_e," 暂无更多了~ "))])):(t(),s("div",me,[c(F,{description:"暂无数据"})]))])),[[H,n(a).loading]])],8,re)),[[N,C]])])]),_:1},512),n(_)?(t(),k(oe,{key:0,ref_key:"editPopupRef",ref:m,onClose:e[0]||(e[0]=r=>_.value=!1),onSuccess:e[1]||(e[1]=r=>n(R)())},null,512)):x("",!0),n(u)?(t(),k(j,{key:1,ref_key:"previewVideoRef",ref:v,onClose:e[2]||(e[2]=r=>u.value=!1)},null,512)):x("",!0)],64)}}});const Fe=W(ue,[["__scopeId","data-v-ad8e2734"]]);export{Fe as default};

import{Q as U,S as T,a_ as D,d1 as L,ao as M,b3 as j,d as B,aZ as _,aX as C,bz as S,W as A,r as w,X,V as Z,c as m,k as b,I as h,s as g,Z as u,a1 as q,Y as G,aq as J,L as K,l as Q,J as W,K as Y,aa as x,am as R}from"./entry.d7219633.js";import{c as ee}from"./customParseFormat.76f0695f.js";import{a as V}from"./index.50778a9c.js";const te=U({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:T(String),default:"light"},clearable:{type:Boolean,default:!0},size:D,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:Boolean,name:String,prefixIcon:{type:T([String,Object]),default:()=>L},clearIcon:{type:T([String,Object]),default:()=>M},...j}),i=n=>{const o=(n||"").split(":");if(o.length>=2){let t=Number.parseInt(o[0],10);const s=Number.parseInt(o[1],10),l=n.toUpperCase();return l.includes("AM")&&t===12?t=0:l.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:s}}return null},y=(n,o)=>{const t=i(n);if(!t)return-1;const s=i(o);if(!s)return-1;const l=t.minutes+t.hours*60,d=s.minutes+s.hours*60;return l===d?0:l>d?1:-1},I=n=>`${n}`.padStart(2,"0"),f=n=>`${I(n.hours)}:${I(n.minutes)}`,le=(n,o)=>{const t=i(n);if(!t)return"";const s=i(o);if(!s)return"";const l={hours:t.hours,minutes:t.minutes};return l.minutes+=s.minutes,l.hours+=s.hours,l.hours+=Math.floor(l.minutes/60),l.minutes=l.minutes%60,f(l)},ae=B({name:"ElTimeSelect"}),ne=B({...ae,props:te,emits:[_,"blur","focus","clear",C],setup(n,{expose:o}){const t=n;S.extend(ee);const{Option:s}=V,l=A("input"),d=w(),k=X(),{lang:E}=Z(),P=m(()=>t.modelValue),$=m(()=>{const e=i(t.start);return e?f(e):null}),p=m(()=>{const e=i(t.end);return e?f(e):null}),z=m(()=>{const e=i(t.step);return e?f(e):null}),H=m(()=>{const e=i(t.minTime||"");return e?f(e):null}),N=m(()=>{const e=i(t.maxTime||"");return e?f(e):null}),O=m(()=>{var e;const r=[],a=(c,v)=>{r.push({value:c,disabled:y(v,H.value||"-1:-1")<=0||y(v,N.value||"100:100")>=0})};if(t.start&&t.end&&t.step){let c=$.value,v;for(;c&&p.value&&y(c,p.value)<=0;)v=S(c,"HH:mm").locale(E.value).format(t.format),a(v,c),c=le(c,z.value);if(t.includeEndTime&&p.value&&((e=r[r.length-1])==null?void 0:e.value)!==p.value){const F=S(p.value,"HH:mm").locale(E.value).format(t.format);a(F,p.value)}}return r});return o({blur:()=>{var e,r;(r=(e=d.value)==null?void 0:e.blur)==null||r.call(e)},focus:()=>{var e,r;(r=(e=d.value)==null?void 0:e.focus)==null||r.call(e)}}),(e,r)=>(b(),h(u(V),{ref_key:"select",ref:d,"model-value":u(P),disabled:u(k),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"onUpdate:modelValue":a=>e.$emit(u(C),a),onChange:a=>e.$emit(u(_),a),onBlur:a=>e.$emit("blur",a),onFocus:a=>e.$emit("focus",a),onClear:()=>e.$emit("clear")},{prefix:g(()=>[e.prefixIcon?(b(),h(u(q),{key:0,class:G(u(l).e("prefix-icon"))},{default:g(()=>[(b(),h(J(e.prefixIcon)))]),_:1},8,["class"])):K("v-if",!0)]),default:g(()=>[(b(!0),Q(W,null,Y(u(O),a=>(b(),h(u(s),{key:a.value,label:a.value,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var se=x(ne,[["__file","time-select.vue"]]);const me=R(se);export{me as E};

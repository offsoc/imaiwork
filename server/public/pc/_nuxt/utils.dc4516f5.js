function l(n){const r=t=>{const[e,i]=(t||"").split(":").map(Number);return e*60+i};for(let t=0;t<n.length;t++){const e=n[t];if(!e||e.start_time==null||e.start_time===""||e.end_time==null||e.end_time==="")return{valid:!1,errorType:"选择时间不能为空",indexes:[t]};const i=r(e.start_time),s=r(e.end_time);if(i>=s)return{valid:!1,errorType:"选择时间冲突",indexes:[t]};if(t>0){const o=n[t-1],a=r(o.end_time);if(i<a)return{valid:!1,errorType:"选择时间冲突",indexes:[t-1,t]}}}return{valid:!0,indexes:[]}}function d(n,r=15){if(!Number.isFinite(r)||r<=0)throw new TypeError("minGapMinutes 必须是正数");const t=n.map((e,i)=>({...e,_idx:i}));t.sort((e,i)=>new Date(e.publish_time).getTime()-new Date(i.publish_time).getTime());for(let e=1;e<t.length;e++){const i=t[e-1],s=t[e],o=(new Date(s.publish_time).getTime()-new Date(i.publish_time).getTime())/(1e3*60);if(o<r)return{valid:!1,errorIndexes:[i._idx,s._idx],gapMinutes:o}}return{valid:!0}}export{d as checkMinGap,l as validateSchedule};

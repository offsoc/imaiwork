import{_ as F}from"./index.vue.d98c851e.js";import{d as J,r as _,c as j,k as l,I as g,s as p,m as o,q as a,v as x,t as w,Z as n,l as d,K as B,Y,J as S,ax as Z,y as G,au as H,cV as P,_ as Q}from"./entry.ee599c70.js";import{E as W}from"./index.e69b4eeb.js";import{E as X}from"./el-empty.76498597.js";/* empty css                     */import{a as ee}from"./redbook.418b34fe.js";import{CopywritingTypeEnum as oe}from"./index.db2ee73f.js";const te={class:"-my-4"},se={class:"flex justify-between gap-x-2 mt-[18px]"},le={class:"text-[#ffffff80] text-[11px]"},ae={class:"text-white"},ne={class:"flex gap-x-[10px] mt-[18px]"},re={class:"flex-1 rounded-xl border border-app-border-1 bg-app-bg-2"},ce={class:"h-[308px]"},ie={class:"p-3 flex flex-col gap-y-1"},pe=["onClick"],de={class:"flex-1"},fe={class:"w-4 h-4 rounded-full cursor-pointer"},_e={key:1,class:"h-full flex items-center justify-center"},ue={class:"flex-1 rounded-xl border border-app-border-1 bg-app-bg-2"},xe={class:"flex items-center justify-between h-11 border-[0] border-b-[1px] border-app-border-1 px-[10px]"},me={class:"h-[308px]"},ye={class:"p-3 flex flex-col gap-y-2"},ve={class:"flex-1 rounded-md"},he=["onClick"],be={key:1,class:"h-full flex items-center justify-center"},ge={class:"mt-[18px] flex justify-center"},we=J({__name:"kb-copywriting-material",emits:["close","confirm"],setup(ke,{expose:I,emit:N}){const k=N,r=_([]),c=_({}),f=_({oral_copy:[]}),u=j(()=>i.value?{oral_copy:f.value.oral_copy}:{oral_copy:(r.value.find(e=>e.id==c.value.id)||{}).oral_copy||[]}),$=j(()=>f.value.oral_copy.length),T=async()=>{const{lists:t}=await ee({page_size:9999,copywriting_type:oe.CONTENT});t.length>0&&(t.forEach(e=>{e.oral_copy=e.oral_copy.map(y=>({...y,checked:!1}))}),r.value=t,c.value=t[0])},i=_(!1),M=()=>{i.value=!i.value},A=t=>{c.value=t,i.value=!1},C=()=>{const t=r.value.flatMap(e=>e.oral_copy).filter(e=>e.checked);f.value={oral_copy:t}},K=t=>{t.checked=!t.checked,C()},O=()=>{const t=u.value.oral_copy.some(e=>!e.checked);u.value.oral_copy.forEach(e=>{e.checked=t}),C()},m=_(),R=()=>{m.value.open(),r.value=[],f.value={oral_copy:[]},c.value={},i.value=!1,T()},E=()=>{k("close"),m.value.close()},U=()=>{k("confirm",{lists:f.value.oral_copy.map(t=>({content:t.content}))}),E()};return I({open:R}),(t,e)=>{const y=F,v=Z,V=G,z=W,L=X,q=H,D=P;return l(),g(D,{ref_key:"popupRef",ref:m,width:"718px","confirm-button-text":"","cancel-button-text":"",style:{"background-color":"var(--app-bg-color-3)",border:"1px solid var(--app-border-color-1)"},"show-close":!1},{default:p(()=>[o("div",te,[o("div",{class:"absolute w-6 h-6 top-4 right-4",onClick:E},[a(y)]),e[6]||(e[6]=o("div",{class:"text-white text-[20px] font-bold"},"口播文案库",-1)),o("div",se,[o("div",le,[e[1]||(e[1]=x(" 已选择",-1)),o("span",ae,"（"+w(n($))+"）",1)]),a(v,{link:"",class:"!text-[#ffffff80] !text-[11px]",onClick:M},{default:p(()=>[x(w(n(i)?"隐藏已选择":"查看已选择"),1)]),_:1})]),o("div",ne,[o("div",re,[e[2]||(e[2]=o("div",{class:"flex items-center justify-between h-11 border-[0] border-b-[1px] border-app-border-1 px-[10px]"},[o("div",{class:"text-white"},"文案列表")],-1)),o("div",ce,[n(r).length>0?(l(),g(z,{key:0,class:"h-full"},{default:p(()=>[o("div",ie,[(l(!0),d(S,null,B(n(r),(s,h)=>(l(),d("div",{class:Y(["flex items-center gap-x-3 h-11 px-3 rounded-md text-white border border-app-border-2 text-xs cursor-pointer",[n(c).id==s.id?"bg-app-bg-2":"bg-app-bg-1"]]),key:h,onClick:b=>A(s)},[o("div",de,w(s.name),1),o("div",fe,[a(V,{name:"local-icon-success_fill",size:16,color:n(c).id==s.id?"var(--color-primary)":"#ffffff1a"},null,8,["color"])])],10,pe))),128))])]),_:1})):(l(),d("div",_e,[a(L,{description:"暂无数据","image-size":100})]))])]),o("div",ue,[o("div",xe,[e[4]||(e[4]=o("div",{class:"text-white"},"标题",-1)),a(v,{class:"!border-app-border-2",color:"#1f1f1f",size:"small",onClick:e[0]||(e[0]=s=>O())},{default:p(()=>[...e[3]||(e[3]=[x("全选",-1)])]),_:1})]),o("div",me,[n(u).oral_copy.length>0?(l(),g(z,{key:0,class:"h-full"},{default:p(()=>[o("div",ye,[(l(!0),d(S,null,B(n(u).oral_copy,(s,h)=>(l(),d("div",{class:"flex items-center gap-x-3",key:h},[o("div",ve,[a(q,{modelValue:s.content,"onUpdate:modelValue":b=>s.content=b,type:"textarea",maxlength:"800","show-word-limit":"","input-style":"font-size: 11px",rows:6},null,8,["modelValue","onUpdate:modelValue"])]),o("div",{class:"w-4 h-4 rounded-full cursor-pointer",onClick:b=>K(s)},[a(V,{name:"local-icon-success_fill",size:16,color:s.checked?"var(--color-primary)":"#ffffff1a"},null,8,["color"])],8,he)]))),128))])]),_:1})):(l(),d("div",be,[a(L,{description:"暂无数据","image-size":100})]))])])]),o("div",ge,[a(v,{type:"primary",class:"!rounded-full w-[246px] !h-[50px]",onClick:U},{default:p(()=>[...e[5]||(e[5]=[x("确定",-1)])]),_:1})])])]),_:1},512)}}});const Se=Q(we,[["__scopeId","data-v-9a3a7900"]]);export{Se as default};

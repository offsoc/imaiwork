import{E as v}from"./el-empty.03c7f5cd.js";import{d as g,r as k,aH as l,k as t,l as a,Z as o,I as x,s as r,q as s,m as C,L as m}from"./entry.d9d53b29.js";import{s as w,a as B}from"./vue-virtual-scroller.esm.4d447b5a.js";/* empty css                             */import{_ as p}from"./chat-msg-item.vue.cd628f6c.js";import _ from"./chat-content.6065e9e3.js";import E from"./useMessage.e3544362.js";const z={class:"h-full"},L={class:"px-4 py-2"},N={key:0},T={key:1},V={key:1,class:"flex h-full items-center justify-center"},A=g({__name:"chatting",setup(b){const{messageList:n,getMessageList:d}=E(),i=k(null),f=async()=>{var c;await l(),(c=i.value)==null||c.scrollToBottom()},y=()=>{};return d().then(async()=>{await l(),f()}),(c,I)=>{const h=v;return t(),a("div",z,[o(n).length>0?(t(),x(o(B),{key:0,class:"h-full py-4 dynamic-scroller",ref_key:"scrollbarRef",ref:i,items:o(n),"min-item-size":100,onScroll:y},{default:r(({item:e,index:M,active:u})=>[s(o(w),{item:e,active:u,"size-dependencies":[e.message,e.file]},{default:r(()=>[C("div",L,[e.type==2?(t(),a("div",N,[s(p,{type:2,avatar:e.avatar,"wechat-id":e.wechatId,"is-room":e.is_room},{his:r(()=>[s(_,{type:2,message:e.Content},null,8,["message"])]),_:2},1032,["avatar","wechat-id","is-room"])])):m("",!0),e.type==1?(t(),a("div",T,[s(p,{type:1,avatar:e.avatar},{my:r(()=>[s(_,{type:1,message:e.Content},null,8,["message"])]),_:2},1032,["avatar"])])):m("",!0)])]),_:2},1032,["item","active","size-dependencies"])]),_:1},8,["items"])):(t(),a("div",V,[s(h,{description:"暂无消息"})]))])}}});export{A as _};

import{_ as z}from"./chatting.6f3b345e.js";import{d as B,bM as E,z as M,dt as T,D as U,bx as D,k as P,l as V,aI as j,aJ as F,Z as e,m as s,q as H,s as l,_ as J}from"./entry.d9d53b29.js";import{useChatAreaManager as Z}from"./useChatAreaManager.6ad9b636.js";import{useChatManager as G}from"./useChatManager.a4b31364.js";import{useChatStore as K}from"./chat.dee3e68b.js";import"./index.vue.287e2e78.js";import"./debounce.39f38609.js";import"./index.3864ff87.js";import"./katex.0065138a.js";import"./el-image.239907bf.js";import"./el-image-viewer.291603f7.js";import"./throttle.cbb177ea.js";import"./position.0f08d59c.js";import"./index.cce223cb.js";/* empty css                    */import"./index.79f7263c.js";import"./index.050c9b6b.js";import"./index.8a3302e5.js";import"./strings.fbd015b4.js";import"./_baseIteratee.73cb21ab.js";import"./index.4538c991.js";/* empty css                  *//* empty css               *//* empty css                     */import"./useCopy.6d9f93e9.js";import"./cloneDeep.abc20796.js";import"./el-slider.48c81ee5.js";import"./el-input-number.3a2d39dc.js";import"./index.3c330aca.js";import"./el-switch.d7a8c51d.js";import"./index.890e9d1e.js";/* empty css                   */import"./agent.a3fcedc5.js";import"./ChatArea.5f15f9fe.js";const O={class:"h-full flex flex-col relative bg-white"},Q={class:"flex-1 min-h-0"},W={class:"h-full mx-auto"},X=B({__name:"index",setup(Y){var m;const n=E(),c=(m=M().getTokenByScene(T.CHAT))==null?void 0:m.score,a=K(),{chattingRef:i,isLoading:d,isNetwork:u,fileLists:_,taskId:f,chatContentList:h,isReceiving:x,isStopChat:g,initialize:v,sendMessage:C,startNewChat:w,stopStream:y}=G(),{chatAreaRef:k,agent:b,setup:S,dispose:A,clear:I,getAgentList:N,isAgent:R,setAgent:q}=Z({onEnter:o=>{p(o)},onInputChange:(o,t)=>{i.value&&i.value.setInput(o)}}),p=o=>{var t;a.setAgent(b.value),C(o),I(),a.clearFiles(),(t=i.value)==null||t.cleanInput()};return U(()=>n.query,()=>{v().then(async()=>{await N(),await S(),n.query.agent_id&&q({id:n.query.agent_id,name:n.query.agent_name})})},{immediate:!0,deep:!0}),D(()=>{A(),a.clearChat()}),(o,t)=>{const L=z;return P(),V("div",O,[j(s("div",Q,[s("div",W,[H(L,{ref_key:"chattingRef",ref:i,"is-stop":e(g),"content-list":e(h),"send-disabled":e(x),tokens:e(c),"is-network":!0,"is-new-chat":!!e(f),"is-disabled-humanize":e(R)(),onClose:e(y),onContentPost:p,"onUpdate:fileList":t[0]||(t[0]=r=>_.value=r),"onUpdate:network":t[1]||(t[1]=r=>u.value=r),onNewChat:e(w)},{content:l(()=>t[2]||(t[2]=[s("div",{class:"flex flex-col items-center justify-center"},[s("div",{class:"font-bold text-[32px]"},"有什么可以帮忙的?"),s("div",{class:"text-[#7b7b7b] mt-[10px] text-xs w-[383px] mx-auto text-center"}," 一站式AI解决方案，赋能企业智能升级，让工作更简单、决策更聪明、开启高效智能新体验！ ")],-1)])),input:l(()=>[s("div",{ref_key:"chatAreaRef",ref:k,class:"max-h-[400px] overflow-y-auto dynamic-scroller"},null,512)]),_:1},8,["is-stop","content-list","send-disabled","tokens","is-new-chat","is-disabled-humanize","onClose","onNewChat"])])],512),[[F,!e(d)]])])}}});const Et=J(X,[["__scopeId","data-v-33073dd7"]]);export{Et as default};

import{F as m,aF as L}from"./entry.ee599c70.js";function x(u){const{page:r=1,size:c=15,isScroll:l=!1,fetchFun:f,params:e={},firstLoading:p=!1}=u,g=Object.assign({},m(e)),t=L({page:r,size:c,loading:p,isLoad:!1,count:0,lists:[],extend:{}}),o=async(s,n=!0,d=!0)=>(n&&(t.loading=!0),await f({page_no:t.page,page_size:t.size,...e,...s}).then(a=>{t.count=a==null?void 0:a.count;const i=(a==null?void 0:a.lists)||(a==null?void 0:a.list)||a||[];return l?(t.lists=d?t.lists.concat(i):i,t.isLoad=!(i.length<(e.page_size||c)),console.log(t.isLoad)):t.lists=i,t.extend=a==null?void 0:a.extend,Promise.resolve(a)}).catch(a=>Promise.reject(a)).finally(()=>{t.loading=!1}));return{pager:t,getLists:o,resetParams:s=>(Object.keys(g).forEach(n=>{e[n]=g[n]}),t.isLoad=!0,o(s)),resetPage:s=>(t.page=1,e.page_no&&(e.page_no=1),l&&(t.lists=[]),t.isLoad=!0,o(s))}}export{x as u};

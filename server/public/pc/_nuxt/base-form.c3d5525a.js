import{d as S,c as C,A as T,bK as q,k as i,l as m,q as o,s as n,Z as s,I as z,J as c,K as D,m as a,t as g,L as U,a0 as A,ay as K,au as L,av as N,y as O,ba as $,_ as G}from"./entry.ca4d3d61.js";import{E as M,a as J}from"./index.5f182cdf.js";import{_ as Z}from"./index.vue.c578915d.js";import{_ as H}from"./index.28cc44d7.js";/* empty css                  *//* empty css               *//* empty css                     */import{KnTypeEnum as x}from"./index.5bd136e1.js";import"./index.8b07fb5c.js";import"./index.ab577458.js";import"./strings.5c02160d.js";import"./_baseIteratee.37ea2cef.js";import"./toNumber.33289b44.js";import"./clamp.ba5ce84b.js";import"./index.d577d4c6.js";import"./index.803eaa3c.js";import"./index.62355f5a.js";import"./cloneDeep.d975dd37.js";/* empty css                  *//* empty css                    *//* empty css                  */const P={class:"flex items-center gap-x-2 options-item"},Q={class:"item-icon"},W={class:"h-[111px] rounded-md flex flex-col items-center justify-center relative leading-5"},X=["src"],b=5,Y=S({__name:"base-form",props:{modelValue:{default:()=>({name:"",cover:"",description:""})},isEdit:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(d,{expose:v,emit:y}){const h=d,w=y,t=C({get(){return h.modelValue},set(r){w("update:modelValue",r)}}),u=T(),E={name:[{required:!0,message:"请输入知识库名称",trigger:"blur"}],description:[{required:!0,message:"请输入知识库描述",trigger:"blur"}],cover:[{required:!0,message:"请上传知识库封面",trigger:"blur"}]},V=[{id:x.VECTOR,name:"向量知识库",icon:"local-icon-kb_type1"},{id:x.RAG,name:"RAG知识库",icon:"local-icon-kb_type2"}],k=r=>{const{uri:e}=r.data;t.value.cover=e};return v({validateForm:()=>{var r;return(r=u.value)==null?void 0:r.validate()},setFormData:r=>q(r,t)}),(r,e)=>{const f=L,p=N,_=O,F=M,j=J,B=Z,I=$,R=H;return i(),m("div",null,[o(s(K),{ref_key:"formRef",ref:u,model:s(t),"label-position":"top",rules:E},{default:n(()=>[o(p,{label:"知识库名称",prop:"name"},{default:n(()=>[o(f,{class:"!h-11",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).name=l),"show-word-limit":"",maxlength:"20",placeholder:"请输入知识库名称"},null,8,["modelValue"])]),_:1}),o(p,{label:"知识库描述",prop:"description"},{default:n(()=>[o(f,{modelValue:s(t).description,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).description=l),"show-word-limit":"",maxlength:"200",type:"textarea",resize:"none",rows:6,placeholder:"请输入知识库描述"},null,8,["modelValue"])]),_:1}),d.isEdit?U("",!0):(i(),z(p,{key:0,label:"知识库类型",prop:"type"},{default:n(()=>[o(j,{class:"!h-11",modelValue:s(t).type,"onUpdate:modelValue":e[2]||(e[2]=l=>s(t).type=l),placeholder:"请选择知识库类型","popper-class":"kb-type-select","show-arrow":!1},{default:n(()=>[(i(),m(c,null,D(V,l=>o(F,{key:l.id,label:l.name,value:l.id},{default:n(()=>[a("div",P,[a("span",Q,[o(_,{name:l.icon},null,8,["name"])]),a("span",null,g(l.name),1)])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})),o(p,{label:"知识库封面",prop:"cover"},{default:n(()=>[o(R,{class:"w-full",accept:"image/png,image/jpeg,image/jpg","show-progress":"",drag:"","show-file-list":!1,"max-size":b,onSuccess:k},{default:n(()=>[a("div",W,[s(t).cover?(i(),m(c,{key:0},[a("img",{src:s(t).cover,class:"h-full object-cover"},null,8,X),o(I,{content:"删除",placement:"right"},{default:n(()=>[a("div",{class:"absolute top-1 right-1 cursor-pointer w-6 h-6",onClick:e[3]||(e[3]=A(l=>s(t).cover="",["stop"]))},[o(B)])]),_:1}),e[4]||(e[4]=a("div",{class:"absolute bottom-3 w-full flex justify-center"},[a("div",{class:"cursor-pointer px-[10px] text-white rounded-full border border-[#ffffff1a] bg-[#ffffff4d] shadow-[0px_6px_12px_0px_rgba(0,0,0,0.24)] h-[28px] flex items-center justify-center text-xs"}," 更换图片 ")],-1))],64)):(i(),m(c,{key:1},[o(_,{name:"local-icon-file_add",size:28,color:"#000000"}),e[5]||(e[5]=a("span",{class:"text-gray-500 text-xs mt-2"},"点此上传图片 支持拖拽上传",-1)),a("div",{class:"text-xs text-gray-500"}," 图片大小不超过"+g(b)+"MB，规格为png、jpg、jpeg，分辨率推荐128*128 ")],64))])]),_:1})]),_:1})]),_:1},8,["model"])])}}});const he=G(Y,[["__scopeId","data-v-738f6396"]]);export{he as default};

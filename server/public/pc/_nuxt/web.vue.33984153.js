import{d as b,x as B,r as w,cx as q,G as p,k as l,l as n,m as r,q as d,Z as c,bM as C,s as f,v as D,J as _,K as v,I,au as F,ax as L}from"./entry.ee599c70.js";import{E as M}from"./index.e69b4eeb.js";/* empty css                     */import{y as N}from"./knowledge_base.519704cc.js";import S from"./data-item.e0073518.js";const U={class:"h-full flex flex-col"},z={class:"px-3"},j={class:"flex justify-end my-2"},G={class:"grow min-h-0"},H={class:"px-3 flex flex-col gap-y-4"},J={class:"mb-4"},A=b({__name:"web",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(x){const o=B(x,"modelValue"),a=w(""),{lockFn:k,isLock:h}=q(async()=>{if(!a.value)return p.msgError("请输入网页链接");try{const t=await N({url:a.value.split(`
`).filter(Boolean)});o.value=[...t.map(e=>({data:[{a:"",q:e.content}],path:e.url,name:e.url,size:0})),...o.value],a.value=""}catch(t){p.msgError(t)}}),y=t=>{o.value.splice(t,1)};return(t,e)=>{const E=F,V=L,g=M;return l(),n("div",U,[r("div",z,[d(E,{modelValue:c(a),"onUpdate:modelValue":e[0]||(e[0]=s=>C(a)?a.value=s:null),placeholder:"请输入要解析的网页链接，添加多个请按回车键分隔",type:"textarea",resize:"none",rows:6},null,8,["modelValue"]),r("div",j,[d(V,{type:"primary",class:"!rounded-full",loading:c(h),onClick:c(k)},{default:f(()=>[...e[1]||(e[1]=[D(" 解析 ",-1)])]),_:1},8,["loading","onClick"])])]),r("div",G,[d(g,null,{default:f(()=>[r("div",H,[(l(!0),n(_,null,v(o.value,s=>(l(),n("div",J,[(l(!0),n(_,null,v(s.data,(i,u)=>(l(),I(S,{data:i.q,"onUpdate:data":m=>i.q=m,name:s.name,key:u,index:u,onDelete:m=>y(u)},null,8,["data","onUpdate:data","name","index","onDelete"]))),128))]))),256))])]),_:1})])])}}});export{A as _};

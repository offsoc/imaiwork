import{E as I}from"./el-switch.03413428.js";import{E as B}from"./el-input-number.2848ce7e.js";import{E as C,a as D}from"./index.52e544f1.js";import{d as z,aF as N,r as k,cq as O,o as q,k as r,l as p,m as l,q as o,Z as s,v as m,s as u,J as x,K as f,I as b,G as w,bI as A,ax as R}from"./entry.46557796.js";/* empty css                  *//* empty css               *//* empty css                     */import{u as j}from"./useDictOptions.7ecf8788.js";import{t as G,O as J,P as K}from"./person_wechat.8bcf26fc.js";import{E as M}from"./agent.a3fcedc5.js";const P={class:"h-full flex flex-col bg-white rounded-xl overflow-hidden"},T={class:"grow min-h-0 px-10 mt-5"},Z={class:"flex flex-wrap gap-x-[60px] w-full"},H={class:"w-[45%]"},Q={class:"flex flex-col gap-y-4"},W={class:"mt-2"},X={class:"mt-2"},Y={class:"flex items-center gap-2"},$={class:"mt-2"},h={class:"flex items-center gap-2"},ee={class:"mt-2 relative"},le={class:"mt-2"},te={class:"mt-2"},se={class:"w-[45%]"},ae={class:"flex flex-col gap-y-4"},ie={class:"mt-2"},oe={class:"mt-2"},ne={class:"flex items-center gap-2"},de={class:"mt-2"},re={class:"flex items-center gap-2"},me={class:"mt-2"},pe={class:"flex justify-center my-4"},ke=z({__name:"index",setup(ue){const a=N({id:"",is_enable_reply:1,reply_interval_time:3,reply_numbers:5,reply_prompt:"",reply_tag_ids:[],is_enable_like:1,like_interval_time:3,like_numbers:4,like_tag_ids:[],reply_robot_id:""}),{optionsData:E}=j({tagLists:{api:G,params:{page_size:999},transformData:i=>{var e;return(e=i.lists)==null?void 0:e.filter(d=>d.id!=0)}}}),c=k([]),_=k(!1),y=async i=>{_.value=!0;const e=await M({keyword:i});c.value=e.lists,_.value=!1},L=async()=>{try{await J(a),w.msgSuccess("保存成功"),V()}catch(i){w.msgError(i||"保存失败")}},V=async()=>{var e,d;const i=await K();A(i,a),a.reply_tag_ids=(e=i.reply_tag_ids)==null?void 0:e.map(n=>parseInt(n)),a.like_tag_ids=(d=i.like_tag_ids)==null?void 0:d.map(n=>parseInt(n))},{lockFn:S,isLock:U}=O(L);return q(()=>{V(),y()}),(i,e)=>{const d=I,n=B,v=C,g=D,F=R;return r(),p("div",P,[e[25]||(e[25]=l("div",{class:"h-[48px] bg-primary text-white text-2xl flex items-center px-4"},"策略设置",-1)),l("div",T,[l("div",Z,[l("div",H,[l("div",Q,[e[16]||(e[16]=l("div",{class:"flex items-center gap-2"},[l("span",{class:"w-[4px] h-[14px] bg-primary"}),l("span",{class:"text-lg"},"自动评论策略设置")],-1)),l("div",W,[e[9]||(e[9]=l("div",{class:"text-[#9E9E9E] mb-2"},"是否开启",-1)),o(d,{modelValue:s(a).is_enable_reply,"onUpdate:modelValue":e[0]||(e[0]=t=>s(a).is_enable_reply=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),l("div",X,[e[11]||(e[11]=l("div",{class:"text-[#9E9E9E] mb-2"},"朋友发完朋友圈后多少分钟进行评论：",-1)),l("div",Y,[o(n,{modelValue:s(a).reply_interval_time,"onUpdate:modelValue":e[1]||(e[1]=t=>s(a).reply_interval_time=t),precision:0,min:0,size:"small"},null,8,["modelValue"]),e[10]||(e[10]=m("分钟后 ",-1))])]),l("div",$,[e[13]||(e[13]=l("div",{class:"text-[#9E9E9E] mb-2"},"一个好友当天发送多条朋友圈评论多少条：",-1)),l("div",h,[o(n,{modelValue:s(a).reply_numbers,"onUpdate:modelValue":e[2]||(e[2]=t=>s(a).reply_numbers=t),precision:0,min:0,size:"small"},null,8,["modelValue"]),e[12]||(e[12]=m("条 ",-1))])]),l("div",ee,[e[14]||(e[14]=l("div",{class:"text-[#9E9E9E]"},"接管评论的智能体：",-1)),l("div",le,[o(g,{modelValue:s(a).reply_robot_id,"onUpdate:modelValue":e[3]||(e[3]=t=>s(a).reply_robot_id=t),class:"!w-[70%]",filterable:"",clearable:"",remote:"",loading:s(_),"remote-method":y},{default:u(()=>[(r(!0),p(x,null,f(s(c),t=>(r(),b(v,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])])]),l("div",te,[e[15]||(e[15]=l("div",{class:"text-[#9E9E9E] mb-2"},"自动评论的好友标签：",-1)),o(g,{modelValue:s(a).reply_tag_ids,"onUpdate:modelValue":e[4]||(e[4]=t=>s(a).reply_tag_ids=t),class:"!w-[70%]",filterable:"",multiple:"",clearable:""},{default:u(()=>[(r(!0),p(x,null,f(s(E).tagLists,t=>(r(),b(v,{key:t.id,label:t.tag_name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),l("div",se,[l("div",ae,[e[23]||(e[23]=l("div",{class:"flex items-center gap-2"},[l("span",{class:"w-[4px] h-[14px] bg-primary"}),l("span",{class:"text-lg"},"自动点赞策略设置")],-1)),l("div",ie,[e[17]||(e[17]=l("div",{class:"text-[#9E9E9E] mb-2"},"是否开启自动点赞：",-1)),o(d,{modelValue:s(a).is_enable_like,"onUpdate:modelValue":e[5]||(e[5]=t=>s(a).is_enable_like=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),l("div",oe,[e[19]||(e[19]=l("div",{class:"text-[#9E9E9E] mb-2"},"朋友发完朋友圈后多少分钟进行点赞：",-1)),l("div",ne,[o(n,{modelValue:s(a).like_interval_time,"onUpdate:modelValue":e[6]||(e[6]=t=>s(a).like_interval_time=t),precision:0,min:0,size:"small"},null,8,["modelValue"]),e[18]||(e[18]=m("分钟后 ",-1))])]),l("div",de,[e[21]||(e[21]=l("div",{class:"text-[#9E9E9E] mb-2"},"一个好友当天发送多条朋友圈点赞多少条：",-1)),l("div",re,[o(n,{modelValue:s(a).like_numbers,"onUpdate:modelValue":e[7]||(e[7]=t=>s(a).like_numbers=t),precision:0,min:0,size:"small"},null,8,["modelValue"]),e[20]||(e[20]=m("条 ",-1))])]),l("div",me,[e[22]||(e[22]=l("div",{class:"text-[#9E9E9E] mb-2"},"自动点赞的好友标签：",-1)),o(g,{modelValue:s(a).like_tag_ids,"onUpdate:modelValue":e[8]||(e[8]=t=>s(a).like_tag_ids=t),class:"!w-[70%]",filterable:"",multiple:"",clearable:""},{default:u(()=>[(r(!0),p(x,null,f(s(E).tagLists,t=>(r(),b(v,{key:t.id,label:t.tag_name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])])])]),l("div",pe,[o(F,{type:"primary",class:"w-[120px] !h-[40px]",loading:s(U),onClick:s(S)},{default:u(()=>e[24]||(e[24]=[m(" 保存 ",-1)])),_:1,__:[24]},8,["loading","onClick"])])])}}});export{ke as _};

import{_ as z}from"./chatting.db6ea2ec.js";import{d as B,bM as E,z as M,dt as T,D as U,bx as D,k as P,l as V,aI as j,aJ as F,Z as e,m as s,q as H,s as l,_ as J}from"./entry.46557796.js";import{useChatAreaManager as Z}from"./useChatAreaManager.69f5b2c9.js";import{useChatManager as G}from"./useChatManager.10039942.js";import{useChatStore as K}from"./chat.1328a2b2.js";import"./index.vue.6f8ad13e.js";import"./debounce.22e3311f.js";import"./index.3864ff87.js";import"./katex.ff257f19.js";import"./el-image.663be0a1.js";import"./el-image-viewer.4c392e93.js";import"./throttle.f2fe0ca7.js";import"./position.bb07cf08.js";import"./index.6c2ab172.js";/* empty css                    */import"./index.52e544f1.js";import"./index.304400de.js";import"./index.c76cd001.js";import"./strings.1c189114.js";import"./_baseIteratee.6084bee0.js";import"./index.1d76ef55.js";/* empty css                  *//* empty css               *//* empty css                     */import"./useCopy.84a3fbb4.js";import"./cloneDeep.2c9fdb34.js";import"./el-slider.239593a3.js";import"./el-input-number.2848ce7e.js";import"./index.08e202f9.js";import"./el-switch.03413428.js";import"./index.816355b6.js";/* empty css                   */import"./agent.a3fcedc5.js";import"./ChatArea.5f15f9fe.js";const O={class:"h-full flex flex-col relative bg-white"},Q={class:"flex-1 min-h-0"},W={class:"h-full mx-auto"},X=B({__name:"index",setup(Y){var m;const n=E(),c=(m=M().getTokenByScene(T.CHAT))==null?void 0:m.score,a=K(),{chattingRef:i,isLoading:d,isNetwork:u,fileLists:_,taskId:f,chatContentList:h,isReceiving:x,isStopChat:g,initialize:v,sendMessage:C,startNewChat:w,stopStream:y}=G(),{chatAreaRef:k,agent:b,setup:S,dispose:A,clear:I,getAgentList:N,isAgent:R,setAgent:q}=Z({onEnter:o=>{p(o)},onInputChange:(o,t)=>{i.value&&i.value.setInput(o)}}),p=o=>{var t;a.setAgent(b.value),C(o),I(),a.clearFiles(),(t=i.value)==null||t.cleanInput()};return U(()=>n.query,()=>{v().then(async()=>{await N(),await S(),n.query.agent_id&&q({id:n.query.agent_id,name:n.query.agent_name})})},{immediate:!0,deep:!0}),D(()=>{A(),a.clearChat()}),(o,t)=>{const L=z;return P(),V("div",O,[j(s("div",Q,[s("div",W,[H(L,{ref_key:"chattingRef",ref:i,"is-stop":e(g),"content-list":e(h),"send-disabled":e(x),tokens:e(c),"is-network":!0,"is-new-chat":!!e(f),"is-disabled-humanize":e(R)(),onClose:e(y),onContentPost:p,"onUpdate:fileList":t[0]||(t[0]=r=>_.value=r),"onUpdate:network":t[1]||(t[1]=r=>u.value=r),onNewChat:e(w)},{content:l(()=>t[2]||(t[2]=[s("div",{class:"flex flex-col items-center justify-center"},[s("div",{class:"font-bold text-[32px]"},"有什么可以帮忙的?"),s("div",{class:"text-[#7b7b7b] mt-[10px] text-xs w-[383px] mx-auto text-center"}," 一站式AI解决方案，赋能企业智能升级，让工作更简单、决策更聪明、开启高效智能新体验！ ")],-1)])),input:l(()=>[s("div",{ref_key:"chatAreaRef",ref:k,class:"max-h-[400px] overflow-y-auto dynamic-scroller"},null,512)]),_:1},8,["is-stop","content-list","send-disabled","tokens","is-new-chat","is-disabled-humanize","onClose","onNewChat"])])],512),[[F,!e(d)]])])}}});const Et=J(X,[["__scopeId","data-v-33073dd7"]]);export{Et as default};

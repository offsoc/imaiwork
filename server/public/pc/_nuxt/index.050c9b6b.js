import{Q as D,aa as j,d as x,ab as J,W as G,N as ee,r as u,c as k,b as te,bd as W,aj as Y,k as P,I as O,s as Q,aI as le,m as A,Y as R,Z as g,a0 as ae,a3 as $,aJ as oe,be as se,aT as re,l as Z,q,J as ne,S as ie,b4 as ce,aU as N,bf as I,D as X,az as ue,aH as V,ai as ve,aF as fe,bg as de,o as me,bh as pe,H as he,aq as be,L as ye,aB as ge,am as Se}from"./entry.d9d53b29.js";const L=4,we={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ze=({move:m,size:v,bar:s})=>({[s.size]:v,transform:`translate${s.axis}(${m}%)`}),K=Symbol("scrollbarContextKey"),Ee=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),_e="Thumb",He=x({__name:"thumb",props:Ee,setup(m){const v=m,s=J(K),a=G("scrollbar");s||ee(_e,"can not inject scrollbar context");const c=u(),f=u(),p=u({}),i=u(!1);let n=!1,d=!1,T=0,l=0,o=re?document.onselectstart:null;const t=k(()=>we[v.vertical?"vertical":"horizontal"]),h=k(()=>ze({size:v.size,move:v.move,bar:t.value})),w=k(()=>c.value[t.value.offset]**2/s.wrapElement[t.value.scrollSize]/v.ratio/f.value[t.value.offset]),_=r=>{var y;if(r.stopPropagation(),r.ctrlKey||[1,2].includes(r.button))return;(y=window.getSelection())==null||y.removeAllRanges(),z(r);const H=r.currentTarget;H&&(p.value[t.value.axis]=H[t.value.offset]-(r[t.value.client]-H.getBoundingClientRect()[t.value.direction]))},S=r=>{if(!f.value||!c.value||!s.wrapElement)return;const y=Math.abs(r.target.getBoundingClientRect()[t.value.direction]-r[t.value.client]),H=f.value[t.value.offset]/2,M=(y-H)*100*w.value/c.value[t.value.offset];s.wrapElement[t.value.scroll]=M*s.wrapElement[t.value.scrollSize]/100},z=r=>{r.stopImmediatePropagation(),n=!0,T=s.wrapElement.scrollHeight,l=s.wrapElement.scrollWidth,document.addEventListener("mousemove",B),document.addEventListener("mouseup",C),o=document.onselectstart,document.onselectstart=()=>!1},B=r=>{if(!c.value||!f.value||n===!1)return;const y=p.value[t.value.axis];if(!y)return;const H=(c.value.getBoundingClientRect()[t.value.direction]-r[t.value.client])*-1,M=f.value[t.value.offset]-y,U=(H-M)*100*w.value/c.value[t.value.offset];t.value.scroll==="scrollLeft"?s.wrapElement[t.value.scroll]=U*l/100:s.wrapElement[t.value.scroll]=U*T/100},C=()=>{n=!1,p.value[t.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",C),b(),d&&(i.value=!1)},E=()=>{d=!1,i.value=!!v.size},e=()=>{d=!0,i.value=n};te(()=>{b(),document.removeEventListener("mouseup",C)});const b=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return W(Y(s,"scrollbarElement"),"mousemove",E),W(Y(s,"scrollbarElement"),"mouseleave",e),(r,y)=>(P(),O(se,{name:g(a).b("fade"),persisted:""},{default:Q(()=>[le(A("div",{ref_key:"instance",ref:c,class:R([g(a).e("bar"),g(a).is(g(t).key)]),onMousedown:S,onClick:ae(()=>{},["stop"])},[A("div",{ref_key:"thumb",ref:f,class:R(g(a).e("thumb")),style:$(g(h)),onMousedown:_},null,38)],42,["onClick"]),[[oe,r.always||i.value]])]),_:1},8,["name"]))}});var F=j(He,[["__file","thumb.vue"]]);const Te=D({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Le=x({__name:"bar",props:Te,setup(m,{expose:v}){const s=m,a=J(K),c=u(0),f=u(0),p=u(""),i=u(""),n=u(1),d=u(1);return v({handleScroll:o=>{if(o){const t=o.offsetHeight-L,h=o.offsetWidth-L;f.value=o.scrollTop*100/t*n.value,c.value=o.scrollLeft*100/h*d.value}},update:()=>{const o=a==null?void 0:a.wrapElement;if(!o)return;const t=o.offsetHeight-L,h=o.offsetWidth-L,w=t**2/o.scrollHeight,_=h**2/o.scrollWidth,S=Math.max(w,s.minSize),z=Math.max(_,s.minSize);n.value=w/(t-w)/(S/(t-S)),d.value=_/(h-_)/(z/(h-z)),i.value=S+L<t?`${S}px`:"",p.value=z+L<h?`${z}px`:""}}),(o,t)=>(P(),Z(ne,null,[q(F,{move:c.value,ratio:d.value,size:p.value,always:o.always},null,8,["move","ratio","size","always"]),q(F,{move:f.value,ratio:n.value,size:i.value,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var ke=j(Le,[["__file","bar.vue"]]);const Ce=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:ie([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ce(["ariaLabel","ariaOrientation"])}),Ne={"end-reached":m=>["left","right","top","bottom"].includes(m),scroll:({scrollTop:m,scrollLeft:v})=>[m,v].every(N)},Pe="ElScrollbar",Re=x({name:Pe}),Be=x({...Re,props:Ce,emits:Ne,setup(m,{expose:v,emit:s}){const a=m,c=G("scrollbar");let f,p,i=0,n=0,d="";const T=u(),l=u(),o=u(),t=u(),h=k(()=>{const e={};return a.height&&(e.height=I(a.height)),a.maxHeight&&(e.maxHeight=I(a.maxHeight)),[a.wrapStyle,e]}),w=k(()=>[a.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!a.native}]),_=k(()=>[c.e("view"),a.viewClass]),S=()=>{var e;if(l.value){(e=t.value)==null||e.handleScroll(l.value);const b=i,r=n;i=l.value.scrollTop,n=l.value.scrollLeft;const y={bottom:i+l.value.clientHeight>=l.value.scrollHeight,top:i<=0&&b!==0,right:n+l.value.clientWidth>=l.value.scrollWidth&&r!==n,left:n<=0&&r!==0};b!==i&&(d=i>b?"bottom":"top"),r!==n&&(d=n>r?"right":"left"),s("scroll",{scrollTop:i,scrollLeft:n}),y[d]&&s("end-reached",d)}};function z(e,b){ge(e)?l.value.scrollTo(e):N(e)&&N(b)&&l.value.scrollTo(e,b)}const B=e=>{N(e)&&(l.value.scrollTop=e)},C=e=>{N(e)&&(l.value.scrollLeft=e)},E=()=>{var e;(e=t.value)==null||e.update()};return X(()=>a.noresize,e=>{e?(f==null||f(),p==null||p()):({stop:f}=ue(o,E),p=W("resize",E))},{immediate:!0}),X(()=>[a.maxHeight,a.height],()=>{a.native||V(()=>{var e;E(),l.value&&((e=t.value)==null||e.handleScroll(l.value))})}),ve(K,fe({scrollbarElement:T,wrapElement:l})),de(()=>{l.value&&(l.value.scrollTop=i,l.value.scrollLeft=n)}),me(()=>{a.native||V(()=>{E()})}),pe(()=>E()),v({wrapRef:l,update:E,scrollTo:z,setScrollTop:B,setScrollLeft:C,handleScroll:S}),(e,b)=>(P(),Z("div",{ref_key:"scrollbarRef",ref:T,class:R(g(c).b())},[A("div",{ref_key:"wrapRef",ref:l,class:R(g(w)),style:$(g(h)),tabindex:e.tabindex,onScroll:S},[(P(),O(be(e.tag),{id:e.id,ref_key:"resizeRef",ref:o,class:R(g(_)),style:$(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:Q(()=>[he(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?ye("v-if",!0):(P(),O(ke,{key:0,ref_key:"barRef",ref:t,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var xe=j(Be,[["__file","scrollbar.vue"]]);const We=Se(xe);export{We as E,Ne as s};

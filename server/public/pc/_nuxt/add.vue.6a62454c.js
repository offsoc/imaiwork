import{d as V,r as c,aF as x,bz as D,k as h,I as B,s as i,q as d,Z as m,bK as u,m as C,v as E,ax as b}from"./entry.d9d53b29.js";import{E as S}from"./index.b40f47a5.js";/* empty css                  */import{Q as Y}from"./person_wechat.8bcf26fc.js";import g from"./circle-send.22cdf316.js";const N={class:"absolute bottom-0 right-0 p-4"},T=V({__name:"add",emits:["close","success"],setup(R,{expose:_,emit:f}){const n=f,s=c(!1),o=x({id:"",content:"",task_type:0,attachment_type:-1,attachment_content:null,comment:"",send_time:D().add(30,"minute").format("YYYY-MM-DD HH:mm:ss"),wechat_ids:[]}),l=c(null),p=()=>{s.value=!0},r=()=>{s.value=!1,n("close")},v=async t=>{const e=await Y({id:t});w(e),l.value.setAssetData(e)},w=async t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e]);t.wechat_id&&(o.wechat_ids=[t.wechat_id])};return _({open:p,getDetail:v}),(t,e)=>{const k=b,y=S;return h(),B(y,{modelValue:m(s),"onUpdate:modelValue":e[2]||(e[2]=a=>u(s)?s.value=a:null),title:"",size:"470px","with-header":!1,class:"task-add-drawer relative",onClose:r},{default:i(()=>[d(g,{modelValue:m(o),"onUpdate:modelValue":e[0]||(e[0]=a=>u(o)?o.value=a:null),ref_key:"circleSendRef",ref:l,onSuccess:e[1]||(e[1]=a=>{n("success"),s.value=!1})},null,8,["modelValue"]),C("div",N,[d(k,{onClick:r},{default:i(()=>e[3]||(e[3]=[E("取消",-1)])),_:1,__:[3]})])]),_:1},8,["modelValue"])}}});export{T as _};

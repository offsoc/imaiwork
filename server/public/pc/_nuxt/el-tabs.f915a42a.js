import{bu as Pe,d4 as ce,bs as Ee,d5 as we,d6 as Se,cw as Re,d7 as $e,d8 as Oe,ar as xe,Q as q,S as H,U as te,d as D,ab as le,N as oe,W as X,r as _,D as V,aH as W,az as ae,b as ue,k as de,l as be,Y as fe,Z as x,a3 as Be,aa as ve,aR as se,d9 as ke,da as Ae,A as Fe,c as U,o as Le,bh as ze,cY as Me,q as b,a1 as G,cj as Ie,ck as Ve,a6 as De,aW as F,ai as Ue,H as ne,bY as Ke,aX as me,ap as Ye,aU as Ge,aD as pe,c5 as He,db as re,aF as We,dc as qe,aI as Xe,aJ as Je,L as Qe,am as Ze,bc as je}from"./entry.d7219633.js";import{c as L}from"./strings.03d3529c.js";import{u as et}from"./index.35988ce8.js";function tt(e,t,n){var u=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++u<a;)i[u]=e[u+t];return i}function at(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function st(e,t){return t.length<2?e:Pe(e,tt(t,0,-1))}function nt(e,t){return t=ce(t,e),e=st(e,t),e==null||delete e[Ee(at(t))]}function lt(e){return we(e)?void 0:e}var ot=1,rt=2,it=4,ct=Se(function(e,t){var n={};if(e==null)return n;var u=!1;t=Re(t,function(i){return i=ce(i,e),u||(u=i.length>1),i}),$e(e,Oe(e),n),u&&(n=xe(n,ot|rt|it,lt));for(var a=t.length;a--;)nt(n,t[a]);return n});const ut=ct,J=Symbol("tabsRootContextKey"),dt=q({tabs:{type:H(Array),default:()=>te([])},tabRefs:{type:H(Object),default:()=>te({})}}),he="ElTabBar",bt=D({name:he}),ft=D({...bt,props:dt,setup(e,{expose:t}){const n=e,u=le(J);u||oe(he,"<el-tabs><el-tab-bar /></el-tabs>");const a=X("tabs"),i=_(),S=_(),v=()=>{let l=0,f=0;const N=["top","bottom"].includes(u.props.tabPosition)?"width":"height",c=N==="width"?"x":"y",B=c==="x"?"left":"top";return n.tabs.every(T=>{if(se(T.paneName))return!1;const o=n.tabRefs[T.paneName];if(!o)return!1;if(!T.active)return!0;l=o[`offset${L(B)}`],f=o[`client${L(N)}`];const y=window.getComputedStyle(o);return N==="width"&&(f-=Number.parseFloat(y.paddingLeft)+Number.parseFloat(y.paddingRight),l+=Number.parseFloat(y.paddingLeft)),!1}),{[N]:`${f}px`,transform:`translate${L(c)}(${l}px)`}},h=()=>S.value=v(),m=[],E=()=>{m.forEach(l=>l.stop()),m.length=0,Object.values(n.tabRefs).forEach(l=>{m.push(ae(l,h))})};V(()=>n.tabs,async()=>{await W(),h(),E()},{immediate:!0});const g=ae(i,()=>h());return ue(()=>{m.forEach(l=>l.stop()),m.length=0,g.stop()}),t({ref:i,update:h}),(l,f)=>(de(),be("div",{ref_key:"barRef",ref:i,class:fe([x(a).e("active-bar"),x(a).is(x(u).props.tabPosition)]),style:Be(S.value)},null,6))}});var vt=ve(ft,[["__file","tab-bar.vue"]]);const mt=q({panes:{type:H(Array),default:()=>te([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),pt={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},ie="ElTabNav",ht=D({name:ie,props:mt,emits:pt,setup(e,{expose:t,emit:n}){const u=le(J);u||oe(ie,"<el-tabs><tab-nav /></el-tabs>");const a=X("tabs"),i=ke(),S=Ae(),v=_(),h=_(),m=_(),E=_({}),g=_(),l=_(!1),f=_(0),N=_(!1),c=_(!0),B=Fe(),T=U(()=>["top","bottom"].includes(u.props.tabPosition)?"width":"height"),o=U(()=>({transform:`translate${T.value==="width"?"X":"Y"}(-${f.value}px)`})),y=()=>{if(!v.value)return;const r=v.value[`offset${L(T.value)}`],d=f.value;if(!d)return;const s=d>r?d-r:0;f.value=s},w=()=>{if(!v.value||!h.value)return;const r=h.value[`offset${L(T.value)}`],d=v.value[`offset${L(T.value)}`],s=f.value;if(r-s<=d)return;const C=r-s>d*2?s+d:r-d;f.value=C},k=async()=>{const r=h.value;if(!l.value||!m.value||!v.value||!r)return;await W();const d=E.value[e.currentName];if(!d)return;const s=v.value,C=["top","bottom"].includes(u.props.tabPosition),p=d.getBoundingClientRect(),P=s.getBoundingClientRect(),K=C?r.offsetWidth-P.width:r.offsetHeight-P.height,A=f.value;let $=A;C?(p.left<P.left&&($=A-(P.left-p.left)),p.right>P.right&&($=A+p.right-P.right)):(p.top<P.top&&($=A-(P.top-p.top)),p.bottom>P.bottom&&($=A+(p.bottom-P.bottom))),$=Math.max($,0),f.value=Math.min($,K)},z=()=>{var r;if(!h.value||!v.value)return;e.stretch&&((r=g.value)==null||r.update());const d=h.value[`offset${L(T.value)}`],s=v.value[`offset${L(T.value)}`],C=f.value;s<d?(l.value=l.value||{},l.value.prev=C,l.value.next=C+s<d,d-C<s&&(f.value=d-s)):(l.value=!1,C>0&&(f.value=0))},I=r=>{let d=0;switch(r.code){case F.left:case F.up:d=-1;break;case F.right:case F.down:d=1;break;default:return}const s=Array.from(r.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let p=s.indexOf(r.target)+d;p<0?p=s.length-1:p>=s.length&&(p=0),s[p].focus({preventScroll:!0}),s[p].click(),M()},M=()=>{c.value&&(N.value=!0)},R=()=>N.value=!1,Q=(r,d)=>{E.value[d]=r},_e=async()=>{await W();const r=E.value[e.currentName];r==null||r.focus({preventScroll:!0})};return V(i,r=>{r==="hidden"?c.value=!1:r==="visible"&&setTimeout(()=>c.value=!0,50)}),V(S,r=>{r?setTimeout(()=>c.value=!0,50):c.value=!1}),ae(m,z),Le(()=>setTimeout(()=>k(),0)),ze(()=>z()),t({scrollToActiveTab:k,removeFocus:R,focusActiveTab:_e,tabListRef:h,tabBarRef:g,scheduleRender:()=>Me(B)}),()=>{const r=l.value?[b("span",{class:[a.e("nav-prev"),a.is("disabled",!l.value.prev)],onClick:y},[b(G,null,{default:()=>[b(Ie,null,null)]})]),b("span",{class:[a.e("nav-next"),a.is("disabled",!l.value.next)],onClick:w},[b(G,null,{default:()=>[b(Ve,null,null)]})])]:null,d=e.panes.map((s,C)=>{var p,P,K,A;const $=s.uid,Z=s.props.disabled,Y=(P=(p=s.props.name)!=null?p:s.index)!=null?P:`${C}`,j=!Z&&(s.isClosable||e.editable);s.index=`${C}`;const Ne=j?b(G,{class:"is-icon-close",onClick:O=>n("tabRemove",s,O)},{default:()=>[b(De,null,null)]}):null,Te=((A=(K=s.slots).label)==null?void 0:A.call(K))||s.props.label,Ce=!Z&&s.active?0:-1;return b("div",{ref:O=>Q(O,Y),class:[a.e("item"),a.is(u.props.tabPosition),a.is("active",s.active),a.is("disabled",Z),a.is("closable",j),a.is("focus",N.value)],id:`tab-${Y}`,key:`tab-${$}`,"aria-controls":`pane-${Y}`,role:"tab","aria-selected":s.active,tabindex:Ce,onFocus:()=>M(),onBlur:()=>R(),onClick:O=>{R(),n("tabClick",s,Y,O)},onKeydown:O=>{j&&(O.code===F.delete||O.code===F.backspace)&&n("tabRemove",s,O)}},[Te,Ne])});return B.value,b("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!l.value),a.is(u.props.tabPosition)]},[r,b("div",{class:a.e("nav-scroll"),ref:v},[e.panes.length>0?b("div",{class:[a.e("nav"),a.is(u.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(u.props.tabPosition))],ref:h,style:o.value,role:"tablist",onKeydown:I},[e.type?null:b(vt,{ref:g,tabs:[...e.panes],tabRefs:E.value},null),d]):null])])}}}),gt=q({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:H(Function),default:()=>!0},stretch:Boolean}),ee=e=>Ye(e)||Ge(e),yt={[me]:e=>ee(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>ee(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>ee(e),tabAdd:()=>!0},_t=D({name:"ElTabs",props:gt,emits:yt,setup(e,{emit:t,slots:n,expose:u}){var a;const i=X("tabs"),S=U(()=>["left","right"].includes(e.tabPosition)),{children:v,addChild:h,removeChild:m,ChildrenSorter:E}=et(pe(),"ElTabPane"),g=_(),l=_((a=e.modelValue)!=null?a:"0"),f=async(o,y=!1)=>{var w,k,z,I;if(!(l.value===o||se(o)))try{let M;if(e.beforeLeave){const R=e.beforeLeave(o,l.value);M=R instanceof Promise?await R:R}else M=!0;if(M!==!1){const R=(w=v.value.find(Q=>Q.paneName===l.value))==null?void 0:w.isFocusInsidePane();l.value=o,y&&(t(me,o),t("tabChange",o)),(z=(k=g.value)==null?void 0:k.removeFocus)==null||z.call(k),R&&((I=g.value)==null||I.focusActiveTab())}}catch{}},N=(o,y,w)=>{o.props.disabled||(t("tabClick",o,w),f(y,!0))},c=(o,y)=>{o.props.disabled||se(o.props.name)||(y.stopPropagation(),t("edit",o.props.name,"remove"),t("tabRemove",o.props.name))},B=()=>{t("edit",void 0,"add"),t("tabAdd")},T=o=>{const y=o.el.firstChild,w=["bottom","right"].includes(e.tabPosition)?o.children[0].el:o.children[1].el;y!==w&&y.before(w)};return V(()=>e.modelValue,o=>f(o)),V(l,async()=>{var o;await W(),(o=g.value)==null||o.scrollToActiveTab()}),Ue(J,{props:e,currentName:l,registerPane:h,unregisterPane:m,nav$:g}),u({currentName:l,get tabNavRef(){return ut(g.value,["scheduleRender"])}}),()=>{const o=n["add-icon"],y=e.editable||e.addable?b("div",{class:[i.e("new-tab"),S.value&&i.e("new-tab-vertical")],tabindex:"0",onClick:B,onKeydown:I=>{[F.enter,F.numpadEnter].includes(I.code)&&B()}},[o?ne(n,"add-icon"):b(G,{class:i.is("icon-plus")},{default:()=>[b(Ke,null,null)]})]):null,w=()=>b(ht,{ref:g,currentName:l.value,editable:e.editable,type:e.type,panes:v.value,stretch:e.stretch,onTabClick:N,onTabRemove:c},null),k=b("div",{class:[i.e("header"),S.value&&i.e("header-vertical"),i.is(e.tabPosition)]},[b(E,null,{default:w,$stable:!0}),y]),z=b("div",{class:i.e("content")},[ne(n,"default")]);return b("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}],onVnodeMounted:T,onVnodeUpdated:T},[z,k])}}});var Nt=_t;const Tt=q({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ge="ElTabPane",Ct=D({name:ge}),Pt=D({...Ct,props:Tt,setup(e){const t=e,n=pe(),u=He(),a=le(J);a||oe(ge,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=X("tab-pane"),S=_(),v=_(),h=U(()=>t.closable||a.props.closable),m=re(()=>{var c;return a.currentName.value===((c=t.name)!=null?c:v.value)}),E=_(m.value),g=U(()=>{var c;return(c=t.name)!=null?c:v.value}),l=re(()=>!t.lazy||E.value||m.value),f=()=>{var c;return(c=S.value)==null?void 0:c.contains(document.activeElement)};V(m,c=>{c&&(E.value=!0)});const N=We({uid:n.uid,getVnode:()=>n.vnode,slots:u,props:t,paneName:g,active:m,index:v,isClosable:h,isFocusInsidePane:f});return a.registerPane(N),ue(()=>{a.unregisterPane(N)}),qe(()=>{var c;u.label&&((c=a.nav$.value)==null||c.scheduleRender())}),(c,B)=>x(l)?Xe((de(),be("div",{key:0,id:`pane-${x(g)}`,ref_key:"paneRef",ref:S,class:fe(x(i).b()),role:"tabpanel","aria-hidden":!x(m),"aria-labelledby":`tab-${x(g)}`},[ne(c.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Je,x(m)]]):Qe("v-if",!0)}});var ye=ve(Pt,[["__file","tab-pane.vue"]]);const Rt=Ze(Nt,{TabPane:ye}),$t=je(ye);export{$t as E,Rt as a};

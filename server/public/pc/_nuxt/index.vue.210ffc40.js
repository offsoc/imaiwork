import{d as j,a as D,bM as M,c as z,r as F,o as G,k as r,l as _,Z as l,J as E,m as a,K as J,Y as O,t as g,q as o,s,$ as Q,aI as Y,I as b,v as C,bK as Z,G as k,y as H,ax as W,au as X,cQ as ee}from"./entry.46557796.js";import{E as te}from"./el-avatar.1ca46775.js";import{E as oe,a as ae}from"./index.5f8d7d98.js";import{E as ne}from"./el-switch.03413428.js";import{E as le}from"./el-empty.db5857ba.js";import{_ as se}from"./index.vue.383c1815.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{c as ie}from"./service.12abd78a.js";import{u as re}from"./useSocialPlatform.9bcd1d25.js";import ce from"./useAccount.cc72f89e.js";import{_ as ue}from"./account-setting.vue.3a49a143.js";const de={class:"h-full flex rounded-lg overflow-hidden"},pe={class:"w-[178px] bg-white border-r border-r-[#E8E8E8] flex-shrink-0"},me={class:"flex flex-col gap-y-4 p-4"},_e=["onClick"],fe=["src"],ve={class:"flex-1 bg-white flex flex-col py-4 overflow-hidden"},ge={class:"px-4 flex items-center justify-between"},he={class:"grow min-h-0 mt-4"},ye={class:"flex justify-end px-4 mt-4"},Ke=j({__name:"index",setup(xe){const h=D(),f=M(),{socialPlatformList:w,currentSocialPlatform:p}=re(),{accountPager:c,queryParams:v,getAccountList:u,resetAccountPage:y,resetAccountParams:V}=ce({type:p.value}),S=z(()=>w.filter(n=>n.show)),$=n=>{p.value=n,v.type=n,y()},m=F(!1),P=async n=>{try{await ie({account:n.account,open_ai:n.open_ai}),k.msgSuccess("操作成功")}catch{k.msgError("操作失败")}u()},A=n=>{m.value=!0,h.replace({query:{...f.query,id:n.id,account:n.account,app_type:p.value}})},q=()=>{m.value=!1,h.replace({query:{...f.query,id:void 0,account:void 0}}),y()};return G(()=>{f.query.id?m.value=!0:u()}),(n,t)=>{const B=H,x=W,I=X,L=te,i=oe,T=ne,K=le,R=ae,U=se,N=ee;return r(),_("div",de,[l(m)?(r(),b(ue,{key:1,onClose:q})):(r(),_(E,{key:0},[a("div",pe,[a("div",me,[(r(!0),_(E,null,J(l(S),(e,d)=>(r(),_("div",{key:d,class:O(["flex items-center gap-x-3 px-4 hover:bg-primary-light-9 py-1.5 rounded-lg cursor-pointer",{"bg-primary-light-9":l(p)===e.type}]),onClick:Ee=>$(e.type)},[a("img",{src:e.icon,class:"w-6 h-6"},null,8,fe),a("div",null,g(e.name),1)],10,_e))),128))])]),a("div",ve,[a("div",ge,[o(x,{text:"",onClick:t[0]||(t[0]=e=>l(u)())},{default:s(()=>[o(B,{name:"el-icon-Refresh"}),t[5]||(t[5]=a("span",null,"刷新",-1))]),_:1,__:[5]}),a("div",null,[o(I,{modelValue:l(v).name,"onUpdate:modelValue":t[1]||(t[1]=e=>l(v).name=e),placeholder:"搜索账号信息","prefix-icon":"el-icon-Search",clearable:"",onClear:t[2]||(t[2]=e=>l(V)()),onKeyup:t[3]||(t[3]=Q(e=>l(u)(),["enter"]))},null,8,["modelValue"])])]),a("div",he,[Y((r(),b(R,{data:l(c).lists,height:"100%",stripe:"","row-style":{height:"60px"},"header-cell-style":{height:"63px"}},{empty:s(()=>[o(K,{description:"暂无数据"})]),default:s(()=>[o(i,{label:"头像"},{default:s(({row:e})=>[o(L,{src:e.avatar},null,8,["src"])]),_:1}),o(i,{label:"账号/昵称",prop:"account","min-width":"120"},{default:s(({row:e})=>[a("div",null,[a("div",null,g(e.account),1),a("div",null,"("+g(e.nickname)+")",1)])]),_:1}),o(i,{prop:"device_code",label:"所属设备"}),o(i,{prop:"robot_name",label:"接管机器人"}),o(i,{label:"接管类型",width:"80"},{default:s(({row:e})=>t[6]||(t[6]=[C(" 私聊 ",-1)])),_:1}),o(i,{prop:"name",label:"接管状态"},{default:s(({row:e})=>[o(T,{modelValue:e.open_ai,"onUpdate:modelValue":d=>e.open_ai=d,"active-value":1,"inactive-value":0,onChange:d=>P(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),o(i,{prop:"name",label:"操作",width:"100px",fixed:"right"},{default:s(({row:e})=>[o(x,{link:"",type:"primary",onClick:d=>A(e)},{default:s(()=>t[7]||(t[7]=[C(" 配置 ",-1)])),_:2,__:[7]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[N,l(c).loading]])]),a("div",ye,[o(U,{modelValue:l(c),"onUpdate:modelValue":t[4]||(t[4]=e=>Z(c)?c.value=e:null),onChange:l(u)},null,8,["modelValue","onChange"])])])],64))])}}});export{Ke as _};

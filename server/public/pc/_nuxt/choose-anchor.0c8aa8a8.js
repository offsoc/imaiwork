import{d as P,r as b,aF as $,k as a,I as j,s as y,m as s,q as t,Z as n,$ as z,v as F,aI as N,l as c,J as S,K as q,cP as R,y as D,au as J,ax as T,_ as U}from"./entry.46557796.js";import{_ as Z}from"./index.vue.520aef1d.js";import{E as G}from"./el-empty.db5857ba.js";import{u as H}from"./usePaging.3ef28349.js";import{e as M}from"./digital_human.b276942f.js";import O from"./video-item.33f0eafa.js";import{E as Q}from"./index.c34f420e.js";import"./index.816355b6.js";import"./index.vue.4fd7b3ea.js";import"./index.vue.7b7084b3.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./position.bb07cf08.js";import"./throttle.f2fe0ca7.js";import"./debounce.22e3311f.js";const W={class:""},X={class:"flex items-center justify-between h-[50px] px-4"},Y={class:"flex items-center gap-x-2"},ee={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[rgba(255,255,255,0.1)]"},oe={class:"px-4 my-4"},se={class:"flex items-center rounded-full h-[50px] border border-[#2a2a2a] px-[5px]"},te=["infinite-scroll-disabled"],ne={key:0,class:"grid grid-cols-3 gap-2 p-2"},re=["onClick"],ae={class:"cursor-pointer bg-black rounded-lg w-full relative h-[210px] flex flex-col"},le={class:"absolute top-2 right-2 z-[1000] w-6 h-6 rounded-full"},ce={key:1,class:"h-full flex items-center justify-center"},ie=P({__name:"choose-anchor",emits:["close","confirm"],setup(de,{expose:g,emit:w}){const _=w,u=b(),i=$({name:"",status:1,page_no:1,type:0}),{pager:d,getLists:f,resetPage:m}=H({fetchFun:M,params:i,isScroll:!0}),l=b({}),h=o=>l.value.id===o,k=o=>{h(o.id)||!o.is_vanish&&o.status!=1?l.value={}:l.value=o,x()},C=o=>{l.value=o},E=async()=>{i.page_no+=1,await f()},x=()=>{_("confirm",l.value),p()},I=()=>{var o;(o=u.value)==null||o.open(),f()},p=()=>{_("close")};return g({open:I,setChooseAnchor:C}),(o,r)=>{const v=D,V=Z,A=J,B=T,K=G,L=Q;return a(),j(R,{ref_key:"popupRef",ref:u,width:"528px",class:"choose-anchor-popup",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"confirm-button-text":"","cancel-button-text":"","show-close":!1,onClose:p,onConfirm:x},{default:y(()=>[s("div",W,[s("div",X,[s("div",Y,[s("div",ee,[t(v,{name:"local-icon-windows",size:14})]),r[1]||(r[1]=s("div",{class:"text-[20px] text-white font-bold"},"从创建的历史形象中选择",-1))]),s("div",{class:"w-6 h-6",onClick:p},[t(V)])]),s("div",oe,[s("div",se,[t(A,{modelValue:n(i).name,"onUpdate:modelValue":r[0]||(r[0]=e=>n(i).name=e),class:"flex-1 search-input","prefix-icon":"el-icon-Search",clearable:"",placeholder:"请输入形象名称","input-style":"color: #ffffff",onClear:n(m),onKeyup:z(n(m),["enter"])},null,8,["modelValue","onClear","onKeyup"]),t(B,{type:"primary",class:"!text-white !rounded-full !w-[116px] !h-10"},{default:y(()=>r[2]||(r[2]=[F("搜索",-1)])),_:1,__:[2]})])]),N((a(),c("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(d).isLoad,"infinite-scroll-distance":10},[n(d).lists.length>0?(a(),c("div",ne,[(a(!0),c(S,null,q(n(d).lists,e=>(a(),c("div",{key:e.id,onClick:pe=>k(e)},[s("div",ae,[t(O,{item:{id:e.id,name:e.name,pic:e.pic,status:e.status,video_url:e.url,model_version:e.model_version,remark:e.remark,create_time:e.create_time}},null,8,["item"]),s("div",le,[t(v,{name:"local-icon-success_fill",size:20,color:h(e.id)?"var(--color-primary)":"#ffffff1a"},null,8,["color"])])])],8,re))),128))])):(a(),c("div",ce,[t(K,{description:"暂无数据"})]))],8,te)),[[L,E]])])]),_:1},512)}}});const Ve=U(ie,[["__scopeId","data-v-dbb12b9a"]]);export{Ve as default};

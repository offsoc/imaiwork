import{d as pe,a as me,r as m,c as q,aF as ge,A as M,G as _,aH as N,o as fe,k as l,l as c,m as s,t as v,Z as n,dp as _e,dq as ve,q as d,s as g,v as I,J as A,K as B,I as h,bM as Ae,aI as he,a3 as Ee,L as E,ax as ye,y as xe,u as Ce,_ as ze}from"./entry.2beb4577.js";import{E as be}from"./index.e6c47712.js";import{E as we,a as ke}from"./el-tabs.8b676a95.js";import{E as Se}from"./el-image.a83bf837.js";import{_ as Te}from"./handle-menu.vue.c872224a.js";import{E as Me}from"./el-empty.bc763313.js";/* empty css                   */import"./el-image-viewer.d11cc27b.js";import{u as Ne}from"./usePaging.85211d66.js";import{C as Ie,D as Q,B as Be,E as Le,F as Ge,G as Fe}from"./agent.a3fcedc5.js";import{A as Re}from"./agent_bg.5af2a187.js";import{AgentTypeEnum as a}from"./index.11e2700c.js";import De from"./coze-setting.7394aad8.js";import{_ as Pe}from"./coze-edit.vue.c87230d4.js";import qe from"./coze-flow-edit.5a2a52ce.js";import{E as Qe}from"./index.abba0b88.js";import"./raf.c0777355.js";import"./strings.a9740cf6.js";import"./clamp.a46ea567.js";import"./toNumber.c824a4a2.js";import"./index.772967a0.js";import"./useTemplate.afda57ca.js";import"./throttle.403d4771.js";import"./debounce.dd7f88c1.js";import"./index.vue.478e85a5.js";import"./coze_bg.dae0b7d0.js";import"./index.3d6ad44d.js";import"./index.e8be04c0.js";import"./index.a9d48d33.js";import"./cloneDeep.a23e4277.js";/* empty css                  *//* empty css                    *//* empty css                  */import"./agent-logo.8a9674fe.js";import"./index.6beaca44.js";import"./index.47b30189.js";import"./_baseIteratee.70cb6d8d.js";import"./index.9d200730.js";import"./index.4d719c96.js";import"./index.dcd97a19.js";/* empty css                        *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                 */const Ve=""+new URL("agent.f48ce1f4.svg",import.meta.url).href,Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAJKSURBVHic7ZtReoMgEISXfr1XyclqTgY3mz6IibExIA5i0/lf1C9m2R1hWSExE0IIIYQQQghxNK5n4wCGdPqVjj4d4+y2q3Nufv3eABgABGwnAPC9/W/GDmHeX6gkDpuhd1wUwOk1a4TW/jdL0hiHQfMAzMycc83i+Ghl2My+G9p+4IieRKXxsFpj6B13EQB8B3GaiUQfuxi7u2fbLYWdj6g5KD1Bz7RZ6QMNqtoAwLRXC7MX0XoQTlTdMn1hDrHDpvUCPMtQyzqoJ1/5W8qgjdWz5J8JVh561x5EgyLQmRL0BMsn9aAMEiiDBMoggTJIoAwSKMORAkWXMLPrge3u4rPmS09qjOX1M+aiRKt7d4sb2vPL4r7pBiTGlcKwY7XPL2xVrxZi3zZSwIYismiI4b5DUWy4AXHlfCveNuy2lOagMyxl+Nn5bn9QuPJY9MYLUN7Ur865Idnzdg94S7AxHf2Le4opeeOvStKVPKzRzMQyKxfJUz0qoHSIMablW2K2WaCTUCtcGpYFseSmXoXisjc5M7vY6HS0cTi6aVrOiFgLV/SdU+svNrbN3owcqOI8cTaQHPUF7bEeTMCR29MYhWKIFfBEqGR7rzgBZ9izJwQyDyiQbHlGbKwkHUl2vHXeul6i5Y4MEiiDNg4zMHtQSeEVie2doZ1tvJiBBqTpdu/UlGy8LC+6ipAD9x+Mh7kwi89rWdqahLq1x46ny381ap9yy5/7rtFrFrsc9J2/zas8sjas/h2LPDIx5S/f2z8hhBBCCCGEEMfzA0738JPYnH0NAAAAAElFTkSuQmCC",Ue={class:"h-full flex flex-col p-4"},We={class:"rounded-[20px] flex items-center justify-between gap-3 px-[30px]",style:{background:`linear-gradient(152deg, rgba(0, 101, 251, 0.88) -42.44%, rgba(255, 255, 255, 0) 12.19%)
                    rgb(255, 255, 255)`}},Ke={class:"flex items-center gap-3"},Xe={class:"text-[#000000cc]"},Ze=["onClick"],He={class:"flex w-5 h-5 rounded items-center justify-center bg-primary"},Ye={class:"grow min-h-0 flex flex-col bg-white rounded-[20px] mt-4"},je=["infinite-scroll-disabled"],Je={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 p-5"},$e=["onClick"],et={class:"w-[72px] h-[72px] bg-white rounded-full p-[5px] absolute left-1/2 -bottom-[20px] -translate-x-1/2"},tt={class:"px-3 my-10 w-full"},ot={class:"text-[14px] text-center line-clamp-1"},st={class:"mt-3 line-clamp-2 text-center text-[#737373] leading-7 h-12"},nt={class:"absolute right-4 bottom-4 z-10 invisible group-hover:visible w-6 h-6"},lt={key:0,class:"text-tx-secondary text-center text-xs w-full py-4"},at={key:1,class:"h-full flex items-center justify-center"},it=pe({__name:"lists",setup(rt){const f=me(),V=Ce(),O=[{label:"智能体",icon:"local-icon-agent",value:a.AGENT},{label:"Coze智能体",icon:"local-icon-coze_agent",value:a.COZE_AGENT},{label:"Coze工作流",icon:"local-icon-coze_flow",value:a.COZE_FLOW}],i=m(a.AGENT),L=q(()=>O),G=ge({page_no:1,source:1}),U=e=>i.value===a.AGENT?Le(e):Ge({...e,type:i.value===a.COZE_AGENT?1:2}),{pager:u,getLists:F,resetPage:y}=Ne({fetchFun:U,params:G,isScroll:!0}),x=m(!1),C=m(!1),z=m(!1),b=M(),w=M(),k=M(),S=m(),R=()=>{var e;return(e=S.value)!=null&&e.id?!0:(_.msgWarning("请先设置Coze配置Token"),D(),!1)},p={[a.AGENT]:e=>j(e),[a.COZE_AGENT]:e=>J(e),[a.COZE_FLOW]:e=>$(e)},W={[a.AGENT]:Ie,[a.COZE_AGENT]:Q,[a.COZE_FLOW]:Q},K=e=>{var t;(t=p[e])==null||t.call(p)},X=e=>{var t;(t=p[i.value])==null||t.call(p,e)},Z=async e=>{await V.$confirm({message:"确定删除吗？",onConfirm:async()=>{try{const t=W[i.value];await t({id:e.id}),u.lists=u.lists.filter(r=>r.id!==e.id),_.msgSuccess("删除成功")}catch{_.msgWarning("删除失败")}}})},H=e=>{f.push({path:"/agent/chatting_log",query:{agent_id:e.id,coze_id:e.coze_id}})},Y=q(()=>{const e=[{label:"编辑",icon:"local-icon-edit3",click:X},{label:"删除",icon:"local-icon-delete",click:Z}];return i.value===a.AGENT&&e.splice(1,0,{label:"对话数据",icon:"local-icon-upload2",click:H}),e}),j=async e=>{if(e)f.push({query:{type:"edit",id:String(e.id)}});else try{const t=await Be({context_num:3});f.push({query:{type:"edit",id:String(t.id)}})}catch(t){_.msgError(t||"创建智能体失败")}},J=async e=>{var t,r;R()&&(C.value=!0,await N(),(t=w.value)==null||t.open(),e&&((r=w.value)==null||r.setFormData(e)))},$=async e=>{var t,r;R()&&(z.value=!0,await N(),(t=k.value)==null||t.open(),e!=null&&e.id&&((r=k.value)==null||r.getDetail(e.id)))},D=async()=>{var e,t;x.value=!0,await N(),(e=b.value)==null||e.open(),(t=b.value)==null||t.setFormData(S.value)},ee=e=>{const t=e.paneName;i.value!==t&&(i.value=t,y())},te=e=>{f.push({path:"/agent/chatting",query:{agent_id:String(e.id),coze_id:e.coze_id?String(e.coze_id):void 0,type:i.value}})},oe=async()=>{G.page_no+=1,await F()},P=async()=>{try{S.value=await Fe()}catch(e){console.warn("获取Coze配置失败，部分功能可能受限:",e)}};return fe(()=>{F(),P()}),(e,t)=>{const r=ye,se=xe,ne=be,le=we,ae=ke,ie=Se,re=Te,ce=Me,de=Qe;return l(),c("div",Ue,[s("div",We,[s("div",Ke,[t[5]||(t[5]=s("img",{src:Ve,class:"w-11 mt-7"},null,-1)),s("div",null,[s("div",Xe,v(n(_e)[n(ve).AGENT]),1),t[4]||(t[4]=s("div",{class:"text-[#00000080]"}," 一键激活模块化智能体，精准执行流程、分析等多类任务，化身全能数字员工。 ",-1))])]),s("div",null,[d(r,{color:"#000000",class:"!h-[30px]",size:"small",onClick:D},{default:g(()=>[...t[6]||(t[6]=[s("img",{src:Oe,class:"w-[18px] h-[16px] mr-2"},null,-1),I(" Coze令牌设置 ",-1)])]),_:1}),d(ne,{"popper-class":"!rounded-xl !p-2",trigger:"click","show-arrow":!1},{reference:g(()=>[d(r,{type:"primary",class:"!h-[30px]",size:"small"},{default:g(()=>[...t[7]||(t[7]=[I("立即创建",-1)])]),_:1})]),default:g(()=>[s("div",null,[(l(!0),c(A,null,B(n(L),(o,T)=>(l(),c("div",{class:"h-11 flex items-center gap-x-2 cursor-pointer px-3 rounded-lg hover:bg-[#F6F6F6] hover:shadow-[0_0_0_1px_rgba(239,239,239,1)]",key:T,onClick:ue=>K(o.value)},[s("span",He,[d(se,{name:o.icon,size:"12"},null,8,["name"])]),I(" "+v(o.label),1)],8,Ze))),128))])]),_:1})])]),s("div",Ye,[d(ae,{modelValue:n(i),"onUpdate:modelValue":t[0]||(t[0]=o=>Ae(i)?i.value=o:null),onTabClick:ee},{default:g(()=>[(l(!0),c(A,null,B(n(L),o=>(l(),h(le,{key:o.value,label:o.label,name:o.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),he((l(),c("div",{class:"grow min-h-0 flex flex-col overflow-y-auto","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(u).isLoad,"infinite-scroll-distance":10},[n(u).lists.length?(l(),c(A,{key:0},[s("div",Je,[(l(!0),c(A,null,B(n(u).lists,(o,T)=>(l(),c("div",{key:T,class:"card-item group",onClick:ue=>te(o)},[s("div",{class:"top",style:Ee({background:`url(${o.bg_image||n(Re)}) center center / cover no-repeat`})},[s("div",et,[d(ie,{src:o.image||o.avatar,class:"w-full h-full rounded-full",lazy:""},null,8,["src"])])],4),s("div",tt,[s("div",ot,v(o.name),1),s("div",st,v(o.intro||o.introduced),1)]),s("div",nt,[d(re,{data:o,"menu-list":n(Y),horizontal:!0},null,8,["data","menu-list"])])],8,$e))),128))]),n(u).isLoad?E("",!0):(l(),c("div",lt," 暂无更多了~ "))],64)):(l(),c("div",at,[d(ce)]))],8,je)),[[de,oe]])]),n(x)?(l(),h(De,{key:0,ref_key:"cozeSettingRef",ref:b,onClose:t[1]||(t[1]=o=>x.value=!1),onSuccess:P},null,512)):E("",!0),n(C)?(l(),h(Pe,{key:1,ref_key:"cozeEditRef",ref:w,onClose:t[2]||(t[2]=o=>C.value=!1),onSuccess:n(y)},null,8,["onSuccess"])):E("",!0),n(z)?(l(),h(qe,{key:2,ref_key:"cozeFlowEditRef",ref:k,onClose:t[3]||(t[3]=o=>z.value=!1),onSuccess:n(y)},null,8,["onSuccess"])):E("",!0)])}}});const eo=ze(it,[["__scopeId","data-v-6cf99432"]]);export{eo as default};

import{d as W,ab as te,dF as re,bj as O,W as le,aI as U,e as q,P as ce,Q,S as de,Z as e,k as d,l as b,m as a,J as $,K as B,I as L,q as l,aa as se,b1 as ue,aQ as pe,c9 as fe,ai as _e,c as me,Y as V,H as G,v as S,t as C,L as T,bf as be,am as ve,bg as ge,A as ye,r as X,aF as he,cx as we,cy as ke,s as n,bM as xe,ax as Se,y as De,_ as Ne}from"./entry.f4f46cb5.js";import{_ as Ce}from"./index.vue.9649ae9f.js";import{E as Ee}from"./el-card.edb36fa1.js";import{E as $e}from"./index.d7101a01.js";/* empty css                  */import{u as Ie}from"./useAudio.6dd76412.js";import{i as Ae}from"./interview.fea9f1a0.js";import"./debounce.640f3738.js";import"./toNumber.d5c70aa7.js";import"./index.3864ff87.js";const H=Symbol("elDescriptions");var M=W({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:te(H,{})}},render(){var A;const r=re(this.cell),f=(((A=this.cell)==null?void 0:A.dirs)||[]).map(w=>{const{dir:_,arg:p,modifiers:R,value:c}=w;return[_,c,p,R]}),{border:z,direction:D}=this.descriptions,u=D==="vertical",o=()=>{var w,_,p;return((p=(_=(w=this.cell)==null?void 0:w.children)==null?void 0:_.label)==null?void 0:p.call(_))||r.label},j=()=>{var w,_,p;return(p=(_=(w=this.cell)==null?void 0:w.children)==null?void 0:_.default)==null?void 0:p.call(_)},i=r.span,x=r.rowspan,m=r.align?`is-${r.align}`:"",v=r.labelAlign?`is-${r.labelAlign}`:m,I=r.className,g=r.labelClassName,y=this.type==="label"&&(r.labelWidth||this.descriptions.labelWidth)||r.width,E={width:O(y),minWidth:O(r.minWidth)},h=le("descriptions");switch(this.type){case"label":return U(q(this.tag,{style:E,class:[h.e("cell"),h.e("label"),h.is("bordered-label",z),h.is("vertical-label",u),v,g],colSpan:u?i:1,rowspan:u?1:x},o()),f);case"content":return U(q(this.tag,{style:E,class:[h.e("cell"),h.e("content"),h.is("bordered-content",z),h.is("vertical-content",u),m,I],colSpan:u?i:i*2-1,rowspan:u?x*2-1:x},j()),f);default:{const w=o(),_={},p=O(r.labelWidth||this.descriptions.labelWidth);return p&&(_.width=p,_.display="inline-block"),U(q("td",{style:E,class:[h.e("cell"),m],colSpan:i,rowspan:x},[ce(w)?void 0:q("span",{style:_,class:[h.e("label"),g]},w),q("span",{class:[h.e("content"),I]},j())]),f)}}}});const ze=Q({row:{type:de(Array),default:()=>[]}}),Re=W({name:"ElDescriptionsRow"}),Pe=W({...Re,props:ze,setup(A){const r=te(H,{});return(f,z)=>e(r).direction==="vertical"?(d(),b($,{key:0},[a("tr",null,[(d(!0),b($,null,B(f.row,(D,u)=>(d(),L(e(M),{key:`tr1-${u}`,cell:D,tag:"th",type:"label"},null,8,["cell"]))),128))]),a("tr",null,[(d(!0),b($,null,B(f.row,(D,u)=>(d(),L(e(M),{key:`tr2-${u}`,cell:D,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(d(),b("tr",{key:1},[(d(!0),b($,null,B(f.row,(D,u)=>(d(),b($,{key:`tr3-${u}`},[e(r).border?(d(),b($,{key:0},[l(e(M),{cell:D,tag:"td",type:"label"},null,8,["cell"]),l(e(M),{cell:D,tag:"td",type:"content"},null,8,["cell"])],64)):(d(),L(e(M),{key:1,cell:D,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var We=se(Pe,[["__file","descriptions-row.vue"]]);const je=Q({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ue,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),ne="ElDescriptionsItem",Fe=W({name:"ElDescriptions"}),Ve=W({...Fe,props:je,setup(A){const r=A,f=le("descriptions"),z=pe(),D=fe();_e(H,r);const u=me(()=>[f.b(),f.m(z.value)]),o=(i,x,m,v=!1)=>(i.props||(i.props={}),x>m&&(i.props.span=m),v&&(i.props.span=x),i),j=()=>{if(!D.default)return[];const i=be(D.default()).filter(y=>{var E;return((E=y==null?void 0:y.type)==null?void 0:E.name)===ne}),x=[];let m=[],v=r.column,I=0;const g=[];return i.forEach((y,E)=>{var h,w,_;const p=((h=y.props)==null?void 0:h.span)||1,R=((w=y.props)==null?void 0:w.rowspan)||1,c=x.length;if(g[c]||(g[c]=0),R>1)for(let s=1;s<R;s++)g[_=c+s]||(g[_]=0),g[c+s]++,I++;if(g[c]>0&&(v-=g[c],g[c]=0),E<i.length-1&&(I+=p>v?v:p),E===i.length-1){const s=r.column-I%r.column;m.push(o(y,s,v,!0)),x.push(m);return}p<v?(v-=p,m.push(y)):(m.push(o(y,p,v)),x.push(m),v=r.column,m=[])}),x};return(i,x)=>(d(),b("div",{class:V(e(u))},[i.title||i.extra||i.$slots.title||i.$slots.extra?(d(),b("div",{key:0,class:V(e(f).e("header"))},[a("div",{class:V(e(f).e("title"))},[G(i.$slots,"title",{},()=>[S(C(i.title),1)])],2),a("div",{class:V(e(f).e("extra"))},[G(i.$slots,"extra",{},()=>[S(C(i.extra),1)])],2)],2)):T("v-if",!0),a("div",{class:V(e(f).e("body"))},[a("table",{class:V([e(f).e("table"),e(f).is("bordered",i.border)])},[a("tbody",null,[(d(!0),b($,null,B(j(),(m,v)=>(d(),L(We,{key:v,row:m},null,8,["row"]))),128))])],2)],2)],2))}});var Be=se(Ve,[["__file","description.vue"]]);const ee=["left","center","right"],Le=Q({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:ee,default:"left"},labelAlign:{type:String,values:ee},className:{type:String,default:""},labelClassName:{type:String,default:""}}),oe=W({name:ne,props:Le}),qe=ve(Be,{DescriptionsItem:oe}),Me=ge(oe);const Te={class:"pb-10"},Ke={class:"flex items-center justify-between"},Oe={key:0},Ue={class:"text-xl font-bold"},Qe={class:"flex flex-col gap-4"},He={class:"flex flex-col gap-4"},Je={class:"flex gap-2"},Ye={class:"bg-gray-100 p-2 rounded-lg"},Ze={key:0,class:"flex-shrink-0"},Ge={class:"bg-gray-100 p-2 rounded-lg"},Xe=["onClick"],et={key:0,class:"flex flex-row-reverse gap-2"},tt={class:"bg-primary-light-7 p-2 rounded-lg"},lt={key:0,class:"flex-shrink-0"},st={class:"bg-primary-light-7 p-2 rounded-lg"},nt=["onClick"],ot={class:"absolute bottom-0 left-0 right-0 p-3 bg-white border-t border-gray-200"},at={class:"flex justify-end"},it=W({__name:"detail",emits:["success","close"],setup(A,{expose:r,emit:f}){const z=f,D=ye(),u=X(!1),o=he({cv:{},ai:{},dialogs:[],start_time:0,end_time:0,score:0}),{lockFn:j,isLock:i}=we(async c=>{await ke(c)}),{play:x,pause:m,pauseAll:v,setUrl:I,isPlaying:g}=Ie(),y=X(),E=(c,s)=>{g.value&&y.value!==s&&v(),g.value?m():(y.value!==s&&I(c),x(),y.value=s)},h=()=>{u.value=!0},w=()=>{u.value=!1,z("close")},_=async c=>{const s=await Ae({id:c});p(s)},p=async c=>{for(const s in o)c[s]!=null&&c[s]!=null&&(o[s]=c[s])},R=c=>c?c.replace(/^\["|"\]$/g,"").replace(/","/g,"<br/>"):"";return r({open:h,getDetail:_,setFormData:p}),(c,s)=>{const J=Se,k=Me,F=qe,P=Ce,K=Ee,Y=De,ae=$e;return d(),L(ae,{modelValue:e(u),"onUpdate:modelValue":s[1]||(s[1]=t=>xe(u)?u.value=t:null),title:"面试记录详情",ref_key:"popupRef",ref:D,async:!0,size:"1000px","confirm-button-text":"","cancel-button-text":"",onClose:w},{default:n(()=>[a("div",Te,[l(K,null,{header:n(()=>{var t;return[a("div",Ke,[s[3]||(s[3]=a("div",{class:"text-xl font-bold"},"面试者简历",-1)),(t=e(o).cv)!=null&&t.word_url?(d(),b("div",Oe,[l(J,{type:"primary",plain:"",loading:e(i),onClick:s[0]||(s[0]=Z=>{var N;return e(j)((N=e(o).cv)==null?void 0:N.word_url)})},{default:n(()=>[...s[2]||(s[2]=[S(" 导出简历附件 ",-1)])]),_:1},8,["loading"])])):T("",!0)])]}),default:n(()=>[l(F,{column:4,border:""},{default:n(()=>[l(k,{label:"姓名"},{default:n(()=>{var t;return[S(C((t=e(o).cv)==null?void 0:t.name),1)]}),_:1}),l(k,{label:"性别"},{default:n(()=>{var t;return[S(C(((t=e(o).cv)==null?void 0:t.sex)==1?"男":" 女"),1)]}),_:1}),l(k,{label:"年龄"},{default:n(()=>{var t;return[S(C((t=e(o).cv)==null?void 0:t.age),1)]}),_:1}),l(k,{label:"联系方式"},{default:n(()=>{var t;return[S(C((t=e(o).cv)==null?void 0:t.mobile),1)]}),_:1}),l(k,{label:"工作年份"},{default:n(()=>{var t;return[S(C((t=e(o).cv)==null?void 0:t.work_years),1)]}),_:1}),l(k,{label:"毕业院校"},{default:n(()=>{var t;return[S(C((t=e(o).cv)==null?void 0:t.school),1)]}),_:1}),l(k,{label:"学历"},{default:n(()=>{var t;return[S(C((t=e(o).cv)==null?void 0:t.degree),1)]}),_:1})]),_:1}),l(F,{border:"",column:1},{default:n(()=>[l(k,{label:"工作经历"},{default:n(()=>{var t;return[l(P,{content:R((t=e(o).cv)==null?void 0:t.work_ex),typing:!1},null,8,["content"])]}),_:1}),l(k,{label:"项目经历"},{default:n(()=>{var t;return[l(P,{content:R((t=e(o).cv)==null?void 0:t.project_ex),typing:!1},null,8,["content"])]}),_:1})]),_:1})]),_:1}),l(K,{class:"mt-3"},{header:n(()=>[...s[4]||(s[4]=[a("div",{class:"text-xl font-bold"},"AI面试分析报告",-1)])]),default:n(()=>[l(F,{column:4,border:""},{default:n(()=>[l(k,{label:"面试岗位"},{default:n(()=>{var t;return[S(C((t=e(o).ai)==null?void 0:t.job_name),1)]}),_:1}),l(k,{label:"面试得分"},{default:n(()=>[S(C(e(o).ai.score||0),1)]),_:1}),l(k,{label:"重面次数"},{default:n(()=>[S(C(e(o).dialogs.length),1)]),_:1}),l(k,{label:"面试时长"},{default:n(()=>[S(C(e(o).ai.duration),1)]),_:1})]),_:1}),l(F,{border:"",column:1},{default:n(()=>[l(k,{label:"面试分析"},{default:n(()=>[l(P,{content:e(o).ai.analyze||"暂无",typing:!1},null,8,["content"])]),_:1})]),_:1}),l(F,{border:"",column:1},{default:n(()=>[l(k,{label:"侧重考察点"},{default:n(()=>[l(P,{content:e(o).ai.inspection_point||"暂无",typing:!1},null,8,["content"])]),_:1})]),_:1}),l(F,{border:"",column:1},{default:n(()=>[l(k,{label:"面试结果"},{default:n(()=>[l(P,{content:e(o).ai.comment||"暂无",typing:!1},null,8,["content"])]),_:1})]),_:1})]),_:1}),(d(!0),b($,null,B(e(o).dialogs,(t,Z)=>(d(),L(K,{class:"mt-3",key:Z},{header:n(()=>[a("div",Ue,"对话记录("+C(t.out_reason)+")",1)]),default:n(()=>[a("div",null,[a("div",Qe,[(d(!0),b($,null,B(t.list,(N,rt)=>(d(),b("div",He,[a("div",Je,[s[5]||(s[5]=a("div",{class:"flex-shrink-0"},[a("div",{class:"bg-gray-100 py-2.5 px-4 rounded-lg"},"面试官")],-1)),a("div",Ye,[l(P,{content:N.question,typing:!1},null,8,["content"])]),N.question_url?(d(),b("div",Ze,[a("div",Ge,[a("div",{class:"p-[7.5px] flex items-center justify-center bg-white rounded-full",onClick:ie=>E(N.question_url,N.id)},[l(Y,{name:e(y)==N.id&&e(g)?"local-icon-music_pause":"local-icon-music_play",size:10},null,8,["name"])],8,Xe)])])):T("",!0)]),N.answer?(d(),b("div",et,[s[6]||(s[6]=a("div",{class:"flex-shrink-0"},[a("div",{class:"bg-primary-light-7 py-2.5 px-4 rounded-lg"},"面试者")],-1)),a("div",tt,[l(P,{content:N.answer,typing:!1},null,8,["content"])]),N.answer_url?(d(),b("div",lt,[a("div",st,[a("div",{class:"p-[7.5px] flex items-center justify-center bg-white rounded-full",onClick:ie=>E(N.answer_url,N.id)},[l(Y,{name:e(y)==N.id&&e(g)?"local-icon-music_pause":"local-icon-music_play",size:10},null,8,["name"])],8,nt)])])):T("",!0)])):T("",!0)]))),256))])])]),_:2},1024))),128))]),a("div",ot,[a("div",at,[l(J,{onClick:w},{default:n(()=>[...s[7]||(s[7]=[S("取消",-1)])]),_:1})])])]),_:1},8,["modelValue"])}}});const yt=Ne(it,[["__scopeId","data-v-9780dc6d"]]);export{yt as default};

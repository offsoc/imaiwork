import{d as R,as as E,x as q,c as z,k as p,l as r,m as e,t as l,Z as d,I as J,s as x,v,q as u,L as _,J as g,K as V,Y as k,c$ as j,u as U,y as Y,ba as Z,ax as G,au as H}from"./entry.ca4d3d61.js";import{_ as O}from"./index.vue.c578915d.js";import{E as P}from"./index.8b07fb5c.js";/* empty css                     */const Q={class:"h-full flex flex-col"},W={class:"flex justify-between gap-x-2 px-[14px]"},X={class:"text-white text-[11px]"},ee={class:"flex items-center gap-x-2 mt-2"},te={class:"text-[#ffffff80] text-[11px]"},le={class:"w-4 h-4 rounded-full flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.2)] cursor-pointer"},oe={class:"text-[#ffffff80] text-[11px] leading-6 w-[212px]"},se={class:"grow min-h-0 mt-[14px]"},ae={class:"flex flex-col gap-y-2 px-[14px]"},ne={class:"flex-1"},ce=["onClick"],de={class:"flex justify-between gap-x-2"},ue=["onClick"],ie={class:"mt-2"},pe={key:0,class:"relative mt-4 flex gap-x-2 items-end"},re={class:"flex-1 flex flex-wrap gap-2"},me=["onClick"],fe={class:""},ye=R({__name:"copywriting-card",props:E({type:{},modelValue:{},publishTypeName:{},showTopic:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:E(["update:modelValue"],["update:modelValue"]),setup(a,{emit:A}){const y=a,f=A,t=q(a,"modelValue"),D=z(()=>t.value.filter(o=>o.content).length),m=z(()=>({1:"标题",2:"正文描述",3:"口播文案"})[y.type]),I=()=>{y.type==2?t.value.push({content:"",topic:[]}):t.value.push({content:""}),f("update:modelValue",t.value)},B=o=>{U().$confirm({message:`确定要删除该${y.type==1?"标题":"描述"}吗？`,theme:"dark",onConfirm:()=>{t.value.splice(o,1),f("update:modelValue",t.value)}})},C=o=>{f("update:modelValue",t.value)},F=o=>{t.value[o].topic||(t.value[o].topic=[]),t.value[o].topic.push(""),f("update:modelValue",t.value)},K=(o,i)=>{U().$confirm({message:"确定要删除该话题吗？",theme:"dark",onConfirm:()=>{t.value[o].topic.splice(i,1),f("update:modelValue",t.value)}})},L=(o,i)=>{f("update:modelValue",t.value)};return(o,i)=>{const T=Y,M=Z,$=G,b=H,N=O,S=P;return p(),r("div",Q,[e("div",W,[e("div",null,[e("div",X,l(d(m)),1),e("div",ee,[e("span",te," 共"+l(t.value.length)+"个"+l(d(m))+"，已配置"+l(d(D))+"个 ",1),a.publishTypeName?(p(),J(M,{key:0,placement:"top","popper-class":"!rounded-xl !bg-app-bg-2 !border-app-border-2 !p-2","show-arrow":!1},{content:x(()=>[e("div",oe,[v(" 1.如配置"+l(d(m))+"数量等于"+l(a.publishTypeName)+"数量，将按"+l(a.publishTypeName)+"顺序匹配"+l(d(m))+"。 ",1),i[0]||(i[0]=e("br",null,null,-1)),v(" 2.如配置"+l(d(m))+"数量不等于"+l(a.publishTypeName)+"数量，将"+l(d(m))+"随机匹配给各"+l(a.publishTypeName)+"。 ",1)])]),default:x(()=>[e("div",le,[u(T,{name:"local-icon-tips2",color:"#ffffff",size:16})])]),_:1})):_("",!0)])]),e("div",null,[u($,{class:"!h-10 w-[106px] !border-[#ffffff1a]",color:"#262626",onClick:I},{default:x(()=>[v("添加"+l(d(m)),1)]),_:1})])]),e("div",se,[u(S,null,{default:x(()=>[e("div",ae,[a.type==1?(p(!0),r(g,{key:0},V(t.value,(n,s)=>(p(),r("div",{class:"flex items-center gap-x-2 border border-app-border-2 px-3 h-11 rounded-md",key:s},[e("div",{class:k(["rounded-[100px] text-white min-w-[32px] h-5 flex items-center justify-center",[n.content?"bg-[#3BB840]":"shadow-[0_0_0_1px_var(--app-border-color-2)]"]])},l(s+1),3),e("div",ne,[u(b,{modelValue:n.content,"onUpdate:modelValue":c=>n.content=c,class:"!h-10",maxlength:"20","show-word-limit":"","input-style":"font-size: 11px",placeholder:"-",onBlur:c=>C(s)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),i[1]||(i[1]=e("div",{class:"w-[1px] h-[12px] bg-[#ffffff1a]"},null,-1)),e("div",null,[e("div",{class:"w-4 h-4",onClick:c=>B(s)},[u(N,{"icon-size":10,theme:d(j).DARK},null,8,["theme"])],8,ce)])]))),128)):_("",!0),a.type==2||a.type==3?(p(!0),r(g,{key:1},V(t.value,(n,s)=>(p(),r("div",{class:"border border-app-border-2 p-3 rounded-md h-fit",key:s},[e("div",de,[e("div",{class:k(["rounded-[100px] text-white min-w-[32px] h-5 flex items-center justify-center",[n.content?"bg-[#3BB840]":"shadow-[0_0_0_1px_var(--app-border-color-2)]"]])},l(s+1),3),e("div",null,[e("div",{class:"w-4 h-4",onClick:c=>B(s)},[u(N,{"icon-size":10,theme:d(j).DARK},null,8,["theme"])],8,ue)])]),e("div",ie,[u(b,{modelValue:n.content,"onUpdate:modelValue":c=>n.content=c,maxlength:"800","show-word-limit":"",placeholder:"请输入内容",type:"textarea",resize:"none","input-style":"font-size: 11px",rows:6,onBlur:c=>C(s)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),a.showTopic?(p(),r("div",pe,[e("div",re,[(p(!0),r(g,null,V(n.topic,(c,h)=>(p(),r("div",{key:h,class:k(["relative text-[11px] rounded-md shadow-[0_0_0_1px_rgba(255,255,255,0.1)]",{"bg-app-bg-4":c}])},[u(b,{modelValue:n.topic[h],"onUpdate:modelValue":w=>n.topic[h]=w,class:"h-[26px] !w-[78px]",placeholder:"#请输入话题","input-style":"font-size: 11px;height: 100%",onBlur:w=>L(s,h)},null,8,["modelValue","onUpdate:modelValue","onBlur"]),e("div",{class:"absolute -top-2 -right-2 w-4 h-4 rounded-full flex items-center justify-center bg-[#FF3C26] cursor-pointer",onClick:w=>K(s,h)},[u(T,{name:"local-icon-close",color:"#ffffff"})],8,me)],2))),128))]),e("div",fe,[u($,{type:"primary",class:"!h-[26px]",onClick:c=>F(s)},{default:x(()=>[...i[2]||(i[2]=[v("添加话题",-1)])]),_:1},8,["onClick"])])])):_("",!0)]))),128)):_("",!0)])]),_:1})])])}}});export{ye as _};

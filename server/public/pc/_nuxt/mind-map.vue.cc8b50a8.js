import{d as B,aF as S,A as b,o as F,k as i,l as s,Z as _,J as N,m as l,q as R,s as V,v as $,Y as A,aH as h,ax as H}from"./entry.46557796.js";import{u as P}from"./useMindMap.7b1a7b3f.js";const j=""+new URL("empty.a05ec8fa.png",import.meta.url).href,q={class:"absolute top-0 right-0 p-2"},D={key:1,class:"flex flex-col justify-center gap-4 items-center h-full"},J=B({__name:"mind-map",props:{detail:{}},setup(y){const M=y,r=S({reply:""}),c=b(null),{toolbarContainer:x,isFullscreen:g,mindMapInit:k,mindMapFit:v,mindMapExportAsPNG:w}=P(),T=()=>{w(c.value)},C=async()=>{var o,p,m,u,d,f;const{response:a}=M.detail,t=(m=(p=(o=a==null?void 0:a.Result)==null?void 0:o.Summarization)==null?void 0:p.Summarization)==null?void 0:m.MindMapSummary,e=(f=(d=(u=a==null?void 0:a.Result)==null?void 0:u.Summarization)==null?void 0:d.Summarization)==null?void 0:f.ParagraphTitle,n=z({title:e,lists:t});t.length&&(r.reply=n,await h(),E())},E=async()=>{k(c.value,{color:a=>"#2353f4",spacingVertical:10,spacingHorizontal:20}),await h(),v(r.reply)};function z(a){let t="";return a.lists.length&&a.lists.forEach(e=>{t+=`# ${e.Title}

`,e.Topic.forEach(n=>{t+=`### ${n.Title}

`,n.Topic.forEach(o=>{t+=`#### ${o.Title}

`})})}),t}return F(()=>{C()}),(a,t)=>{const e=H;return i(),s("div",{class:A(["h-full relative",{"fixed top-0 left-0 w-full z-[8888]":_(g)}])},[_(r).reply?(i(),s(N,{key:0},[l("div",{ref_key:"toolbarContainer",ref:x},null,512),(i(),s("svg",{ref_key:"mindMapContainer",ref:c,class:"w-full h-full bg-white"},null,512)),l("div",q,[R(e,{type:"primary",onClick:T},{default:V(()=>t[0]||(t[0]=[$("导出",-1)])),_:1,__:[0]})])],64)):(i(),s("div",D,t[1]||(t[1]=[l("img",{src:j,class:"w-[120px] h-[120px]"},null,-1),l("div",{class:"text-[#585a73]"},"暂无脑图",-1)])))],2)}}});export{J as _,j as a};

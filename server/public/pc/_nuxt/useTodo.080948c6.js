import{aF as g,G as a,u as p}from"./entry.2beb4577.js";import{u as l}from"./usePaging.85211d66.js";import{C as P,D as T}from"./person_wechat.8bcf26fc.js";function _({isScroll:r=!0}={}){const n=p(),t=g({page_size:10,page_no:1,wechat_id:"",friend_id:""}),{pager:s,getLists:i,resetPage:d,resetParams:c}=l({fetchFun:T,params:t,isScroll:r});return{todoPager:s,todoParams:t,getTodoLists:i,resetTodoPage:d,resetTodoParams:c,handleDeleteTodo:async o=>new Promise(async(m,u)=>{await n.$confirm({message:"确定要删除吗？",onConfirm:async()=>{try{await P({id:o}),a.msgSuccess("删除成功"),m(!0);const e=s.lists.findIndex(f=>f.id===o);e!==-1&&s.lists.splice(e,1)}catch(e){a.msgError(e||"删除失败"),u(!1)}}})})}}export{_ as default};

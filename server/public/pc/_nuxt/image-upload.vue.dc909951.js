import{d as u,as as n,x as _,k as a,l as i,m as t,q as l,s as x,J as g,t as h,a0 as b,L as v,y as w}from"./entry.46557796.js";import{_ as y}from"./index.vue.520aef1d.js";import{_ as z}from"./index.c84588fb.js";const j={class:"rounded-md bg-app-bg-3 border border-app-border-2 p-[6px] flex gap-x-2 w-full"},S={class:"flex-1 flex flex-col items-center justify-center"},k={class:"flex flex-col items-center justify-center gap-2 h-[112px] w-full"},D={class:"text-white text-[11px]"},K={key:1,class:"border border-primary rounded-md w-full h-full overflow-hidden relative"},V=["src"],C={key:0,class:"w-[112px] h-[112px] rounded-md border border-app-border-2 flex items-center justify-center overflow-hidden text-white"},M=["src"],q=u({__name:"image-upload",props:n({maxSize:{default:10},minSize:{default:0},ratioSize:{default:()=>[2,1]},limit:{default:1},content:{default:"上传图片"},imgKey:{default:"image"},templateVideoUrl:{default:""}},{formData:{},formDataModifiers:{}}),emits:n(["update:formData"],["update:formData"]),setup(r,{emit:B}){const d=r,o=_(r,"formData"),f=e=>{o.value[d.imgKey]=e.data.uri};return(e,s)=>{const m=w,c=y,p=z;return a(),i("div",j,[t("div",S,[l(p,{class:"w-full h-[112px]","show-progress":"","show-file-list":!1,"ratio-size":e.ratioSize,"max-size":e.maxSize,"min-size":e.minSize,accept:".jpg,.jpeg,.png",limit:e.limit,onSuccess:f},{default:x(()=>[t("div",k,[o.value[e.imgKey]?(a(),i("div",K,[t("img",{src:o.value[e.imgKey],class:"w-full h-full object-contain"},null,8,V),t("div",{class:"absolute top-1 right-1 cursor-pointer w-6 h-6",onClick:s[0]||(s[0]=b(N=>o.value[e.imgKey]="",["stop"]))},[l(c)]),s[1]||(s[1]=t("div",{class:"absolute bottom-3 w-full flex justify-center"},[t("div",{class:"cursor-pointer px-[10px] text-white rounded-full border border-[#ffffff1a] bg-[#ffffff4d] shadow-[0px_6px_12px_0px_rgba(0,0,0,0.24)] h-[28px] flex items-center justify-center"}," 更换图片 ")],-1))])):(a(),i(g,{key:0},[l(m,{name:"local-icon-file_add",size:28,color:"#ffffff"}),t("span",D,h(e.content),1)],64))])]),_:1},8,["ratio-size","max-size","min-size","limit"])]),o.value[e.imgKey]?v("",!0):(a(),i("div",C,[t("video",{src:e.templateVideoUrl,class:"w-full h-full object-cover",autoplay:"",loop:""},null,8,M)]))])}}});export{q as _};

import{E as z,a as F}from"./index.50778a9c.js";import{d as U,bM as A,aF as M,ef as C,r as y,Z as t,k as i,l as n,m as s,q as l,s as d,$ as G,v as H,aI as L,J,K as Q,t as w,cU as W,L as b,I as $,aH as Z,u as X,G as Y,bQ as ee,ax as te,au as oe,y as le,b5 as se,cP as ie,_ as ne}from"./entry.d7219633.js";import{E as ae}from"./index.f15af271.js";import{_ as re}from"./handle-menu.vue.23aa7045.js";/* empty css                  *//* empty css               *//* empty css                     */import{u as ce}from"./usePaging.3c53b51c.js";import{a as pe,p as de}from"./redbook.f03a8b74.js";import{CopywritingTypeEnum as u}from"./index.83df7a87.js";import{_ as ue}from"./empty.vue.2a7cc8eb.js";import me from"./create-panel.1dbc5ae4.js";import fe from"./edit.40ba3d89.js";import{E as _e}from"./index.15764a88.js";import"./index.4953ba77.js";import"./strings.03d3529c.js";import"./debounce.085e8a4a.js";import"./_baseIteratee.5c97421a.js";import"./index.ead96a32.js";import"./index.1f8dde63.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./index.vue.f38ca415.js";import"./copywriting-card.vue.36cffb80.js";import"./position.cb246d7d.js";import"./throttle.70466628.js";const ye=""+new URL("copywriting_bg.f58da630.png",import.meta.url).href,ve={key:0,class:"h-full flex flex-col bg-app-bg-2 rounded-[20px]"},ge={class:"flex-shrink-0 px-[14px] border-[0] border-b-[1px] border-app-border-1"},xe={class:"flex items-center justify-end h-[88px]"},we={class:"flex items-center gap-[14px]"},be=["infinite-scroll-disabled"],Ee={class:"h-full p-4"},ke={key:0},he={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4"},Te=["onClick"],Ce={class:"w-full px-3 absolute z-[22] top-2"},Le={class:"line-clamp-1 text-white"},$e={class:"absolute w-full h-full left-0 top-0 px-3 z-[22] flex flex-col items-center justify-center"},Ie={class:"title-text"},Ne={class:"text-[#ffffff80] mt-[14px]"},Se={class:"absolute right-2 top-2 z-[1000] w-9 h-9 invisible group-hover:visible"},Ve={key:1,class:"text-white text-center text-xs w-full py-4"},Be={key:1,class:"h-full flex items-center justify-center"},Oe=U({__name:"index",setup(Pe){const E=A(),I={[u.TITLE]:"内容文案",[u.CONTENT]:"口播文案"},m=M({name:"",page_no:1,page_size:10,type:C.REDBOOK,copywriting_type:""}),{pager:a,getLists:k,resetPage:p}=ce({fetchFun:pe,params:m,isScroll:!0}),N=()=>{m.page_no++,k()},v=y(!1),g=y(),S=[{label:"重命名",icon:"local-icon-edit3",click:async r=>{v.value=!0,await Z(),g.value.open(),g.value.setFormData(r)}},{label:"删除素材",icon:"local-icon-delete",click:({id:r})=>{X().$confirm({message:"确定删除该视频吗？",theme:"dark",onConfirm:async()=>{try{await de({id:r});const e=a.lists.findIndex(c=>c.id==r);a.lists.splice(e,1)}catch(e){Y.msgWarning(e)}}})}}],x=y(E.query.is_create=="1"),h=y(Number(E.query.copywriting_type)),f=(r,e)=>{x.value=!0,h.value=r;const c={is_create:1,copywriting_type:r};e&&(c.id=e),ee(c)},V=()=>{x.value=!1,window.history.replaceState(null,null,`?type=${C.REDBOOK}`),p()};return k(),(r,e)=>{const c=z,B=F,_=te,O=oe,T=le,P=se,R=ae,D=re,K=ie,q=_e;return t(x)?(i(),$(me,{key:1,type:t(h),onBack:V},null,8,["type"])):(i(),n("div",ve,[s("div",ge,[l(R,null,{default:d(()=>[s("div",xe,[s("div",we,[l(B,{modelValue:t(m).copywriting_type,"onUpdate:modelValue":e[0]||(e[0]=o=>t(m).copywriting_type=o),class:"!w-[100px]","popper-class":"dark-select-popper",clearable:"","show-arrow":!1,"empty-values":[null,void 0],"value-on-clear":null,onChange:e[1]||(e[1]=o=>t(p)())},{default:d(()=>[l(c,{label:"全部",value:""}),l(c,{label:"口播文案",value:t(u).CONTENT},null,8,["value"]),l(c,{label:"内容文案",value:t(u).TITLE},null,8,["value"])]),_:1},8,["modelValue"]),l(O,{modelValue:t(m).name,"onUpdate:modelValue":e[3]||(e[3]=o=>t(m).name=o),"prefix-icon":"el-icon-Search",class:"!w-[240px] search-name-input",placeholder:"请输入素材名称",clearable:"",onClear:e[4]||(e[4]=o=>t(p)()),onKeydown:e[5]||(e[5]=G(o=>t(p)(),["enter"]))},{append:d(()=>[l(_,{text:"",onClick:e[2]||(e[2]=o=>t(p)())},{default:d(()=>e[11]||(e[11]=[H(" 搜索 ",-1)])),_:1,__:[11]})]),_:1},8,["modelValue"]),l(_,{type:"primary",class:"!rounded-full !h-10 !px-4",onClick:e[6]||(e[6]=o=>f(t(u).CONTENT))},{default:d(()=>[l(T,{name:"local-icon-add_circle",color:"#ffffff"}),e[12]||(e[12]=s("span",{class:"ml-2"},"新增口播文案",-1))]),_:1,__:[12]}),s("div",null,[l(_,{type:"primary",class:"!rounded-full !h-10 !px-4",onClick:e[7]||(e[7]=o=>f(t(u).TITLE))},{default:d(()=>[l(T,{name:"local-icon-add_circle",color:"#ffffff"}),e[13]||(e[13]=s("span",{class:"ml-2"},"新增内容文案",-1))]),_:1,__:[13]})]),l(P,{content:"刷新"},{default:d(()=>[l(_,{circle:"",color:"#1f1f1f",icon:"el-icon-Refresh",class:"!w-10 !h-10",onClick:e[8]||(e[8]=o=>t(p)())})]),_:1})])])]),_:1})]),L((i(),n("div",{class:"grow min-h-0 overflow-y-auto flex flex-col dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!t(a).isLoad,"infinite-scroll-distance":10},[L((i(),n("div",Ee,[t(a).lists.length?(i(),n("div",ke,[t(a).lists.length?(i(),n("div",he,[(i(!0),n(J,null,Q(t(a).lists,(o,j)=>(i(),n("div",{class:"material-item group",key:j,onClick:Re=>f(o.copywriting_type,o.id)},[s("div",Ce,[s("div",Le,w(o.name),1)]),s("div",$e,[s("div",Ie,w(I[o.copywriting_type]||"文案"),1),s("div",Ne,w(o.create_time),1)]),s("div",Se,[l(D,{theme:t(W).DARK,data:o,"menu-list":S},null,8,["theme","data"])]),e[14]||(e[14]=s("img",{src:ye,class:"w-full h-full object-cover"},null,-1))],8,Te))),128))])):b("",!0),t(a).isLoad?b("",!0):(i(),n("div",Ve,"暂无更多了~"))])):(i(),n("div",Be,[l(ue,{"btn-text":"创建文案",msg:"快去创建你的文案吧","custom-click":()=>f(t(u).TITLE)},null,8,["custom-click"])]))])),[[K,t(a).loading]])],8,be)),[[q,N]]),t(v)?(i(),$(fe,{key:0,ref_key:"editPopupRef",ref:g,onClose:e[9]||(e[9]=o=>v.value=!1),onSuccess:e[10]||(e[10]=o=>t(p)())},null,512)):b("",!0)]))}}});const ct=ne(Oe,[["__scopeId","data-v-d1705022"]]);export{ct as default};

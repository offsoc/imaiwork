import{_ as C}from"./index.vue.d98c851e.js";import{d as w,A as y,aF as z,cx as h,G as a,bK as V,k as B,I as E,s as d,m as o,q as c,Z as n,v as F,au as I,ax as D,cV as N,_ as R}from"./entry.ee599c70.js";import{_ as S}from"./coze_bg.bfd4aa7c.js";import{k as T,l as A}from"./agent.e14901d7.js";const L={class:"box rounded-[32px] overflow-hidden"},U={class:"px-[38px] pb-5"},j={class:"mt-4"},q={class:"mt-6"},G=w({__name:"coze-setting",emits:["close","success"],setup(K,{expose:i,emit:_}){const l=_,r=y(),s=z({id:"",secret_token:""}),u=async()=>{r.value.open()},p=()=>{l("close")},{lockFn:m,isLock:f}=h(async()=>{if(!s.secret_token){a.msgWarning("请输入Coze令牌");return}try{s.id?await T(s):await A(s),p(),l("success"),a.msgSuccess("保存成功")}catch(t){a.msgError(t)}});return i({open:u,setFormData:t=>V(t,s)}),(t,e)=>{const x=C,k=I,g=D,v=N;return B(),E(v,{ref_key:"popupRef",ref:r,width:"370px",async:"","show-close":!1,"cancel-button-text":"","confirm-button-text":"","header-class":"!p-0","footer-class":"!p-0",style:{padding:"0","border-radius":"32px"}},{default:d(()=>[o("div",L,[o("div",{class:"absolute w-6 h-6 right-4 top-4 z-20 cursor-pointer",onClick:p},[c(x)]),e[4]||(e[4]=o("div",{class:"bg"},[o("img",{src:S,class:"h-[200px] w-full object-cover"})],-1)),o("div",U,[e[2]||(e[2]=o("div",{class:"text-[20px]"},"Coze令牌配置",-1)),e[3]||(e[3]=o("div",{class:"text-xs text-[#0000004d] mt-4"}," 用于与 Coze 服务进行鉴权的 Bearer Token，请确保令牌具有所需的权限范围，粘贴后系统会进行格式校验。 ",-1)),o("div",j,[c(k,{modelValue:n(s).secret_token,"onUpdate:modelValue":e[0]||(e[0]=b=>n(s).secret_token=b),class:"!h-[50px]",placeholder:"请输入Coze的Token",clearable:""},null,8,["modelValue"])]),o("div",q,[c(g,{type:"primary",class:"w-full !h-[50px] !rounded-full shadow-[0_6px_12px_0_#0065fb33]",loading:n(f),onClick:n(m)},{default:d(()=>[...e[1]||(e[1]=[F(" 立即保存 ",-1)])]),_:1},8,["loading","onClick"])])])])]),_:1},512)}}});const J=R(G,[["__scopeId","data-v-86fdcb0f"]]);export{J as default};

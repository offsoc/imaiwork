import{d as u,r as c,D as m,k as f,I as p,Z as h,G as v}from"./entry.2beb4577.js";import{a as _}from"./agent.a3fcedc5.js";import w from"./index.9dd5a9a5.js";const k=u({__name:"coze-flow-chat",props:{cozeId:{},detail:{},conversationId:{}},emits:["new-conversation"],setup(a,{emit:r}){const n=a,i=r,o=c({}),s=c(!1),l=async e=>{if(!e){o.value={};return}s.value=!0;try{const{lists:t}=await _({bot_id:n.cozeId,type:2,conversation_id:e,page_size:1});o.value=t.length?t[0]:{}}catch(t){v.msgError(t||"发生错误")}finally{s.value=!1}},d=e=>{i("new-conversation",{id:e.conversation_id,title:"工作流运行结果",...e})};return m(()=>n.conversationId,e=>{l(e||"")},{immediate:!0}),(e,t)=>(f(),p(w,{detail:a.detail,result:h(o),onSuccess:d},null,8,["detail","result"]))}});export{k as _};

import{d as u,r as n,D as m,k as f,I as p,Z as h,G as _}from"./entry.46557796.js";import{a as v}from"./agent.a3fcedc5.js";import w from"./index.6e1b3fca.js";const k=u({__name:"coze-flow-chat",props:{cozeId:{},detail:{},conversationId:{}},emits:["new-conversation"],setup(r,{emit:c}){const a=r,i=c,o=n({}),s=n(!1),l=async e=>{if(!e){o.value={};return}s.value=!0;try{const{lists:t}=await v({bot_id:a.cozeId,type:2,conversation_id:e,page_size:1});o.value=t.length?t[0]:{}}catch(t){_.msgError(t||"发生错误")}finally{s.value=!1}},d=e=>{i("new-conversation",{id:e.conversation_id,title:"工作流运行结果",...e})};return m(()=>a.conversationId,e=>{l(e||"")},{immediate:!0}),(e,t)=>(f(),p(w,{detail:e.detail,result:h(o),onSuccess:d},null,8,["detail","result"]))}});export{k as _};

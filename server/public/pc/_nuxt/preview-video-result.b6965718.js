import{d as S,r as d,aF as q,eh as z,A,k as t,l as s,q as c,s as K,m as i,aI as g,Z as n,J as h,K as O,L as x,cP as T,I as k,aH as b,G,y as J,cQ as Q,_ as U}from"./entry.d9d53b29.js";import{_ as W}from"./index.vue.3e248b2d.js";import{E as Z}from"./el-empty.03c7f5cd.js";import{_ as M}from"./index.vue.9f493129.js";import{u as X}from"./usePaging.64764a63.js";import{b as Y,v as ee}from"./redbook.f03a8b74.js";import te from"./dh-video-card.2a55cca7.js";import oe from"./edit.6a38fd68.js";import{E as se}from"./index.01064705.js";import"./index.vue.1675bfa5.js";import"./handle-menu.vue.89322cf0.js";import"./index.890e9d1e.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./position.0f08d59c.js";import"./throttle.cbb177ea.js";import"./debounce.39f38609.js";const ie={class:"rounded-xl overflow-hidden flex flex-col -my-2"},ne={class:"flex items-center justify-between h-[50px] px-4"},ae={class:"flex items-center gap-x-2"},le={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[#ffffff1a]"},re=["infinite-scroll-disabled"],ce={class:"h-full p-4"},de={key:0},pe={class:"grid grid-cols-3 gap-2 p-2"},_e={class:"cursor-pointer bg-black w-full relative h-[248px] flex flex-col overflow-hidden rounded-xl group"},fe={key:0,class:"text-white text-center text-xs w-full py-4"},me={key:1,class:"h-full flex items-center justify-center"},ue=S({__name:"preview-video-result",emits:["close"],setup(ve,{expose:E,emit:P}){const V=P,w=d(),p=q({type:z.REDBOOK,page_no:1,page_size:20,video_setting_id:""}),{pager:a,getLists:y,resetPage:R}=X({fetchFun:Y,params:p,isScroll:!0}),C=async()=>{p.page_no+=1,await y()},D=async o=>{var e;(e=w.value)==null||e.open(),p.video_setting_id=o,y()},_=()=>{V("close")},f=d(!1),m=d(),I=async o=>{f.value=!0,await b(),m.value.open(),m.value.setFormData(o)},L=async({id:o})=>{try{await ee({id:o});const e=a.lists.findIndex(l=>l.id===o);a.lists.splice(e,1)}catch(e){G.msgWarning(e)}},u=d(!1),v=A(),$=async o=>{var e,l;u.value=!0,await b(),(e=v.value)==null||e.open(),(l=v.value)==null||l.setUrl(o)};return E({open:D,close:_}),(o,e)=>{const l=J,B=W,F=Z,j=M,H=Q,N=se;return t(),s(h,null,[c(T,{ref_key:"popupRef",ref:w,width:"628px",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"cancel-button-text":"","confirm-button-text":"","show-close":!1,onClose:_},{default:K(()=>[i("div",ie,[i("div",ne,[i("div",ae,[i("div",le,[c(l,{name:"local-icon-windows",size:14})]),e[3]||(e[3]=i("div",{class:"text-[20px] text-white font-bold"},"视频列表",-1))]),i("div",{class:"w-6 h-6",onClick:_},[c(B)])]),g((t(),s("div",{class:"h-[600px] overflow-y-auto relative dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!n(a).isLoad,"infinite-scroll-distance":10},[g((t(),s("div",ce,[n(a).lists.length>0?(t(),s("div",de,[i("div",pe,[(t(!0),s(h,null,O(n(a).lists,r=>(t(),s("div",{key:r.id},[i("div",_e,[c(te,{item:r,onEdit:I,onDelete:L,onPreview:$},null,8,["item","onPreview"])])]))),128))]),n(a).isLoad?x("",!0):(t(),s("div",fe," 暂无更多了~ "))])):(t(),s("div",me,[c(F,{description:"暂无数据"})]))])),[[H,n(a).loading]])],8,re)),[[N,C]])])]),_:1},512),n(f)?(t(),k(oe,{key:0,ref_key:"editPopupRef",ref:m,onClose:e[0]||(e[0]=r=>f.value=!1),onSuccess:e[1]||(e[1]=r=>n(R)())},null,512)):x("",!0),n(u)?(t(),k(j,{key:1,ref_key:"previewVideoRef",ref:v,onClose:e[2]||(e[2]=r=>u.value=!1)},null,512)):x("",!0)],64)}}});const Fe=U(ue,[["__scopeId","data-v-ad8e2734"]]);export{Fe as default};

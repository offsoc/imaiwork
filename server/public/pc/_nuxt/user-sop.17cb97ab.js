import{d as M,r as b,A as D,k as l,l as i,q as t,s as r,Z as a,m as e,t as h,J as g,K as E,Y as C,I,L as d,v as x,aH as P,y as S,ax as G,_ as K}from"./entry.46557796.js";import{E as O}from"./index.c76cd001.js";import{E as U}from"./el-image.663be0a1.js";import{_ as j}from"./index.vue.4fd7b3ea.js";import{_ as q}from"./index.vue.7b7084b3.js";/* empty css               */import"./el-image-viewer.4c392e93.js";import{_ as H}from"./date.95a59cef.js";import{s as J,a as X}from"./vue-virtual-scroller.esm.8ca1e3b0.js";/* empty css                             */import{MaterialTypeEnum as v}from"./index.cf59f1a8.js";import{_ as Y}from"./mini-program-card.vue.7cccd646.js";import{_ as Z}from"./link-card.vue.fa6a35e1.js";import{_ as Q}from"./file-card.vue.6c632466.js";import"./position.bb07cf08.js";import"./throttle.f2fe0ca7.js";import"./debounce.22e3311f.js";const W={class:"flex flex-col gap-4 mb-4 pb-4"},ss={class:"flex items-center gap-2"},es={class:"text-primary font-bold"},ts={class:"absolute top-0 left-0 bg-primary rounded-tl-xl rounded-br-xl"},os={class:"flex items-center gap-2 px-3 py-1"},ls={class:"text-white text-xs"},is={class:"text-white text-xs"},ns={class:"absolute right-2 top-2 z-20"},as={class:"absolute right-2 bottom-2 text-[#474747]"},rs={key:0,class:"text-xs text-[#8A8C99] line-clamp-2 content-wrapper"},ds={class:"w-[80px] flex-shrink-0"},_s={class:"mt-[3px]"},cs={key:1,class:"content-wrapper"},ps={class:"w-[80px] flex-shrink-0"},ms={key:2,class:"content-wrapper"},fs={class:"w-[80px] flex-shrink-0"},us={class:"flex-1 relative"},xs=["src"],vs=["onClick"],hs={key:3,class:"content-wrapper"},ks={class:"w-[80px] flex-shrink-0"},ws={class:"w-[50%] h-[300px]"},ys={key:4,class:"content-wrapper"},gs={class:"w-[80px] flex-shrink-0"},$s={class:"w-[50%]"},bs={key:5,class:"content-wrapper"},Es={class:"w-[80px] flex-shrink-0"},Cs={key:1,class:"h-full flex items-center justify-center mt-4 text-gray-500"},Is=M({__name:"user-sop",props:{list:{}},emits:["edit","delete"],setup(Vs,{emit:V}){const z=V,p=b([]),F=(c,s)=>{p.value.includes(`${c}-${s}`)?p.value=p.value.filter(_=>_!==`${c}-${s}`):p.value.push(`${c}-${s}`)},w=b(!1),y=D(),T=async c=>{var s,_;w.value=!0,await P(),(s=y.value)==null||s.open(),(_=y.value)==null||_.setUrl(c)};return(c,s)=>{const _=S,$=G,m=O,B=U,N=j,R=q;return l(),i(g,null,[t(a(X),{items:c.list,"min-item-size":100,"key-field":"date"},{default:r(({item:f,index:zs,active:A})=>[t(a(J),{item:f,active:A,"size-dependencies":[f.date,f.log]},{default:r(()=>[e("div",W,[e("div",ss,[s[1]||(s[1]=e("img",{src:H,class:"w-6 h-6"},null,-1)),e("span",es,h(f.date),1)]),(l(!0),i(g,null,E(f.log,(n,k)=>(l(),i("div",{key:k,class:C(["border border-solid border-primary-light-9 rounded-xl p-4 min-h-[100px] relative pt-10",{"bg-[#F3F3F3]":n.status!=0}])},[e("div",ts,[e("div",os,[t(_,{name:"local-icon-send_plane_fill",color:"#fff"}),e("span",ls,h(n.push_real_time),1),e("span",is," ("+h(n.status==0?"待推送":n.status==1?"推送成功":"推送失败")+") ",1)])]),e("div",ns,[n.status!=0?(l(),I($,{key:0,type:"danger",size:"small",onClick:o=>z("delete",n.id)},{default:r(()=>[t(_,{name:"el-icon-Delete",color:"#fff"}),s[2]||(s[2]=e("span",{class:"text-white text-xs"},"删除",-1))]),_:2,__:[2]},1032,["onClick"])):d("",!0),t($,{type:"primary",size:"small",onClick:o=>F(n.id,k)},{default:r(()=>[t(_,{name:"el-icon-Fold",color:"#fff"}),s[3]||(s[3]=e("span",{class:"text-white text-xs"},"折叠/展开",-1))]),_:2,__:[3]},1032,["onClick"])]),e("div",as,"来源："+h(n.push_name),1),n.content?(l(),i("div",{key:0,class:C(["h-full flex flex-col gap-2 overflow-hidden transition-all duration-500 ease-in-out transform origin-top mb-4",[a(p).includes(`${n.id}-${k}`)?"opacity-0 max-h-0 scale-y-95":"opacity-100 max-h-[2000px] scale-y-100"]])},[(l(!0),i(g,null,E(n.content,({content:o,type:u},L)=>(l(),i("div",{key:L},[u==a(v).TEXT?(l(),i("div",rs,[e("div",ds,[t(m,null,{default:r(()=>s[4]||(s[4]=[x("【文本】",-1)])),_:1,__:[4]})]),e("span",_s,h(o),1)])):d("",!0),u==a(v).IMAGE?(l(),i("div",cs,[e("div",ps,[t(m,null,{default:r(()=>s[5]||(s[5]=[x("【图片】",-1)])),_:1,__:[5]})]),t(B,{src:o,"preview-src-list":[o],"preview-teleported":"",class:"w-[50%] rounded-xl"},null,8,["src","preview-src-list"])])):d("",!0),u==a(v).VIDEO?(l(),i("div",ms,[e("div",fs,[t(m,null,{default:r(()=>s[6]||(s[6]=[x("【视频】",-1)])),_:1,__:[6]})]),e("div",us,[e("video",{src:o,class:"w-full rounded-lg"},null,8,xs),e("div",{class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]",onClick:Fs=>T(o)},[t(N)],8,vs)])])):d("",!0),u==a(v).MINI_PROGRAM?(l(),i("div",hs,[e("div",ks,[t(m,null,{default:r(()=>s[7]||(s[7]=[x("【小程序】",-1)])),_:1,__:[7]})]),e("div",ws,[t(Y,{title:o.name,pic:o.pic,link:o.link},null,8,["title","pic","link"])])])):d("",!0),u==a(v).LINK?(l(),i("div",ys,[e("div",gs,[t(m,null,{default:r(()=>s[8]||(s[8]=[x("【链接】",-1)])),_:1,__:[8]})]),e("div",$s,[t(Z,{title:o.name,desc:o.desc,img:o.img},null,8,["title","desc","img"])])])):d("",!0),u==a(v).FILE?(l(),i("div",bs,[e("div",Es,[t(m,null,{default:r(()=>s[9]||(s[9]=[x("【文件】",-1)])),_:1,__:[9]})]),t(Q,{name:o.name,url:o.url,"icon-size":32},null,8,["name","url"])])):d("",!0)]))),128))],2)):d("",!0),a(p).includes(`${n.id}-${k}`)?(l(),i("div",Cs," 内容被折叠 ")):d("",!0)],2))),128))])]),_:2},1032,["item","active","size-dependencies"])]),_:1},8,["items"]),a(w)?(l(),I(R,{key:0,ref_key:"previewVideoRef",ref:y,onClose:s[0]||(s[0]=f=>w.value=!1)},null,512)):d("",!0)],64)}}});const Js=K(Is,[["__scopeId","data-v-0b0f8cb2"]]);export{Js as default};

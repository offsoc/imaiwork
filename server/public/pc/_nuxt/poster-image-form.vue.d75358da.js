import{d as L,at as M,c as N,aF as G,D as B,aW as W,G as _,bb as H,k as f,l as v,q as o,s as a,m as u,Z as l,v as y,J as O,K as z,I as x,L as I,aI as T,ax as $,av as q,au as P,y as J,ba as K,ay as Z}from"./entry.2beb4577.js";import{E as Q,a as X}from"./index.4d719c96.js";import{E as Y}from"./el-switch.be9dc874.js";import{E as j}from"./index.47b30189.js";/* empty css                  *//* empty css               *//* empty css                     */import{_ as ee}from"./resolution-select.vue.23ab80b1.js";import{ModelEnum as i}from"./index.fb0aa6a9.js";const te={class:"h-full"},le={class:"p-4"},oe={class:"flex justify-between items-center"},se={class:"flex items-center justify-between w-full border border-app-border-2 rounded-lg bg-app-bg-3 px-3 h-11"},ae={class:"flex items-center gap-2 text-white"},ge=L({__name:"poster-image-form",emits:["update:formData","generatePrompt"],setup(ne,{expose:A,emit:D}){const R=D,k=M(),g=N(()=>{var n;return(n=k.getHdConfig)==null?void 0:n.channel.filter(t=>[i.GENERAL,i.HIDREAMAI,i.SEEDREAM].includes(parseInt(t.id))).map(t=>({...t,id:parseInt(t.id)}))}),e=G({model:"",poster_type:"",poster_color:"",poster_title:"",poster_subtitle:"",poster_description:"",use_sr:!0,resolution:"",width:"",height:"",img_count:1}),S=()=>{e.poster_type="VLOG视频封面",e.poster_color="马卡龙配色",e.poster_title="威海旅游vlog",e.poster_subtitle="特种兵一日游 被低估的旅游城市",e.poster_description="是一个穿着短裙、梳双马尾的少女，人物白色描边"},C=n=>{e.model==i.GENERAL&&(e.img_count=1)},U=n=>{e.width=n.width,e.height=n.height,e.resolution=n.label};return B(()=>g.value,n=>{n.length>0&&(e.model=n[0].id)},{immediate:!0}),W(()=>{R("update:formData",e)}),A({getFormData:()=>{var c;const{width:n,height:t,use_sr:E,poster_type:b,poster_color:h,poster_title:r,poster_subtitle:m,poster_description:w,model:p}=e;let d={prompt:"",poster_type:b,poster_color:h,poster_title:r,poster_subtitle:m,poster_description:w,model:p};return p==i.HIDREAMAI?d={...d,negative_prompt:"",img_count:e.img_count,aspect_ratio:e.resolution}:(p==i.GENERAL||p==i.SEEDREAM)&&(d={...d,use_sr:`${E}`,width:n,height:t}),{params:d,model:p,model_name:(c=g.value.find(V=>V.id==p))==null?void 0:c.name}},validateForm:()=>new Promise((n,t)=>{if(e.poster_type)if(e.poster_color)if(e.poster_title)if(e.poster_subtitle)if(e.poster_description)n(!0);else{_.msgWarning("请输入海报主题描述"),t(!1);return}else{_.msgWarning("请输入海报副标题"),t(!1);return}else{_.msgWarning("请输入海报主标题"),t(!1);return}else{_.msgWarning("请输入海报配色"),t(!1);return}else{_.msgWarning("请输入海报类型"),t(!1);return}})}),(n,t)=>{const E=$,b=Q,h=X,r=q,m=P,w=J,p=Y,d=K,c=Z,V=j,F=H("number-input");return f(),v("div",te,[o(V,null,{default:a(()=>[u("div",le,[o(c,{model:l(e),"label-position":"top"},{default:a(()=>[o(r,null,{label:a(()=>[u("div",oe,[t[9]||(t[9]=u("span",null,"生成模型",-1)),o(E,{link:"",class:"!text-[#ffffff80]",onClick:S},{default:a(()=>[...t[8]||(t[8]=[y("填入示例",-1)])]),_:1})])]),default:a(()=>[o(h,{modelValue:l(e).model,"onUpdate:modelValue":t[0]||(t[0]=s=>l(e).model=s),class:"!h-11","popper-class":"dark-select-popper",placeholder:"请选择模型名称","show-arrow":!1,onChange:C},{default:a(()=>[(f(!0),v(O,null,z(l(g),s=>(f(),x(b,{label:s.name,value:s.id,key:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"海报类型"},{default:a(()=>[o(m,{modelValue:l(e).poster_type,"onUpdate:modelValue":t[1]||(t[1]=s=>l(e).poster_type=s),placeholder:"VLOG视频封面",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(r,{label:"海报配色"},{default:a(()=>[o(m,{modelValue:l(e).poster_color,"onUpdate:modelValue":t[2]||(t[2]=s=>l(e).poster_color=s),placeholder:"马卡龙配色",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(r,{label:"海报主标题"},{default:a(()=>[o(m,{modelValue:l(e).poster_title,"onUpdate:modelValue":t[3]||(t[3]=s=>l(e).poster_title=s),placeholder:"威海旅游vlog",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(r,{label:"海报副标题"},{default:a(()=>[o(m,{modelValue:l(e).poster_subtitle,"onUpdate:modelValue":t[4]||(t[4]=s=>l(e).poster_subtitle=s),placeholder:"特种兵一日游 被低估的旅游城市",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(r,{label:"海报主题描述"},{default:a(()=>[o(m,{modelValue:l(e).poster_description,"onUpdate:modelValue":t[5]||(t[5]=s=>l(e).poster_description=s),type:"textarea",resize:"none",autosize:{minRows:4,maxRows:10},placeholder:"是一个穿着短裙、梳双马尾的少女，人物白色描边",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(e).model==l(i).GENERAL?(f(),x(r,{key:0},{default:a(()=>[o(d,{placement:"right","popper-class":"w-[228px]",content:"开启后可将【生成规格】中的宽高均乘以2返回，如上述宽高均为512和512，此参数关闭出图 512*512 ，此参数打开出图1024 * 1024"},{default:a(()=>[u("div",se,[u("div",ae,[t[10]||(t[10]=y(" 超分辨率生成 ",-1)),o(w,{name:"local-icon-question",size:16})]),o(p,{modelValue:l(e).use_sr,"onUpdate:modelValue":t[6]||(t[6]=s=>l(e).use_sr=s)},null,8,["modelValue"])])]),_:1})]),_:1})):I("",!0),o(r,null,{label:a(()=>[...t[11]||(t[11]=[u("div",{class:"flex items-center gap-2 text-white"},[u("span",null,"生成模型")],-1)])]),default:a(()=>[o(ee,{model:l(e).model,"onUpdate:resolution":U},null,8,["model"])]),_:1}),l(e).model==l(i).HIDREAMAI?(f(),x(r,{key:1,label:"生成张数"},{default:a(()=>[T(o(m,{modelValue:l(e).img_count,"onUpdate:modelValue":t[7]||(t[7]=s=>l(e).img_count=s),min:"1",max:"4",type:"number",class:"!h-11"},null,8,["modelValue"]),[[F,{decimal:0}]])]),_:1})):I("",!0)]),_:1},8,["model"])])]),_:1})])}}});export{ge as _};

import{d as h,as as M,x as I,A as B,r as _,k as y,l as T,m as t,q as o,s as i,v as f,Z as D,I as N,L as R,J as $,aH as F,au as S,aw as U,ax as j,_ as q}from"./entry.2beb4577.js";import{E as z,a as A}from"./index.6beaca44.js";import{E as H}from"./el-empty.bc763313.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import J from"./menu-edit.1f3417c3.js";import"./index.47b30189.js";import"./_baseIteratee.70cb6d8d.js";import"./debounce.dd7f88c1.js";import"./toNumber.c824a4a2.js";import"./index.9d200730.js";import"./raf.c0777355.js";import"./index.vue.478e85a5.js";import"./el-image.a83bf837.js";import"./el-image-viewer.d11cc27b.js";import"./throttle.403d4771.js";import"./index.3d6ad44d.js";import"./index.e8be04c0.js";import"./index.a9d48d33.js";import"./cloneDeep.a23e4277.js";/* empty css                  *//* empty css                    *//* empty css                  */const L={class:"h-full flex flex-col px-[30px] py-6"},P={class:"flex flex-col gap-3"},Z={class:"flex items-center justify-between gap-x-23"},G={class:"grow min-h-0 mt-3 flex flex-col border border-[var(--el-border-color)] rounded-lg"},K=h({__name:"index",props:M({agentId:{default:""},modelValue:{default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(E,{expose:g}){const l=I(E,"modelValue"),m=B(),p=_(!1),c=_(-1),v=async(n,e)=>{var d,r;p.value=!0,await F();const s=n?"edit":"add";(d=m.value)==null||d.open(s),n&&((r=m.value)==null||r.setFormData(n),c.value=e)},w=n=>{l.value.menus.splice(n,1)},b=n=>{const{type:e,data:s}=n;e==="add"?l.value.menus.push(s):l.value.menus[c.value]=s};return g({validate:()=>Promise.resolve()}),(n,e)=>{const s=S,d=U,r=j,u=z,k=H,V=A;return y(),T($,null,[t("div",L,[t("div",P,[t("div",null,[e[4]||(e[4]=t("div",{class:"font-bold"},"欢迎语",-1)),e[5]||(e[5]=t("div",{class:"form-tips"}," 打开聊天窗口后会主动发送，添加双井号可添加提问示例，例如：#帮我写一则关于xxx的文案#多个问题请用回车换行。 ",-1)),o(s,{class:"mt-3",modelValue:l.value.welcome_introducer,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.welcome_introducer=a),type:"textarea",placeholder:"请输入文字内容 ...",resize:"none",maxlength:500,rows:4},null,8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("div",{class:"font-bold"},"底部标识",-1)),o(s,{class:"mt-3 !h-11",modelValue:l.value.copyright,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.copyright=a),placeholder:"请输入文字内容 ...",maxlength:100},null,8,["modelValue"])])]),o(d,{class:"!border-[#0000000d]"}),t("div",Z,[e[8]||(e[8]=t("div",null,[t("div",{class:"font-bold"},"菜单设置"),t("div",{class:"form-tips"},"用户点击菜单后，将回复对应内容。此类消息不消耗余额。")],-1)),o(r,{type:"primary",onClick:e[2]||(e[2]=a=>v())},{default:i(()=>[...e[7]||(e[7]=[f("添加菜单",-1)])]),_:1})]),t("div",G,[o(V,{height:"100%",data:l.value.menus,stripe:"","header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:i(()=>[o(k,{description:"暂无数据"})]),default:i(()=>[o(u,{label:"关键词",prop:"keyword","min-width":"60","show-overflow-tooltip":""}),o(u,{label:"回复内容",prop:"content","min-width":"200","show-overflow-tooltip":""}),o(u,{label:"操作",width:"100"},{default:i(({row:a,$index:x})=>[o(r,{link:"",type:"primary",onClick:C=>v(a,x)},{default:i(()=>[...e[9]||(e[9]=[f("编辑",-1)])]),_:1},8,["onClick"]),o(r,{link:"",type:"danger",onClick:C=>w(x)},{default:i(()=>[...e[10]||(e[10]=[f("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])]),D(p)?(y(),N(J,{key:0,ref_key:"menuEditRef",ref:m,onClose:e[3]||(e[3]=a=>p.value=!1),onSuccess:b},null,512)):R("",!0)],64)}}});const ge=q(K,[["__scopeId","data-v-5141ce78"]]);export{ge as default};

import{d as H,r as L,A as M,k as t,l as s,q as n,s as p,m as o,t as f,J as d,K as m,L as c,Z as v,Y as x,a0 as w,H as N,I as S,cy as k,y as q,ba as J,aH as K,_ as P}from"./entry.ca4d3d61.js";import{E as U}from"./el-image.a5590741.js";import{_ as Y}from"./index.vue.9b80d373.js";import"./el-image-viewer.c57baf7b.js";import{u as Z}from"./useCopy.282b5c74.js";import{_ as G}from"./index.vue.fa049f69.js";import{ModelEnum as O}from"./index.fb0aa6a9.js";import"./throttle.da389ed1.js";import"./debounce.bdbfd9e6.js";import"./toNumber.33289b44.js";const Q={class:"flex flex-col gap-2 items-center justify-center"},W={class:"text-white mt-4 text-lg font-bold"},X={class:"flex flex-col gap-5 min-w-[700px]"},ee={class:"text-white"},te={class:"flex flex-wrap items-center gap-2 mt-[11px]"},se={key:0,class:"tag-item"},oe={key:0,class:"mt-[11px] flex items-center gap-2"},le={class:"text-[#ffffffcc]"},ne=["onClick"],ie={key:0,class:"leading-[0] flex items-center justify-center"},ae={key:0,class:"absolute rounded-lg bg-[#000000a3] py-[2px] px-2 top-2 right-2 z-[22] w-fit gap-2 group-hover:visible invisible"},re=["onClick"],ce={key:1,class:"w-full pb-[80%]"},de={class:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},ue={class:"absolute rounded-lg bg-[#000000a3] py-[2px] px-2 top-2 right-2 z-[22] w-fit gap-2 group-hover:visible invisible"},pe=["onClick"],fe=["src"],_e={class:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},me=["onClick"],ve={key:1,class:"absolute bottom-4 left-4 z-[888]"},he={class:"text-white"},ye={key:2,class:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},ge={key:1,class:"mt-4 flex gap-x-4 h-[20px]"},xe=["onClick"],we=["onClick"],ke=H({__name:"result-content",props:{type:{default:"image"},resultLists:{},isAllTasksCompleted:{type:Boolean}},emits:["retry"],setup(u,{emit:z}){const b=u,D=z,{copy:j}=Z(),I=i=>i==O.HIDREAMAI,h=L(!1),y=M(),T=i=>{if(b.type=="image"){const{images:r}=i;r.length&&r.forEach(a=>{k(a.url)})}else b.type=="video"},V=async i=>{var r,a;h.value=!0,await K(),(r=y.value)==null||r.open(),(a=y.value)==null||a.setUrl(i)};let C;const R={setup(i,{slots:r}){return()=>{C=r.default}}},F=i=>C(i);return(i,r)=>{const a=q,_=J,A=U,B=Y;return t(),s(d,null,[n(R,null,{default:p(({msg:l})=>[o("div",Q,[n(a,{name:"local-icon-error_fill",size:32}),o("div",W,f(l||"生成失败"),1)])]),_:1}),o("div",X,[(t(!0),s(d,null,m(u.resultLists,l=>{var $,E;return t(),s("div",null,[o("div",ee,f(l.date),1),o("div",te,[(t(!0),s(d,null,m(l.tags,e=>(t(),s(d,null,[e?(t(),s("div",se,f(e),1)):c("",!0)],64))),256))]),l.prompt?(t(),s("div",oe,[o("span",le,f(l.prompt),1),o("span",{class:"cursor-pointer",onClick:e=>v(j)(l.prompt)},[n(a,{name:"local-icon-copy2"})],8,ne)])):c("",!0),o("div",{class:x(["mt-[11px] gap-[10px] grid",`grid-cols-${(($=l.images)==null?void 0:$.length)||((E=l.video)==null?void 0:E.length)||4}`])},[u.type=="image"?(t(!0),s(d,{key:0},m(l.images,(e,g)=>(t(),s("div",{key:g,class:x(["img-container group",{"pb-[100%] loading":e.loading}])},[!e.loading&&e.status==1?(t(),s("div",ie,[I(l.formData.model)?(t(),s("div",ae,[n(_,{content:"下载",placement:"top"},{default:p(()=>[o("div",{class:"w-7 h-7 flex items-center justify-center cursor-pointer",onClick:w(be=>("downloadFile"in i?i.downloadFile:v(k))(e.url),["stop"])},[n(a,{name:"el-icon-Download",size:16,color:"#ffffff"})],8,re)]),_:2},1024)])):c("",!0),n(A,{fit:"contain",class:"rounded-xl","preview-teleported":"",src:e.url,"preview-src-list":[e.url]},null,8,["src","preview-src-list"]),N(i.$slots,"add-content",{item:l},void 0,!0)])):[3,4].includes(e.status)?(t(),s("div",ce,[o("div",de,[n(F)])])):c("",!0)],2))),128)):c("",!0),u.type=="video"?(t(!0),s(d,{key:1},m(l.video,e=>(t(),s("div",{class:x(["video-container h-[500px] group relative",{"pb-[80%] loading":e.loading}])},[e.status==1?(t(),s(d,{key:0},[o("div",ue,[n(_,{content:"下载",placement:"top"},{default:p(()=>[o("div",{class:"w-7 h-7 flex items-center justify-center cursor-pointer",onClick:w(g=>("downloadFile"in i?i.downloadFile:v(k))(e.url),["stop"])},[n(a,{name:"el-icon-Download",size:16,color:"#ffffff"})],8,pe)]),_:2},1024)]),o("video",{src:e.url,class:"w-full h-full object-cover"},null,8,fe),o("div",_e,[o("div",{class:"cursor-pointer",onClick:w(g=>V(e.url),["stop"])},[n(B)],8,me)])],64)):e.status==50430?(t(),s("div",ve,[o("div",he,f(e.msg),1)])):e.status!=2&&e.status!=0?(t(),s("div",ye,[n(F,{msg:e.msg},null,8,["msg"])])):c("",!0)],2))),256)):c("",!0)],2),u.isAllTasksCompleted?c("",!0):(t(),s("div",ge,[n(_,{content:"重新生成",placement:"bottom"},{default:p(()=>[o("div",{class:"flex cursor-pointer",onClick:e=>D("retry",l.formData)},[n(a,{name:"el-icon-Refresh",size:16,color:"#8F8F8F"})],8,xe)]),_:2},1024),n(_,{content:"下载",placement:"bottom"},{default:p(()=>[o("div",{class:"flex cursor-pointer",onClick:e=>T(l)},[n(a,{name:"el-icon-Download",size:16,color:"#8F8F8F"})],8,we)]),_:2},1024)]))])}),256))]),v(h)?(t(),S(G,{key:0,ref_key:"previewVideoRef",ref:y,onClose:r[0]||(r[0]=l=>h.value=!1)},null,512)):c("",!0)],64)}}});const Re=P(ke,[["__scopeId","data-v-a8abe993"]]);export{Re as default};

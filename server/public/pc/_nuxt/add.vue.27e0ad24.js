import{d as V,r as c,aF as x,bC as D,k as C,I as h,s as i,q as d,Z as m,bM as u,m as B,v as E,ax as b}from"./entry.f4f46cb5.js";import{E as R}from"./index.d7101a01.js";/* empty css                  */import{R as S}from"./person_wechat.703f63bb.js";import Y from"./circle-send.a8d42238.js";const g={class:"absolute bottom-0 right-0 p-4"},U=V({__name:"add",emits:["close","success"],setup(M,{expose:f,emit:_}){const n=_,s=c(!1),o=x({id:"",content:"",task_type:0,attachment_type:-1,attachment_content:null,comment:"",send_time:D().add(30,"minute").format("YYYY-MM-DD HH:mm:ss"),wechat_ids:[]}),l=c(null),p=()=>{s.value=!0},r=()=>{s.value=!1,n("close")},v=async t=>{const e=await S({id:t});w(e),l.value.setAssetData(e)},w=async t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e]);t.wechat_id&&(o.wechat_ids=[t.wechat_id])};return f({open:p,getDetail:v}),(t,e)=>{const k=b,y=R;return C(),h(y,{modelValue:m(s),"onUpdate:modelValue":e[2]||(e[2]=a=>u(s)?s.value=a:null),title:"",size:"470px","with-header":!1,class:"task-add-drawer relative",onClose:r},{default:i(()=>[d(Y,{modelValue:m(o),"onUpdate:modelValue":e[0]||(e[0]=a=>u(o)?o.value=a:null),ref_key:"circleSendRef",ref:l,onSuccess:e[1]||(e[1]=a=>{n("success"),s.value=!1})},null,8,["modelValue"]),B("div",g,[d(k,{onClick:r},{default:i(()=>[...e[3]||(e[3]=[E("取消",-1)])]),_:1})])]),_:1},8,["modelValue"])}}});export{U as _};

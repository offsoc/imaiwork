import{d as B,c as C,r as h,aW as V,l as x,m as l,q as g,s as $,Z as e,bM as y,$ as D,I as z,al as N,aq as K,Y as w,J as S,K as j,au as q,k as m,t as G,y as H,_ as J}from"./entry.f4f46cb5.js";import{_ as M}from"./conversation.vue.69584684.js";import R from"./friends.60e79cab.js";import{FriendPanelEnum as s}from"./index.cf59f1a8.js";import U from"./useHandle.560e2f4a.js";import"./el-avatar.df0828d8.js";import"./el-empty.28f9091a.js";import"./vue-virtual-scroller.esm.9a67c6dc.js";/* empty css                             */import"./person_wechat.703f63bb.js";const W={class:"w-full h-full bg-white flex flex-col"},Y={class:"flex-shrink-0 h-[58px] flex items-center px-2 relative z-20 border-b border-[#E5E5E5]"},Z={class:"h-full"},A={class:"h-[65px] shadow-lighter flex items-center flex-shrink-0"},O=["onClick"],Q={class:"mt-1"},T=B({__name:"friends-panel",props:{currentPanel:{default:s.Dialogue}},emits:["change-panel","change-friend","bottom-friend","bottom-conversation"],setup(I,{emit:E}){const L=I,p=E,{currentFriend:X,friendList:r,conversationList:c}=U(),t=C({get(){return L.currentPanel},set(n){p("change-panel",n)}}),d=h(""),F=C(()=>({[s.Dialogue]:{component:M,title:"对话",icon:"wx_dialogue",activeIcon:"wx_dialogue_active"},[s.Friend]:{component:R,title:"好友",icon:"wx_friends",activeIcon:"wx_friends_active"}})),f=h(c.value),_=h(r.value),b=()=>{const n=d.value.trim(),a=(u,v)=>u.filter(o=>o[v].includes(n));t.value===s.Dialogue?f.value=n?a(c.value,"ShowName"):c.value:t.value===s.Friend&&(_.value=n?a(r.value,"FriendNick"):r.value)},P=n=>{t.value=n},k=n=>{p("change-friend",n)};return V(()=>{f.value=c.value,_.value=r.value}),(n,a)=>{const u=H,v=q;return m(),x("div",W,[l("div",Y,[g(v,{modelValue:e(d),"onUpdate:modelValue":a[0]||(a[0]=o=>y(d)?d.value=o:null),placeholder:"搜索",class:"w-full !h-[32px]",clearable:"",onInput:b,onKeyup:D(b,["enter"])},{prepend:$(()=>[g(u,{name:"el-icon-Search",size:16})]),_:1},8,["modelValue"])]),l("div",{class:w(["grow min-h-0",{"bg-[#F7F7F7]":[e(s).Friend,e(s).Group].includes(e(t))}])},[l("div",Z,[(m(),z(K(e(F)[e(t)].component),N({conversationList:e(f),friendList:e(_)},{onBottomConversation:a[1]||(a[1]=o=>p("bottom-conversation")),onChangeFriend:k}),null,16))])],2),l("div",A,[(m(!0),x(S,null,j(e(F),(o,i)=>(m(),x("div",{class:"flex-1 flex items-center justify-center flex-col",key:i},[l("div",{class:w(["flex items-center justify-center flex-col cursor-pointer",{"text-[#07C160]":e(t)===i}]),onClick:ee=>P(i)},[g(u,{name:`local-icon-${e(t)===i?o.activeIcon:o.icon}`,color:e(t)===i?"#07C160":"#11170B",size:20},null,8,["name","color"]),l("span",Q,G(o.title),1)],10,O)]))),128))])])}}});const ue=J(T,[["__scopeId","data-v-da3b2b0a"]]);export{ue as default};

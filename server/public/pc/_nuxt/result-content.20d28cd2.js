import{d as A,r as B,A as H,k as t,l as o,q as r,s as p,m as s,t as u,J as d,K as f,L as i,Z as _,Y as g,a0 as w,H as L,I as $,y as M,b5 as N,cr as E,aH as S,_ as q}from"./entry.d7219633.js";import{E as J}from"./el-image.37ed17f2.js";import{_ as K}from"./index.vue.38c569b2.js";import"./el-image-viewer.960ba8e6.js";import{u as P}from"./useCopy.8e0a0b1f.js";import{_ as U}from"./index.vue.c82b4b26.js";import{ModelEnum as Y}from"./index.fb0aa6a9.js";import"./position.cb246d7d.js";import"./throttle.70466628.js";import"./debounce.085e8a4a.js";const Z={class:"flex flex-col gap-2 items-center justify-center"},G={class:"text-white mt-4 text-lg font-bold"},O={class:"flex flex-col gap-5 min-w-[700px]"},Q={class:"text-white"},W={class:"flex flex-wrap items-center gap-2 mt-[11px]"},X={key:0,class:"tag-item"},ee={key:0,class:"mt-[11px] flex items-center gap-2"},te={class:"text-[#ffffffcc]"},se=["onClick"],oe={key:0,class:"leading-[0] flex items-center justify-center"},le={key:0,class:"absolute rounded-lg bg-[#000000a3] py-[2px] px-2 top-2 right-2 z-[22] w-fit gap-2 group-hover:visible invisible"},ne=["onClick"],re={key:1,class:"w-full pb-[80%]"},ie={class:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},ae={class:"absolute rounded-lg bg-[#000000a3] py-[2px] px-2 top-2 right-2 z-[22] w-fit gap-2 group-hover:visible invisible"},ce=["onClick"],de=["src"],ue={class:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},pe=["onClick"],fe={key:1,class:"absolute bottom-4 left-4 z-[888]"},_e={class:"text-white"},me={key:2,class:"absolute top-0 left-0 w-full h-full flex items-center justify-center"},ve={class:"mt-4 flex h-[20px]"},he=["onClick"],ye=A({__name:"result-content",props:{type:{default:"image"},resultLists:{},isAllTasksCompleted:{type:Boolean}},emits:["retry"],setup(ge,{emit:F}){const j=F,{copy:z}=P(),D=l=>l==Y.HIDREAMAI,m=B(!1),v=H(),I=async l=>{var c,a;m.value=!0,await S(),(c=v.value)==null||c.open(),(a=v.value)==null||a.setUrl(l)};let k;const T={setup(l,{slots:c}){return()=>{k=c.default}}},x=l=>k(l);return(l,c)=>{const a=M,h=N,V=J,R=K;return t(),o(d,null,[r(T,null,{default:p(({msg:n})=>[s("div",Z,[r(a,{name:"local-icon-error_fill",size:32}),s("div",G,u(n||"生成失败"),1)])]),_:1}),s("div",O,[(t(!0),o(d,null,f(l.resultLists,n=>{var b,C;return t(),o("div",null,[s("div",Q,u(n.date),1),s("div",W,[(t(!0),o(d,null,f(n.tags,e=>(t(),o(d,null,[e?(t(),o("div",X,u(e),1)):i("",!0)],64))),256))]),n.prompt?(t(),o("div",ee,[s("span",te,u(n.prompt),1),s("span",{class:"cursor-pointer",onClick:e=>_(z)(n.prompt)},[r(a,{name:"local-icon-copy2"})],8,se)])):i("",!0),s("div",{class:g(["mt-[11px] gap-[10px] grid",`grid-cols-${((b=n.images)==null?void 0:b.length)||((C=n.video)==null?void 0:C.length)||4}`])},[l.type=="image"?(t(!0),o(d,{key:0},f(n.images,(e,y)=>(t(),o("div",{key:y,class:g(["img-container group",{"pb-[100%] loading":e.loading}])},[!e.loading&&e.status==1?(t(),o("div",oe,[D(n.formData.model)?(t(),o("div",le,[r(h,{content:"下载",placement:"top"},{default:p(()=>[s("div",{class:"w-7 h-7 flex items-center justify-center cursor-pointer",onClick:w(we=>("downloadFile"in l?l.downloadFile:_(E))(e.url),["stop"])},[r(a,{name:"el-icon-Download",size:16,color:"#ffffff"})],8,ne)]),_:2},1024)])):i("",!0),r(V,{fit:"contain",class:"rounded-xl","preview-teleported":"",src:e.url,"preview-src-list":[e.url]},null,8,["src","preview-src-list"]),L(l.$slots,"add-content",{item:n},void 0,!0)])):[3,4].includes(e.status)?(t(),o("div",re,[s("div",ie,[r(x)])])):i("",!0)],2))),128)):i("",!0),l.type=="video"?(t(!0),o(d,{key:1},f(n.video,e=>(t(),o("div",{class:g(["video-container h-[500px] group relative",{"pb-[80%] loading":e.loading}])},[e.status==1?(t(),o(d,{key:0},[s("div",ae,[r(h,{content:"下载",placement:"top"},{default:p(()=>[s("div",{class:"w-7 h-7 flex items-center justify-center cursor-pointer",onClick:w(y=>("downloadFile"in l?l.downloadFile:_(E))(e.url),["stop"])},[r(a,{name:"el-icon-Download",size:16,color:"#ffffff"})],8,ce)]),_:2},1024)]),s("video",{src:e.url,class:"w-full h-full object-cover"},null,8,de),s("div",ue,[s("div",{class:"cursor-pointer",onClick:w(y=>I(e.url),["stop"])},[r(R)],8,pe)])],64)):e.status==50430?(t(),o("div",fe,[s("div",_e,u(e.msg),1)])):e.status!=2&&e.status!=0?(t(),o("div",me,[r(x,{msg:e.msg},null,8,["msg"])])):i("",!0)],2))),256)):i("",!0)],2),s("div",ve,[l.isAllTasksCompleted?i("",!0):(t(),$(h,{key:0,content:"重新生成",placement:"bottom"},{default:p(()=>[s("div",{class:"flex cursor-pointer",onClick:e=>j("retry",n.formData)},[r(a,{name:"el-icon-Refresh",size:16,color:"#8F8F8F"})],8,he)]),_:2},1024))])])}),256))]),_(m)?(t(),$(U,{key:0,ref_key:"previewVideoRef",ref:v,onClose:c[0]||(c[0]=n=>m.value=!1)},null,512)):i("",!0)],64)}}});const Ie=q(ye,[["__scopeId","data-v-d35667fb"]]);export{Ie as default};

import{d as Y,aF as O,r as c,A as x,k as u,l as X,m as l,q as t,s as i,v as r,t as N,Z as s,aI as K,I as y,bM as L,L as I,J as q,aH as h,G as E,ax as Z,y as j,cW as z,u as _}from"./entry.ee599c70.js";import{E as $,a as ee}from"./index.ef8eb140.js";import{_ as te}from"./index.vue.33025166.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as se}from"./useCopy.793235b7.js";import{u as ne}from"./usePaging.5914886e.js";import{n as oe,o as le}from"./agent.e14901d7.js";import{_ as ae}from"./create-popup.vue.6edaa39e.js";import{_ as ie}from"./usage-setting.vue.dd763176.js";import{_ as re}from"./call-code.vue.582a01a3.js";const pe="data:image/png;base64,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",me={class:"h-full flex flex-col"},ue={class:"h-[78px] flex items-center justify-between px-[30px] gap-x-4"},de={class:"flex items-center gap-x-2"},fe={class:"grow min-h-0"},ge={class:"my-4 flex justify-center"},Fe=Y({__name:"api",props:{type:{},agentId:{}},emits:["close","success"],setup(d,{emit:F}){const f=d,J=F,B=_(),{copy:V}=se(),T=O({robot_id:f.agentId,type:f.type}),{pager:p,getLists:m}=ne({fetchFun:oe,params:T}),S=c(`${window.location.origin}/api/v1/chat/commonChat`),A=c(!1),Q=x(),D=async()=>{var n;A.value=!0,await h(),(n=Q.value)==null||n.open()},k=c(!1),w=x(),G=async n=>{k.value=!0,await h(),w.value.open(),n&&w.value.setFormData({...n,password:n.secret})},C=c(!1),v=x(),R=async n=>{var e,a;C.value=!0,await h(),(e=v.value)==null||e.open(),(a=v.value)==null||a.setFormData(n)},M=async n=>{await B.$confirm({message:"确定删除该数据吗？",onConfirm:async()=>{try{await le({id:n.id,type:f.type}),E.msgSuccess("删除成功"),m()}catch{E.msgWarning("删除失败")}}})};return m(),(n,e)=>{const a=Z,P=j,g=$,U=ee,W=te,H=z;return u(),X(q,null,[l("div",me,[l("div",ue,[l("div",de,[e[11]||(e[11]=l("img",{src:pe,class:"w-[50px] h-[50px] flex-shrink-0"},null,-1)),l("div",null,[t(a,{type:"primary",link:"",onClick:e[0]||(e[0]=o=>D())},{default:i(()=>[...e[8]||(e[8]=[r("调用说明",-1)])]),_:1}),l("div",null,[e[10]||(e[10]=r(" API根地址： ",-1)),l("span",null,N(s(S)),1),t(a,{onClick:e[1]||(e[1]=o=>s(V)(s(S))),type:"primary",link:""},{default:i(()=>[...e[9]||(e[9]=[r("复制",-1)])]),_:1})])])]),l("div",null,[t(a,{type:"primary",class:"!rounded-full !h-10",onClick:e[2]||(e[2]=o=>G())},{default:i(()=>[t(P,{name:"local-icon-add_circle"}),e[12]||(e[12]=l("span",{class:"ml-2"},"创建API",-1))]),_:1}),t(a,{class:"!rounded-full !h-10",onClick:e[3]||(e[3]=o=>J("close"))},{default:i(()=>[...e[13]||(e[13]=[r("取消",-1)])]),_:1})])]),l("div",fe,[K((u(),y(U,{data:s(p).lists,height:"100%",stripe:"","header-row-style":{height:"62px"},"row-style":{height:"60px"}},{default:i(()=>[t(g,{label:"APIkey",prop:"apikey","min-width":"200","show-overflow-tooltip":""}),t(g,{label:"分享名称",prop:"name","min-width":"180","show-overflow-tooltip":""}),t(g,{label:"最后使用时间",prop:"use_time",width:"160"}),t(g,{label:"操作",width:"200"},{default:i(({row:o})=>[t(a,{type:"primary",link:"",onClick:b=>R(o)},{default:i(()=>[...e[14]||(e[14]=[r(" 用量设置 ",-1)])]),_:1},8,["onClick"]),t(a,{type:"danger",link:"",onClick:b=>M(o)},{default:i(()=>[...e[15]||(e[15]=[r(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[H,s(p).loading]])]),l("div",ge,[t(W,{modelValue:s(p),"onUpdate:modelValue":e[4]||(e[4]=o=>L(p)?p.value=o:null),layout:"prev, pager, next",onChange:s(m)},null,8,["modelValue","onChange"])])]),s(k)?(u(),y(ae,{key:0,ref_key:"createPopupRef",ref:w,"agent-id":f.agentId,type:d.type,"show-chat-type":!1,onClose:e[5]||(e[5]=o=>k.value=!1),onSuccess:s(m)},null,8,["agent-id","type","onSuccess"])):I("",!0),s(C)?(u(),y(ie,{key:1,ref_key:"usageSettingRef",ref:v,"agent-id":d.agentId,type:d.type,onClose:e[6]||(e[6]=o=>C.value=!1),onSuccess:s(m)},null,8,["agent-id","type","onSuccess"])):I("",!0),s(A)?(u(),y(re,{key:2,ref_key:"callCodeRef",ref:Q,onClose:e[7]||(e[7]=o=>A.value=!1)},null,512)):I("",!0)],64)}}});export{pe as P,Fe as _};

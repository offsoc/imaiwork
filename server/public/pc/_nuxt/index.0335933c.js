import{Q as Y,dA as O,dB as W,dC as X,c as u,co as j,r as c,D as J,bh as $,b as Q,bj as Z,d as N,c9 as G,cU as K,W as _,V as x,dD as ee,k as m,I as ae,s as k,q as C,bi as se,Z as e,aI as te,dE as oe,cp as le,m as H,al as re,a0 as ne,Y as n,l as E,H as L,t as ie,L as h,a1 as de,a6 as ue,a3 as ce,aJ as fe,cv as ve,aa as pe,am as be}from"./entry.ca4d3d61.js";const me=Y({...O,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),he=W;function we(o,S){const{width:f,height:F}=X(),l=u(()=>["ltr","rtl"].includes(o.direction)),R=u(()=>["ltr","ttb"].includes(o.direction)?1:-1),A=u(()=>l.value?f.value:F.value),s=u(()=>j(v.value+R.value*i.value,4,A.value)),v=c(0),i=c(0),p=c(!1),b=c(!1);let r=[],w=[];const g=()=>{var t;const d=(t=S.value)==null?void 0:t.closest('[aria-modal="true"]');return d?l.value?d.offsetWidth:d.offsetHeight:100};J(()=>[o.size,o.resizable],()=>{b.value=!1,v.value=0,i.value=0,y()});const B=t=>{o.resizable&&(b.value||(v.value=g(),b.value=!0),r=[t.pageX,t.pageY],p.value=!0,w.push($(window,"mouseup",y),$(window,"mousemove",D)))},D=t=>{const{pageX:d,pageY:T}=t,z=d-r[0],I=T-r[1];i.value=l.value?z:I},y=()=>{r=[],v.value=s.value,i.value=0,p.value=!1,w.forEach(t=>t==null?void 0:t()),w=[]},P=$(S,"mousedown",B);return Q(()=>{P(),y()}),{size:u(()=>b.value?`${s.value}px`:Z(o.size)),isResizing:p,isHorizontal:l}}const ge=N({name:"ElDrawer",inheritAttrs:!1}),ye=N({...ge,props:me,emits:he,setup(o,{expose:S}){const f=o,F=G();K({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},u(()=>!!F.title));const l=c(),R=c(),A=c(),s=_("drawer"),{t:v}=x(),{afterEnter:i,afterLeave:p,beforeLeave:b,visible:r,rendered:w,titleId:g,bodyId:B,zIndex:D,onModalClick:y,onOpenAutoFocus:P,onCloseAutoFocus:t,onFocusoutPrevented:d,onCloseRequested:T,handleClose:z}=ee(f,l),{isHorizontal:I,size:U,isResizing:q}=we(f,A),V=u(()=>f.modalPenetrable&&!f.modal);return S({handleClose:z,afterEnter:i,afterLeave:p}),(a,ke)=>(m(),ae(e(ve),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:k(()=>[C(se,{name:e(s).b("fade"),onAfterEnter:e(i),onAfterLeave:e(p),onBeforeLeave:e(b),persisted:""},{default:k(()=>{var M;return[te(C(e(oe),{mask:a.modal,"overlay-class":[e(s).is("drawer"),(M=a.modalClass)!=null?M:"",`${e(s).namespace.value}-modal-drawer`,e(s).is("penetrable",e(V))],"z-index":e(D),onClick:e(y)},{default:k(()=>[C(e(le),{loop:"",trapped:e(r),"focus-trap-el":l.value,"focus-start-el":R.value,onFocusAfterTrapped:e(P),onFocusAfterReleased:e(t),onFocusoutPrevented:e(d),onReleaseRequested:e(T)},{default:k(()=>[H("div",re({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(g),"aria-describedby":e(B)},a.$attrs,{class:[e(s).b(),a.direction,e(r)&&"open",e(s).is("dragging",e(q))],style:{[e(I)?"width":"height"]:e(U)},role:"dialog",onClick:ne(()=>{},["stop"])}),[H("span",{ref_key:"focusStartRef",ref:R,class:n(e(s).e("sr-focus")),tabindex:"-1"},null,2),a.withHeader?(m(),E("header",{key:0,class:n([e(s).e("header"),a.headerClass])},[a.$slots.title?L(a.$slots,"title",{key:1},()=>[h(" DEPRECATED SLOT ")]):L(a.$slots,"header",{key:0,close:e(z),titleId:e(g),titleClass:e(s).e("title")},()=>[H("span",{id:e(g),role:"heading","aria-level":a.headerAriaLevel,class:n(e(s).e("title"))},ie(a.title),11,["id","aria-level"])]),a.showClose?(m(),E("button",{key:2,"aria-label":e(v)("el.drawer.close"),class:n(e(s).e("close-btn")),type:"button",onClick:e(z)},[C(e(de),{class:n(e(s).e("close"))},{default:k(()=>[C(e(ue))]),_:1},8,["class"])],10,["aria-label","onClick"])):h("v-if",!0)],2)):h("v-if",!0),e(w)?(m(),E("div",{key:1,id:e(B),class:n([e(s).e("body"),a.bodyClass])},[L(a.$slots,"default")],10,["id"])):h("v-if",!0),a.$slots.footer?(m(),E("div",{key:2,class:n([e(s).e("footer"),a.footerClass])},[L(a.$slots,"footer")],2)):h("v-if",!0),a.resizable?(m(),E("div",{key:3,ref_key:"draggerRef",ref:A,style:ce({zIndex:e(D)}),class:n(e(s).e("dragger"))},null,6)):h("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[fe,e(r)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var ze=pe(ye,[["__file","drawer.vue"]]);const Ee=be(ze);export{Ee as E};

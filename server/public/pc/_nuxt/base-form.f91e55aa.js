import{d as S,c as C,A as T,bI as q,k as i,l as m,q as o,s as n,Z as s,I as z,J as c,K as D,m as r,t as _,L as U,a0 as A,ay as L,au as N,av as O,y as $,b5 as G,_ as K}from"./entry.46557796.js";import{E as M,a as J}from"./index.52e544f1.js";import{_ as Z}from"./index.vue.520aef1d.js";import{_ as H}from"./index.c84588fb.js";/* empty css                  *//* empty css               *//* empty css                     */import{KnTypeEnum as g}from"./index.5bd136e1.js";import"./index.304400de.js";import"./index.c76cd001.js";import"./strings.1c189114.js";import"./debounce.22e3311f.js";import"./_baseIteratee.6084bee0.js";import"./index.1d76ef55.js";import"./index.fdfb054e.js";import"./index.6c2ab172.js";import"./cloneDeep.18da6720.js";/* empty css                  *//* empty css                    *//* empty css                  */const P={class:"flex items-center gap-x-2 options-item"},Q={class:"item-icon"},W={class:"h-[111px] rounded-md flex flex-col items-center justify-center relative leading-5"},X=["src"],x=5,Y=S({__name:"base-form",props:{modelValue:{default:()=>({name:"",cover:"",description:""})},isEdit:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(b,{expose:v,emit:y}){const h=b,w=y,t=C({get(){return h.modelValue},set(a){w("update:modelValue",a)}}),d=T(),E={name:[{required:!0,message:"请输入知识库名称",trigger:"blur"}],description:[{required:!0,message:"请输入知识库描述",trigger:"blur"}],cover:[{required:!0,message:"请上传知识库封面",trigger:"blur"}]},V=[{id:g.VECTOR,name:"向量知识库",icon:"local-icon-kb_type1"},{id:g.RAG,name:"RAG知识库",icon:"local-icon-kb_type2"}],k=a=>{const{uri:e}=a.data;t.value.cover=e};return v({validateForm:()=>{var a;return(a=d.value)==null?void 0:a.validate()},setFormData:a=>q(a,t)}),(a,e)=>{const u=N,p=O,f=$,F=M,j=J,I=Z,B=G,R=H;return i(),m("div",null,[o(s(L),{ref_key:"formRef",ref:d,model:s(t),"label-position":"top",rules:E},{default:n(()=>[o(p,{label:"知识库名称",prop:"name"},{default:n(()=>[o(u,{class:"!h-11",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).name=l),"show-word-limit":"",maxlength:"20",placeholder:"请输入知识库名称"},null,8,["modelValue"])]),_:1}),o(p,{label:"知识库描述",prop:"description"},{default:n(()=>[o(u,{modelValue:s(t).description,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).description=l),"show-word-limit":"",maxlength:"200",type:"textarea",resize:"none",rows:6,placeholder:"请输入知识库描述"},null,8,["modelValue"])]),_:1}),a.isEdit?U("",!0):(i(),z(p,{key:0,label:"知识库类型",prop:"type"},{default:n(()=>[o(j,{class:"!h-11",modelValue:s(t).type,"onUpdate:modelValue":e[2]||(e[2]=l=>s(t).type=l),placeholder:"请选择知识库类型","popper-class":"kb-type-select","show-arrow":!1},{default:n(()=>[(i(),m(c,null,D(V,l=>o(F,{key:l.id,label:l.name,value:l.id},{default:n(()=>[r("div",P,[r("span",Q,[o(f,{name:l.icon},null,8,["name"])]),r("span",null,_(l.name),1)])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})),o(p,{label:"知识库封面",prop:"cover"},{default:n(()=>[o(R,{class:"w-full",accept:"image/png,image/jpeg,image/jpg","show-progress":"",drag:"","show-file-list":!1,"max-size":x,onSuccess:k},{default:n(()=>[r("div",W,[s(t).cover?(i(),m(c,{key:0},[r("img",{src:s(t).cover,class:"h-full object-cover"},null,8,X),o(B,{content:"删除",placement:"right"},{default:n(()=>[r("div",{class:"absolute top-1 right-1 cursor-pointer w-6 h-6",onClick:e[3]||(e[3]=A(l=>s(t).cover="",["stop"]))},[o(I)])]),_:1}),e[4]||(e[4]=r("div",{class:"absolute bottom-3 w-full flex justify-center"},[r("div",{class:"cursor-pointer px-[10px] text-white rounded-full border border-[#ffffff1a] bg-[#ffffff4d] shadow-[0px_6px_12px_0px_rgba(0,0,0,0.24)] h-[28px] flex items-center justify-center text-xs"}," 更换图片 ")],-1))],64)):(i(),m(c,{key:1},[o(f,{name:"local-icon-file_add",size:28,color:"#000000"}),e[5]||(e[5]=r("span",{class:"text-gray-500 text-xs mt-2"},"点此上传图片 支持拖拽上传",-1)),r("div",{class:"text-xs text-gray-500"}," 图片大小不超过"+_(x)+"MB，规格为png、jpg、jpeg，分辨率推荐128*128 ")],64))])]),_:1})]),_:1})]),_:1},8,["model"])])}}});const ye=K(Y,[["__scopeId","data-v-738f6396"]]);export{ye as default};

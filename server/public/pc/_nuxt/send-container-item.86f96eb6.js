import{d as L,r as C,A as M,k as o,l as i,m as s,t as w,J as g,K as E,q as t,s as d,I as b,L as _,Y as D,Z as c,v as f,bz as I,aH as P,y as j,ax as G,_ as K}from"./entry.46557796.js";import{E as O}from"./index.c76cd001.js";import{E as S}from"./el-image.663be0a1.js";import{_ as q}from"./index.vue.4fd7b3ea.js";import{_ as H}from"./index.vue.7b7084b3.js";/* empty css               */import"./el-image-viewer.4c392e93.js";import{_ as J}from"./date.95a59cef.js";import{MaterialTypeEnum as x}from"./index.cf59f1a8.js";import{_ as U}from"./mini-program-card.vue.7cccd646.js";import{_ as X}from"./link-card.vue.fa6a35e1.js";import{_ as Y}from"./file-card.vue.6c632466.js";import"./position.bb07cf08.js";import"./throttle.f2fe0ca7.js";import"./debounce.22e3311f.js";const Z={class:"flex flex-col gap-4"},Q={class:"flex items-center gap-2"},W={class:"text-primary font-bold"},ee={class:"absolute top-0 left-0 bg-primary rounded-tl-xl rounded-br-xl"},se={class:"flex items-center gap-2 px-3 py-1"},te={class:"text-white text-xs"},le={class:"absolute right-2 top-2 z-20"},oe={key:0,class:"text-xs text-[#8A8C99] line-clamp-2 content-wrapper"},ie={class:"w-[80px] flex-shrink-0"},ne={class:"mt-[3px]"},ae={key:1,class:"content-wrapper"},re={class:"w-[80px] flex-shrink-0"},_e={key:2,class:"content-wrapper"},de={class:"w-[80px] flex-shrink-0"},ce={class:"flex-1 relative"},pe=["src"],me=["onClick"],ue={key:3,class:"content-wrapper"},fe={class:"w-[80px] flex-shrink-0"},xe={class:"w-[50%] h-[300px]"},ve={key:4,class:"content-wrapper"},ye={class:"w-[80px] flex-shrink-0"},he={class:"w-[50%]"},ke={key:5,class:"content-wrapper"},we={class:"w-[80px] flex-shrink-0"},ge={key:1,class:"h-full flex items-center justify-center mt-8 text-gray-500"},$e=L({__name:"send-container-item",props:{item:{}},emits:["edit","delete"],setup(Ce,{emit:V}){const $=V,z=a=>{const{push_real_day:e,push_time:n}=a;return I(`${e} ${n}`).isAfter(I())},p=C([]),B=(a,e)=>{p.value.includes(`${a}-${e}`)?p.value=p.value.filter(n=>n!==`${a}-${e}`):p.value.push(`${a}-${e}`)},y=C(!1),h=M(),N=async a=>{var e,n;y.value=!0,await P(),(e=h.value)==null||e.open(),(n=h.value)==null||n.setUrl(a)};return(a,e)=>{const n=j,k=G,m=O,A=S,R=q,T=H;return o(),i(g,null,[s("div",Z,[s("div",Q,[e[1]||(e[1]=s("img",{src:J,class:"w-6 h-6"},null,-1)),s("span",W,"第"+w(a.item.day)+"天",1)]),(o(!0),i(g,null,E(a.item.list,(r,v)=>(o(),i("div",{key:v,class:"border border-solid border-primary-light-9 rounded-xl p-4 min-h-[100px] relative pt-10"},[s("div",ee,[s("div",se,[t(n,{name:"local-icon-send_plane_fill",color:"#fff"}),s("span",te,w(r.push_time),1)])]),s("div",le,[t(k,{type:"danger",size:"small",onClick:l=>$("delete",r.content_id)},{default:d(()=>[t(n,{name:"el-icon-Delete",color:"#fff"}),e[2]||(e[2]=s("span",{class:"text-white text-xs"},"删除",-1))]),_:2,__:[2]},1032,["onClick"]),z(r)?(o(),b(k,{key:0,type:"primary",size:"small",onClick:l=>$("edit",r.content_id)},{default:d(()=>[t(n,{name:"el-icon-Edit",color:"#fff"}),e[3]||(e[3]=s("span",{class:"text-white text-xs"},"编辑",-1))]),_:2,__:[3]},1032,["onClick"])):_("",!0),t(k,{type:"primary",size:"small",onClick:l=>B(r.push_time_id,v)},{default:d(()=>[t(n,{name:"el-icon-Fold",color:"#fff"}),e[4]||(e[4]=s("span",{class:"text-white text-xs"},"折叠/展开",-1))]),_:2,__:[4]},1032,["onClick"])]),r.content_list.length?(o(),i("div",{key:0,class:D(["h-full flex flex-col gap-2 transition-all duration-500 ease-in-out transform origin-top",[c(p).includes(`${r.push_time_id}-${v}`)?"opacity-0 max-h-0 scale-y-95":"opacity-100 max-h-[2000px] scale-y-100"]])},[(o(!0),i(g,null,E(r.content_list,({content:l,type:u},F)=>(o(),i("div",{key:F},[u==c(x).TEXT?(o(),i("div",oe,[s("div",ie,[t(m,null,{default:d(()=>e[5]||(e[5]=[f("【文本】",-1)])),_:1,__:[5]})]),s("span",ne,w(l),1)])):_("",!0),u==c(x).IMAGE?(o(),i("div",ae,[s("div",re,[t(m,null,{default:d(()=>e[6]||(e[6]=[f("【图片】",-1)])),_:1,__:[6]})]),t(A,{src:l,"preview-src-list":[l],"preview-teleported":"",class:"max-w-[128px] rounded-xl",lazy:""},null,8,["src","preview-src-list"])])):_("",!0),u==c(x).VIDEO?(o(),i("div",_e,[s("div",de,[t(m,null,{default:d(()=>e[7]||(e[7]=[f("【视频】",-1)])),_:1,__:[7]})]),s("div",ce,[s("video",{src:l,class:"w-full rounded-lg"},null,8,pe),s("div",{class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]",onClick:Ee=>N(l)},[t(R)],8,me)])])):_("",!0),u==c(x).MINI_PROGRAM?(o(),i("div",ue,[s("div",fe,[t(m,null,{default:d(()=>e[8]||(e[8]=[f("【小程序】",-1)])),_:1,__:[8]})]),s("div",xe,[t(U,{title:l.name,pic:l.pic,link:l.link},null,8,["title","pic","link"])])])):_("",!0),u==c(x).LINK?(o(),i("div",ve,[s("div",ye,[t(m,null,{default:d(()=>e[9]||(e[9]=[f("【链接】",-1)])),_:1,__:[9]})]),s("div",he,[t(X,{title:l.name,desc:l.desc,img:l.img},null,8,["title","desc","img"])])])):_("",!0),u==c(x).FILE?(o(),i("div",ke,[s("div",we,[t(m,null,{default:d(()=>e[10]||(e[10]=[f("【文件】",-1)])),_:1,__:[10]})]),t(Y,{name:l.name,url:l.url,"icon-size":32},null,8,["name","url"])])):_("",!0)]))),128))],2)):_("",!0),c(p).includes(`${r.push_time_id}-${v}`)?(o(),i("div",ge," 内容被折叠 ")):_("",!0)]))),128))]),c(y)?(o(),b(T,{key:0,ref_key:"previewVideoRef",ref:h,onClose:e[0]||(e[0]=r=>y.value=!1)},null,512)):_("",!0)],64)}}});const Ge=K($e,[["__scopeId","data-v-3639baad"]]);export{Ge as default};

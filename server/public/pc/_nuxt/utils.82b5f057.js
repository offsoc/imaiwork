function f(o){const a=e=>{if(typeof e!="string"||e==="")return NaN;const t=e.split(":");if(t.length!==2)return NaN;const[i,s]=t.map(Number);return isNaN(i)||isNaN(s)||i<0||i>23||s<0||s>59?NaN:i*60+s},d=o.map(e=>({start_time:e==null?void 0:e[0],end_time:e==null?void 0:e[1],s:a(e==null?void 0:e[0]),e:a(e==null?void 0:e[1])})),n=new Set;d.forEach((e,t,i)=>{if((e.start_time==null||e.start_time==="")&&n.add(t),(e.end_time==null||e.end_time==="")&&n.add(t),isNaN(e.s)||isNaN(e.e)){n.add(t);return}if(e.s>=e.e&&n.add(t),t>0){const s=i[t-1];!isNaN(s.e)&&e.s<s.e&&(n.add(t-1),n.add(t))}});const r=Array.from(n).sort((e,t)=>e-t);return{valid:r.length===0,errorIndexes:r}}function N(o,a=15){if(!Number.isFinite(a)||a<=0)throw new TypeError("minGapMinutes 必须是正数");const d=o.map((n,r)=>({...n,_idx:r}));d.sort((n,r)=>new Date(n.publish_time).getTime()-new Date(r.publish_time).getTime());for(let n=1;n<d.length;n++){const r=d[n-1],l=d[n],e=(new Date(l.publish_time).getTime()-new Date(r.publish_time).getTime())/(1e3*60);if(e<a)return{valid:!1,errorIndexes:[r._idx,l._idx],gapMinutes:e}}return{valid:!0}}export{N as checkMinGap,f as validateSchedule};

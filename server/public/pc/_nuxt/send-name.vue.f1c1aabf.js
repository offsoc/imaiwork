import{d as C,A as m,aF as E,cq as I,bI as b,k as x,I as R,s as t,m as V,q as n,Z as a,ay as q,cP as B,G as D,au as P,av as A}from"./entry.d9d53b29.js";import{ak as L,al as N}from"./person_wechat.8bcf26fc.js";const Z=C({__name:"send-name",props:{type:{}},emits:["success","close"],setup(u,{expose:i,emit:d}){const f=u,r=d,l=m(),c=m(),o=E({id:"",type:"",push_name:"",push_type:f.type,stage_id:"",flow_id:""}),_={push_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},h=async()=>{var e;await((e=c.value)==null?void 0:e.validate());try{const s=o.id?await L(o):await N(o);r("success",s),p()}catch(s){D.msgError(s)}},k=()=>{var e;(e=l.value)==null||e.open()},p=()=>{r("close")},{lockFn:y,isLock:F}=I(h);return i({open:k,setFormData:e=>b(e,o)}),(e,s)=>{const g=P,v=A;return x(),R(B,{ref_key:"popupRef",ref:l,title:"设置名称",async:"","confirm-loading":a(F),onClose:p,onConfirm:a(y)},{default:t(()=>[V("div",null,[n(a(q),{ref_key:"formRef",ref:c,model:a(o),"label-position":"top",rules:_},{default:t(()=>[n(v,{label:"任务名称",prop:"push_name"},{default:t(()=>[n(g,{modelValue:a(o).push_name,"onUpdate:modelValue":s[0]||(s[0]=w=>a(o).push_name=w),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["confirm-loading","onConfirm"])}}});export{Z as _};

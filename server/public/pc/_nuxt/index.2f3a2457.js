import{_ as z}from"./chatting.70e44c5d.js";import{d as B,bO as E,z as T,dw as U,D as M,bA as D,k as P,l as V,aI as j,aJ as F,Z as e,m as s,q as H,s as l,_ as J}from"./entry.2beb4577.js";import{useChatAreaManager as O}from"./useChatAreaManager.b153deef.js";import{useChatManager as Z}from"./useChatManager.a2897f2d.js";import{useChatStore as G}from"./chat.a6df5aaa.js";import"./index.vue.0a368a30.js";import"./debounce.dd7f88c1.js";import"./toNumber.c824a4a2.js";import"./index.3864ff87.js";import"./el-image.a83bf837.js";import"./el-image-viewer.d11cc27b.js";import"./throttle.403d4771.js";import"./index.a9d48d33.js";/* empty css                    */import"./index.4d719c96.js";import"./index.47b30189.js";import"./index.dcd97a19.js";import"./strings.a9740cf6.js";import"./_baseIteratee.70cb6d8d.js";import"./clamp.a46ea567.js";import"./index.9d200730.js";/* empty css                  *//* empty css               *//* empty css                     */import"./useCopy.3342ae20.js";import"./cloneDeep.697b65df.js";import"./el-slider.bc047fea.js";import"./el-input-number.7f732a46.js";import"./index.ed72cac8.js";import"./el-switch.be9dc874.js";import"./index.e6c47712.js";/* empty css                   */import"./agent.a3fcedc5.js";import"./ChatArea.720f2dd5.js";const K={class:"h-full flex flex-col relative bg-white"},Q={class:"flex-1 min-h-0"},W={class:"h-full mx-auto"},X=B({__name:"index",setup(Y){var m;const n=E(),c=(m=T().getTokenByScene(U.CHAT))==null?void 0:m.score,a=G(),{chattingRef:i,isLoading:d,isNetwork:u,fileLists:_,taskId:f,chatContentList:h,isReceiving:x,isStopChat:g,initialize:v,sendMessage:w,startNewChat:C,stopStream:y}=Z(),{chatAreaRef:k,agent:b,setup:A,dispose:S,clear:I,getAgentList:N,isAgent:R,setAgent:q}=O({onEnter:o=>{p(o)},onInputChange:(o,t)=>{i.value&&i.value.setInput(o)}}),p=o=>{var t;a.setAgent(b.value),w(o),I(),a.clearFiles(),(t=i.value)==null||t.cleanInput()};return M(()=>n.query,()=>{v().then(async()=>{await N(),await A(),n.query.agent_id&&q({id:n.query.agent_id,name:n.query.agent_name})})},{immediate:!0,deep:!0}),D(()=>{S(),a.clearChat()}),(o,t)=>{const L=z;return P(),V("div",K,[j(s("div",Q,[s("div",W,[H(L,{ref_key:"chattingRef",ref:i,"is-stop":e(g),"content-list":e(h),"send-disabled":e(x),tokens:e(c),"is-network":!0,"is-new-chat":!!e(f),"is-disabled-humanize":e(R)(),onClose:e(y),onContentPost:p,"onUpdate:fileList":t[0]||(t[0]=r=>_.value=r),"onUpdate:network":t[1]||(t[1]=r=>u.value=r),onNewChat:e(C)},{content:l(()=>[...t[2]||(t[2]=[s("div",{class:"flex flex-col items-center justify-center"},[s("div",{class:"font-bold text-[32px]"},"有什么可以帮忙的?"),s("div",{class:"text-[#7b7b7b] mt-[10px] text-xs w-[383px] mx-auto text-center"}," 一站式AI解决方案，赋能企业智能升级，让工作更简单、决策更聪明、开启高效智能新体验！ ")],-1)])]),input:l(()=>[s("div",{ref_key:"chatAreaRef",ref:k,class:"max-h-[400px] overflow-y-auto dynamic-scroller"},null,512)]),_:1},8,["is-stop","content-list","send-disabled","tokens","is-new-chat","is-disabled-humanize","onClose","onNewChat"])])],512),[[F,!e(d)]])])}}});const Et=J(X,[["__scopeId","data-v-33073dd7"]]);export{Et as default};

import{d as p,as as n,x,k as s,l as i,m as t,q as l,s as g,J as h,t as _,a0 as b,L as v,y as w}from"./entry.ee599c70.js";import{_ as y}from"./index.vue.d98c851e.js";import{_ as z}from"./index.c972ba3d.js";const j={class:"rounded-md bg-app-bg-3 border border-app-border-2 p-[6px] flex gap-x-2 w-full"},S={class:"flex-1 flex flex-col items-center justify-center"},k={class:"flex flex-col items-center justify-center gap-2 h-[112px] w-full"},D={class:"text-white text-[11px]"},K={key:1,class:"border border-primary rounded-md w-full h-full overflow-hidden relative"},V=["src"],C={key:0,class:"w-[112px] h-[112px] rounded-md border border-app-border-2 flex items-center justify-center overflow-hidden text-white"},M=["src"],q=p({__name:"image-upload",props:n({maxSize:{default:10},minSize:{default:0},ratioSize:{default:()=>[2,1]},limit:{default:1},content:{default:"上传图片"},imgKey:{default:"image"},templateVideoUrl:{default:""}},{formData:{},formDataModifiers:{}}),emits:n(["update:formData"],["update:formData"]),setup(e,{emit:B}){const d=e,o=x(e,"formData"),f=r=>{o.value[d.imgKey]=r.data.uri};return(r,a)=>{const c=w,m=y,u=z;return s(),i("div",j,[t("div",S,[l(u,{class:"w-full h-[112px]","show-progress":"","show-file-list":!1,"ratio-size":e.ratioSize,"max-size":e.maxSize,"min-size":e.minSize,accept:".jpg,.jpeg,.png",limit:e.limit,onSuccess:f},{default:g(()=>[t("div",k,[o.value[e.imgKey]?(s(),i("div",K,[t("img",{src:o.value[e.imgKey],class:"w-full h-full object-contain"},null,8,V),t("div",{class:"absolute top-1 right-1 cursor-pointer w-6 h-6",onClick:a[0]||(a[0]=b(N=>o.value[e.imgKey]="",["stop"]))},[l(m)]),a[1]||(a[1]=t("div",{class:"absolute bottom-3 w-full flex justify-center"},[t("div",{class:"cursor-pointer px-[10px] text-white rounded-full border border-[#ffffff1a] bg-[#ffffff4d] shadow-[0px_6px_12px_0px_rgba(0,0,0,0.24)] h-[28px] flex items-center justify-center"}," 更换图片 ")],-1))])):(s(),i(h,{key:0},[l(c,{name:"local-icon-file_add",size:28,color:"#ffffff"}),t("span",D,_(e.content),1)],64))])]),_:1},8,["ratio-size","max-size","min-size","limit"])]),o.value[e.imgKey]?v("",!0):(s(),i("div",C,[t("video",{src:e.templateVideoUrl,class:"w-full h-full object-cover",autoplay:"",loop:""},null,8,M)]))])}}});export{q as _};

import{d as Oe,c as k,k as r,I as Y,al as ht,bM as gt,a as bt,aG as xt,ef as $e,r as b,aF as Ue,bz as T,eh as Se,A as yt,cq as wt,o as kt,l as n,m as s,q as d,s as x,Z as t,J as y,K as C,aI as Mt,t as _,L as v,bQ as pe,G as w,aH as Q,bI as Re,ax as Ct,cQ as Et,u as Vt,v as H,Y as U,y as Dt,au as Tt,_ as It}from"./entry.46557796.js";import{_ as Yt}from"./index.vue.520aef1d.js";import{E as Pt,a as $t}from"./index.52e544f1.js";import{E as Ge}from"./el-date-picker.9a9f22f5.js";/* empty css                     */import{E as Ut}from"./el-alert.ec09dd2d.js";import{E as St}from"./el-time-select.b40e90ae.js";import{_ as Rt}from"./index.vue.4fd7b3ea.js";import{E as At}from"./el-image.663be0a1.js";import{_ as Lt}from"./index.vue.7b7084b3.js";/* empty css                  *//* empty css               */import"./el-image-viewer.4c392e93.js";import{u as Ht}from"./useDictOptions.7ecf8788.js";import{g as jt}from"./service.12abd78a.js";import{c as Ot,b as Gt,d as zt,u as Bt}from"./redbook.f03a8b74.js";import{commonUploadLimit as J}from"./index.a571e11a.js";import{PublishTaskTypeEnum as I,MaterialTypeEnum as Ae,MaterialActionType as Ft}from"./index.83df7a87.js";import Wt from"./content-copywriting-material.02577492.js";import{_ as Le}from"./copywriting-card.vue.7e0002b7.js";import He from"./material-picker.4a583913.js";import Nt from"./material-popup.15f42c7f.js";import qt from"./useMaterial.b26629bd.js";import{validateSchedule as Kt,checkMinGap as Qt}from"./utils.dc4516f5.js";import{E as Z}from"./index.304400de.js";import"./index.c76cd001.js";import"./strings.1c189114.js";import"./debounce.22e3311f.js";import"./_baseIteratee.6084bee0.js";import"./index.1d76ef55.js";import"./customParseFormat.df9b4c29.js";import"./panel-time-pick.003e480c.js";import"./index.08e202f9.js";import"./position.bb07cf08.js";import"./throttle.f2fe0ca7.js";import"./index.728f9c9c.js";import"./el-empty.db5857ba.js";import"./index.c84588fb.js";import"./index.fdfb054e.js";import"./index.6c2ab172.js";import"./cloneDeep.18da6720.js";/* empty css                  *//* empty css                    *//* empty css                  */import"./index.816355b6.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./el-tabs.0dd2047f.js";import"./index.6e98cf6f.js";import"./usePaging.3ef28349.js";import"./index.c34f420e.js";const Jt=Oe({__name:"index",props:{startTime:{default:""},endTime:{default:""},startPlaceholder:{default:"开始时间"},endPlaceholder:{default:"结束时间"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},rangeSeparator:{default:"-"}},emits:["update:startTime","update:endTime"],setup(ee,{emit:te}){const G=ee,E=te,S=k({get:()=>[G.startTime,G.endTime],set:h=>{h===null?(E("update:startTime",""),E("update:endTime","")):(E("update:startTime",h[0]),E("update:endTime",h[1]))}});return(h,z)=>{const se=Ge;return r(),Y(se,ht({modelValue:S.value,"onUpdate:modelValue":z[0]||(z[0]=M=>S.value=M),type:"daterange","range-separator":h.rangeSeparator,"start-placeholder":h.startPlaceholder,"end-placeholder":h.endPlaceholder,"value-format":h.valueFormat},h.$attrs,{clearable:""}),null,16,["modelValue","range-separator","start-placeholder","end-placeholder","value-format"])}}}),Zt={class:"h-full bg-app-bg-2 rounded-[20px] overflow-x-auto dynamic-scroller"},Xt={class:"h-full flex flex-col min-w-[1000px]"},es={class:"flex-shrink-0 flex items-center justify-between px-[14px] h-[88px] border-b border-[#ffffff1a]"},ts={class:"flex items-center gap-1"},ss={class:"px-5"},as={class:"flex-shrink-0 flex items-center justify-center h-[100px] border-b border-[#ffffff1a] gap-x-[150px]"},ls={class:"flex flex-col items-center gap-2"},os={class:"grow min-h-0 flex flex-col p-5"},is={class:"w-[456px] mx-auto"},rs={class:"mt-[23px]"},ns={key:1,class:"grow min-h-0 flex flex-col"},ds={class:"flex items-center justify-between flex-shrink-0"},us={class:"text-white font-bold text-[20px]"},ps={class:"grow min-h-0 mt-5 flex gap-x-[18px]"},ms={class:"content-item material-content"},cs={class:"flex items-center justify-between flex-shrink-0 px-[14px]"},fs={class:"text-[11px] text-white"},_s={class:"text-[11px] text-white"},vs={class:"text-[11px] text-[#ffffff80] mt-2"},hs={class:"grow min-h-0"},gs={class:"px-[14px]"},bs={key:0,class:"mt-[14px] border border-app-border-2 rounded-xl p-2"},xs=["onClick"],ys={class:"content-item title-content"},ws={class:"content-item desc-content"},ks={class:"w-[456px] mx-auto"},Ms={class:"mt-[23px] flex flex-col gap-y-4"},Cs={class:"flex items-center gap-x-[50px]"},Es=["onClick"],Vs={class:"w-6 h-6 rounded-full shadow-[0_0_0_1px_rgba(255,255,255,0.1)] p-[7px]"},Ds={key:0,class:"w-full h-full rounded-full bg-primary"},Ts={class:"text-[#ffffff4d]"},Is={class:"mt-4"},Ys={key:0,class:"rounded-xl bg-app-bg-3 border border-app-border-2 py-3"},Ps={class:"px-3"},$s={class:"mt-4"},Us={key:0,class:"mt-4"},Ss={class:"px-3"},Rs={class:"text-[#ffffff80] mb-[13px] whitespace-pre text-xs"},As=["onClick"],Ls={class:"mt-4 flex justify-center"},Hs={key:1},js={class:"mb-4"},Os={key:0,class:"grid grid-cols-2 gap-3"},Gs={class:"mt-3 w-[143px] h-[190px] rounded-md mx-auto border border-app-border-2 relative"},zs=["src"],Bs={class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] z-[99]"},Fs=["onClick"],Ws={class:"mt-3 text-white text-center"},Ns={key:1},qs={class:"flex items-center justify-between"},Ks={class:"text-white"},Qs={class:"text-[#ffffff80]"},Js={class:"grid grid-cols-4 gap-2 mt-2"},j=30,je=100,me=30,X=18,O=15,Zs=Oe({__name:"publish-panel",props:{type:{default:I.VIDEO}},emits:["back"],setup(ee,{emit:te}){const G=ee,E=te,S=gt(),h=Vt(),{getCopywritingMaterialDetail:z,addCopywritingMaterial:se,updateCopywritingMaterial:M}=qt(),P={[I.VIDEO]:"视频",[I.IMAGE]:"图文"},ze={[I.VIDEO]:Ae.VIDEO,[I.IMAGE]:Ae.IMAGE},ae=[{step:1,title:"基本配置"},{step:2,title:"选择内容"},{step:3,title:"发布设置"}],Be=bt(),{type:g}=xt(G),B=$e(),F=k(()=>B.material_id),ce=k(()=>B.publish_id),R=b(!1),f=b(Number(B.step)||1),i=Ue({id:"",video_setting_id:"",name:T().format("YYYY-MM-DD HH:mm")+`小红书${P[g.value]}任务`,accounts:[],media_type:g.value,poi:"",date_type:0,publish_json:[],publish_start:"",publish_end:"",time_config:[],status:0}),o=Ue({id:F.value,name:i.name,type:Se.REDBOOK,media_type:g.value,media_url:[],title:[],subtitle:[]}),le=b(!1),oe=b(!1),ie=b(!1),fe=b(),_e=yt(),re=b(),ve=b(),he=b(),ne=b([]),A=b([]),ge=k(()=>f.value===ae.length),V=k(()=>g.value===I.VIDEO),D=k(()=>g.value===I.IMAGE),be=k(()=>i.date_type===0),xe=k(()=>i.date_type===1),Fe=k(()=>me-o.media_url.length),We=()=>{f.value===1?ye():(f.value--,pe({...S.query,step:f.value}))},Ne=async()=>{let a=!1;if(f.value===1)a=await Ke();else if(f.value===2)a=await Qe();else if(ge.value){await ot();return}a&&(f.value++,pe({...S.query,step:f.value}))},qe=()=>{h.$confirm({message:"确定要取消创建吗？",theme:"dark",onConfirm:ye})},ye=()=>{E("back"),f.value=1},Ke=async()=>{if(!i.name)return w.msgWarning("请输入任务名称"),!1;if(!F.value&&!o.id){R.value=!0;try{const a=await se(o);o.id=a.id,D.value&&Ce();const e=await Ot({name:i.name,video_setting_id:a.id,media_type:i.media_type});i.id=e.id,i.video_setting_id=a.id,Be.replace({query:{...B,publish_id:e.id,material_id:a.id}})}catch(a){return w.msgError(a),!1}finally{R.value=!1}}return!0},Qe=async()=>(D.value?o.media_url.length===0||o.media_url.some(e=>e.url.length===0):o.media_url.length===0)?(w.msgWarning(`请选择上传或选择${P[g.value]}素材`),!1):(De(),!0),de=b(0),$=b(-1),Je=k(()=>{if(V.value)return $.value===-1?j:j-o.media_url.length;if(D.value){const a=o.media_url[de.value];return $.value===-1?X:X-((a==null?void 0:a.url.length)||0)}return 0}),ue=k(()=>$.value===-1),we=async(a,e)=>{var u;de.value=e,$.value=a.index>-1?a.index:-1,oe.value=!0,await Q(),(u=_e.value)==null||u.open()},Ze=a=>{if(V.value)ue.value?(o.media_url.push(...a),a.forEach(W)):o.media_url[$.value]=a[0];else if(D.value){const e=o.media_url[de.value];ue.value?e.url.push(...a):e.url[$.value]=a[0]}M(o)},ke=()=>M(o),Me=a=>{a.type===Ft.ADD&&V.value&&W()},Ce=()=>{if(o.media_url.length>=me){w.msgWarning(`最多可建${me}组`);return}o.media_url.push({url:[],date:""}),W()},Xe=a=>{h.$confirm({message:"确定要删除该素材组吗？",theme:"dark",onConfirm:()=>{o.media_url.splice(a,1),M(o)}})},et=async()=>{le.value=!0,await Q(),fe.value.open()},tt=a=>{const{titleList:e,contentList:u}=a;e.length>0&&o.title.push(...e),u.length>0&&o.subtitle.push(...u),(e.length>0||u.length>0)&&M(o)},W=(a=!0)=>{o.title.push({content:""}),setTimeout(()=>o.subtitle.push({content:"",topic:[]}),100),a&&M(o)},st=()=>i.accounts.length===0?(w.msgWarning("请选择发布账号"),!1):be.value?at():xe.value?lt():!0,at=()=>{if(i.time_config.length===0)return w.msgWarning("请设置随机发布时间"),!1;const{valid:a,indexes:e,errorType:u}=Kt(i.time_config);if(!a){ne.value=e;const m={overlap:"时间配置存在冲突",selfInvalid:"时间配置存在错误",empty:"时间配置存在错误"};return w.msgWarning(m[u]),!1}return ne.value=[],!0},lt=()=>{const a=i.publish_json.findIndex(m=>!m.publish_time);if(a>-1)return A.value=[a],w.msgWarning(`请选择第${a+1}组发布时间`),!1;const{valid:e,errorIndexes:u}=Qt(i.publish_json,O);return e?(A.value=[],!0):(A.value=u,w.msgWarning(`发布的间隔时间必须大于${O}分钟`),!1)},{lockFn:ot,isLock:Ee}=wt(async()=>{if(st()){o.title=o.title.filter(a=>a.content),o.subtitle=o.subtitle.filter(a=>a.content);try{await M({...o,media_url:[{url:o.media_url}]}),i.video_setting_id=o.id,await Bt(i),E("back")}catch(a){w.msgError(a)}}}),it=[{label:"随机发布",value:0},{label:"精准发布",value:1}],rt=a=>a.getTime()<T().startOf("day").valueOf(),Ve=()=>{i.time_config.length===0&&(i.time_config.push({start_time:"15:00",end_time:"15:30"}),i.time_config.push({start_time:"15:30",end_time:"16:00"}))},nt=a=>{h.$confirm({message:"确定要删除该时间配置吗？",theme:"dark",onConfirm:()=>i.time_config.splice(a,1)})},dt=async()=>{var L,q,K;const a=((L=i.time_config.at(-1))==null?void 0:L.end_time)||"00:00",[e,u]=a.split(":").map(Number),m=T().hour(e).minute(u).format("HH:mm"),N=T().hour(e).minute(u).add(O,"minutes").format("HH:mm");i.time_config.push({start_time:m,end_time:N}),await Q(),(K=ve.value)==null||K.setScrollTop((q=he.value)==null?void 0:q.scrollHeight)},De=()=>{i.publish_start=T().format("YYYY-MM-DD"),i.publish_end=T(i.publish_start).add(1,"day").format("YYYY-MM-DD"),Ve();const a=T(),e=(u,m)=>({publish_time:a.add(O*(m+1),"minutes").format("YYYY-MM-DD HH:mm:ss"),url:V.value?u:u.url});i.publish_json=o.media_url.map(e)},{optionsData:ut}=Ht({accountLists:{api:jt,params:{page_size:999,type:Se.REDBOOK},transformData:a=>a.lists}}),Te=async a=>{var e,u;ie.value=!0,await Q(),(e=re.value)==null||e.open(),(u=re.value)==null||u.setUrl(a)};return kt(async()=>{R.value=!0;try{const{dh_create_id:a}=$e();if(a){const{lists:e}=await Gt({video_setting_id:a,page_size:j}),u=e.filter(m=>m.video_result_url).map(m=>m.video_result_url)||[];u.length>0&&(o.media_url=u,u.forEach(m=>{W(!1)})),pe({dh_create_id:""})}if(ce.value){const e=await zt({id:ce.value});Re(e,i),o.name=e.name}if(F.value){const e=await z(F.value);Re(e,o)}f.value===3&&De()}catch(a){w.msgError(a)}finally{R.value=!1}}),(a,e)=>{const u=Dt,m=Ct,N=Tt,L=Yt,q=Pt,K=$t,pt=Jt,Ie=Ut,Ye=St,Pe=Ge,mt=Rt,ct=At,ft=Lt,_t=Et;return r(),n(y,null,[s("div",Zt,[s("div",Xt,[s("div",es,[s("div",{class:"flex items-center gap-2 cursor-pointer",onClick:We},[d(u,{name:"el-icon-ArrowLeft",color:"#ffffff"}),e[14]||(e[14]=s("div",{class:"text-white"},"返回上一步",-1))]),s("div",ts,[d(m,{class:"!rounded-full !h-10 w-[98px] !border-app-border-2",color:"#181818",disabled:t(Ee),onClick:qe},{default:x(()=>e[15]||(e[15]=[H("取消",-1)])),_:1,__:[15]},8,["disabled"]),d(m,{type:"primary",class:"!rounded-full !h-10 w-[98px]",loading:t(Ee),onClick:Ne},{default:x(()=>[H(_(t(ge)?"提交":"下一步"),1)]),_:1},8,["loading"])])]),s("div",ss,[s("div",as,[(r(),n(y,null,C(ae,(l,p)=>s("div",{key:p,class:"relative"},[s("div",ls,[s("div",{class:U(["w-6 h-6 rounded-full flex items-center justify-center text-white",[t(f)>=l.step?"bg-primary":"bg-[#ffffff0d]"]])},_(p+1),3),s("div",{class:U([t(f)>=l.step?"text-white":"text-[#ffffff80]"])},_(l.title),3),p!=ae.length-1?(r(),n("div",{key:0,class:U(["absolute w-[120px] h-[1px] left-[calc(100%+15px)] top-[10px]",[t(f)>l.step?"bg-primary":"bg-[#ffffff1a]"]])},null,2)):v("",!0)])])),64))])]),Mt((r(),n("div",os,[t(f)==1?(r(),Y(t(Z),{key:0},{default:x(()=>[s("div",is,[e[17]||(e[17]=s("div",{class:"font-bold text-white text-[20px]"},"基本信息",-1)),s("div",rs,[e[16]||(e[16]=s("div",{class:"text-[#ffffff80] mb-3"},"任务名称",-1)),d(N,{modelValue:t(i).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(i).name=l),placeholder:"请输入发布的任务名称 ",class:"!h-11",maxlength:"50","show-word-limit":"",clearable:""},null,8,["modelValue"])])])]),_:1})):t(f)==2?(r(),n("div",ns,[s("div",ds,[s("div",us,"选择"+_(P[t(g)]),1),s("div",null,[d(m,{type:"primary",class:"!rounded-full !h-10 w-[106px]",onClick:et},{default:x(()=>e[18]||(e[18]=[H("智能文案",-1)])),_:1,__:[18]})])]),s("div",ps,[s("div",ms,[s("div",cs,[t(V)?(r(),n(y,{key:0},[s("div",fs," 视频（共"+_(t(o).media_url.length)+"个视频） ",1),s("div",{class:"text-[11px] text-[#ffffff80] mt-2"}," 最多可选"+_(j)+"个，视频"+_(je)+"m以下 ")],64)):v("",!0),t(D)?(r(),n(y,{key:1},[s("div",null,[s("div",_s," 图文（共"+_(t(o).media_url.length)+"组） ",1),s("div",vs," 最多还可建"+_(t(Fe))+"组，每组图片不超过"+_(X)+"张 ",1)]),d(m,{class:"!h-10 w-[106px] !border-[#ffffff1a]",color:"#262626",onClick:Ce},{default:x(()=>e[19]||(e[19]=[H("添加图片组",-1)])),_:1,__:[19]})],64)):v("",!0)]),s("div",hs,[d(t(Z),null,{default:x(()=>[s("div",gs,[t(V)?(r(),n("div",bs,[d(He,{"material-list":t(o).media_url,"onUpdate:materialList":[e[1]||(e[1]=l=>t(o).media_url=l),ke],type:t(g),"max-video-count":j,"video-size":je,"video-min-resolution":t(J).minResolution,"video-max-resolution":t(J).maxResolution,"video-min-duration":t(J).videoMinDuration,"video-max-duration":t(J).videoMaxDuration,onPreviewVideo:Te,onImportMaterial:e[2]||(e[2]=l=>we(l,0)),onChangeMaterial:Me},null,8,["material-list","type","video-min-resolution","video-max-resolution","video-min-duration","video-max-duration"])])):v("",!0),t(D)?(r(!0),n(y,{key:1},C(t(o).media_url,(l,p)=>(r(),n("div",{class:"mt-[14px] border border-app-border-2 rounded-xl p-2 relative",key:p},[d(He,{"material-list":l.url,"onUpdate:materialList":[c=>l.url=c,ke],type:t(g),"max-image-count":X,onImportMaterial:c=>we(c,p),onChangeMaterial:Me},null,8,["material-list","onUpdate:materialList","type","onImportMaterial"]),s("div",{class:"absolute -top-2 -right-2 w-5 h-5",onClick:c=>Xe(p)},[d(L,{"icon-size":14})],8,xs)]))),128)):v("",!0)])]),_:1})])]),s("div",ys,[d(Le,{"model-value":t(o).title,"onUpdate:modelValue":[e[3]||(e[3]=l=>t(o).title=l),e[4]||(e[4]=l=>t(M)(t(o)))],type:1,"publish-type-name":P[t(g)]},null,8,["model-value","publish-type-name"])]),s("div",ws,[d(Le,{"model-value":t(o).subtitle,"onUpdate:modelValue":[e[5]||(e[5]=l=>t(o).subtitle=l),e[6]||(e[6]=l=>t(M)(t(o)))],type:2,"publish-type-name":P[t(g)]},null,8,["model-value","publish-type-name"])])])])):t(f)==3?(r(),Y(t(Z),{key:2},{default:x(()=>[s("div",ks,[e[28]||(e[28]=s("div",{class:"font-bold text-white text-[20px]"},"发布设置",-1)),s("div",Ms,[s("div",null,[e[20]||(e[20]=s("div",{class:"text-[#ffffff80] mb-3"},"账号选择",-1)),d(K,{modelValue:t(i).accounts,"onUpdate:modelValue":e[7]||(e[7]=l=>t(i).accounts=l),placeholder:"请选择发布的账号",class:"!w-full !h-11 account-select","popper-class":"dark-select-popper",multiple:"","show-arrow":!1},{default:x(()=>[(r(!0),n(y,null,C(t(ut).accountLists,l=>(r(),Y(q,{key:l.id,label:`${l.nickname}（${l.account}）`,value:l.account},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",null,[e[21]||(e[21]=s("div",{class:"text-[#ffffff80] mb-3"},"位置信息",-1)),d(N,{modelValue:t(i).poi,"onUpdate:modelValue":e[8]||(e[8]=l=>t(i).poi=l),placeholder:"请输入准确位置信息",class:"!h-11",clearable:""},null,8,["modelValue"])]),s("div",null,[e[27]||(e[27]=s("div",{class:"text-[#ffffff80] mb-3"},"选择时间",-1)),s("div",Cs,[(r(),n(y,null,C(it,(l,p)=>s("div",{class:"flex items-center gap-x-2 cursor-pointer",key:p,onClick:c=>t(i).date_type=l.value},[s("div",Vs,[l.value==t(i).date_type?(r(),n("div",Ds)):v("",!0)]),s("div",Ts,_(l.label),1)],8,Es)),64))]),s("div",Is,[t(be)?(r(),n("div",Ys,[s("div",Ps,[e[22]||(e[22]=s("div",{class:"text-white"},"发布周期设置",-1)),s("div",$s,[d(pt,{"start-time":t(i).publish_start,"onUpdate:startTime":e[9]||(e[9]=l=>t(i).publish_start=l),"end-time":t(i).publish_end,"onUpdate:endTime":e[10]||(e[10]=l=>t(i).publish_end=l),"popper-class":"dark-daterange-picker-popper","range-separator":"至","value-format":"YYYY-MM-DD","disabled-date":rt,onChange:Ve},null,8,["start-time","end-time"])])]),t(i).publish_start?(r(),n("div",Us,[s("div",Ss,[d(Ie,{type:"warning",effect:"dark"},{default:x(()=>e[23]||(e[23]=[s("span",{class:"text-xs"},"设置的时间必须为n+1组的时间大于n组的时间",-1)])),_:1,__:[23]}),e[24]||(e[24]=s("div",{class:"text-white mt-2"},"每日发送时间设置",-1))]),d(t(Z),{ref_key:"timeConfigScrollbarRef",ref:ve},{default:x(()=>[s("div",{class:"grid grid-cols-2 gap-3 mt-[5px] max-h-[300px] px-3",ref_key:"timeConfigWrapperRef",ref:he},[(r(!0),n(y,null,C(t(i).time_config,(l,p)=>(r(),n("div",null,[s("div",Rs," 发布周期中，每天第"+_(p+1)+"组"+_(P[t(g)])+"时间： ",1),s("div",{class:U(["time-select-wrapper relative",{"!border-error":t(ne).includes(p)}])},[d(Ye,{modelValue:l.start_time,"onUpdate:modelValue":c=>l.start_time=c,"prefix-icon":"","popper-class":"dark-select-popper",start:"00:00",step:"00:15",end:"23:59","show-arrow":!1,"max-time":l.end_time},null,8,["modelValue","onUpdate:modelValue","max-time"]),e[25]||(e[25]=s("div",{class:"text-[#ffffff80]"},"至",-1)),d(Ye,{modelValue:l.end_time,"onUpdate:modelValue":c=>l.end_time=c,"prefix-icon":"","popper-class":"dark-select-popper",start:"00:00",step:"00:15",end:"23:59","show-arrow":!1,"min-time":l.start_time},null,8,["modelValue","onUpdate:modelValue","min-time"]),s("div",{class:"w-4 h-4 flex-shrink-0 absolute -top-2 -right-2 z-[43]",onClick:c=>nt(p)},[d(L,{"icon-size":10})],8,As)],2)]))),256))],512)]),_:1},512),s("div",Ls,[d(m,{type:"primary",class:"!h-10 w-[126px] !rounded-full",onClick:dt},{default:x(()=>e[26]||(e[26]=[H("继续添加",-1)])),_:1,__:[26]})])])):v("",!0)])):v("",!0),t(xe)?(r(),n("div",Hs,[s("div",js,[d(Ie,{type:"warning",effect:"dark"},{default:x(()=>[s("span",{class:"text-xs"},"发布的间隔时间必须大于"+_(O)+"分钟，避免发布过程中发生意外错误")]),_:1})]),t(V)?(r(),n("div",Os,[(r(!0),n(y,null,C(t(i).publish_json,(l,p)=>(r(),n("div",{class:U(["rounded-xl bg-app-bg-3 border border-app-border-2 p-[18px]",{"!border-error":t(A).includes(p)}]),key:p},[d(Pe,{modelValue:l.publish_time,"onUpdate:modelValue":c=>l.publish_time=c,type:"datetime",placeholder:"请选择","value-format":"YYYY-MM-DD HH:mm:ss","popper-class":"dark-date-picker-popper"},null,8,["modelValue","onUpdate:modelValue"]),s("div",Gs,[s("video",{src:l.url,class:"object-cover w-full h-full rounded-md"},null,8,zs),s("div",Bs,[s("div",{class:"w-10 h-10",onClick:c=>Te(l.url)},[d(mt)],8,Fs)])]),s("div",Ws," 第"+_(p+1)+"组内容发送 ",1)],2))),128))])):v("",!0),t(D)?(r(),n("div",Ns,[(r(!0),n(y,null,C(t(i).publish_json,(l,p)=>(r(),n("div",{class:U(["bg-app-bg-3 border border-app-border-2 rounded-xl p-2",{"!border-error":t(A).includes(p)}]),key:p},[s("div",qs,[s("div",Ks,"第"+_(p+1)+"组内容发送",1),s("div",Qs,[d(Pe,{modelValue:l.publish_time,"onUpdate:modelValue":c=>l.publish_time=c,type:"datetime",placeholder:"请选择","value-format":"YYYY-MM-DD HH:mm:ss","popper-class":"dark-date-picker-popper"},null,8,["modelValue","onUpdate:modelValue"])])]),s("div",Js,[(r(!0),n(y,null,C(l.url,(c,vt)=>(r(),n("div",{class:"w-full h-[132px] rounded-md border border-app-border-2",key:vt},[d(ct,{src:c,class:"w-full h-full rounded-md",fit:"cover","preview-teleported":"","preview-src-list":[c]},null,8,["src","preview-src-list"])]))),128))])],2))),128))])):v("",!0)])):v("",!0)])])])])]),_:1})):v("",!0)])),[[_t,t(R)]])])]),t(le)?(r(),Y(Wt,{key:0,ref_key:"copywritingMaterialRef",ref:fe,onClose:e[11]||(e[11]=l=>le.value=!1),onConfirm:tt},null,512)):v("",!0),t(oe)?(r(),Y(Nt,{key:1,ref_key:"materialPopRef",ref:_e,type:ze[t(g)],limit:t(Je),multiple:t(ue),onClose:e[12]||(e[12]=l=>oe.value=!1),onConfirm:Ze},null,8,["type","limit","multiple"])):v("",!0),t(ie)?(r(),Y(ft,{key:2,ref_key:"previewVideoRef",ref:re,onClose:e[13]||(e[13]=l=>ie.value=!1)},null,512)):v("",!0)],64)}}});const Ja=It(Zs,[["__scopeId","data-v-ca29c7bb"]]);export{Ja as default};

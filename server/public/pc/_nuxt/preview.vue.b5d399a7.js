import{E as h}from"./el-image-viewer.c352c3bd.js";import{_ as E}from"./index.vue.b711ba9e.js";import{d as w,A as I,c as C,r as _,D as g,l as d,Z as l,I as v,L as o,k as a,aH as y}from"./entry.f4f46cb5.js";import{MaterialTypeEnum as m}from"./index.cf59f1a8.js";import{useFile as B}from"./useMaterial.7ff6fcd0.js";const x={key:0},A={key:0},D={key:1},T=w({__name:"preview",props:{modelValue:{type:Boolean,default:!1},url:{default:""},type:{default:m.IMAGE}},emits:["update:modelValue"],setup(s,{emit:V}){const t=s;B();const p=V,r=I();C({get(){return t.modelValue},set(n){p("update:modelValue",n)}});const f=()=>{c.value=!1,p("update:modelValue",!1)},c=_(!1),u=_([]);return g(()=>t.modelValue,n=>{n?t.type===m.VIDEO?(c.value=!0,y(()=>{var e,i;(e=r.value)==null||e.setUrl(t.url),(i=r.value)==null||i.open()})):u.value=[t.url]:y(()=>{var e;u.value=[],(e=r.value)==null||e.pause()})}),(n,e)=>{const i=h,k=E;return s.modelValue?(a(),d("div",x,[s.type==l(m).IMAGE?(a(),d("div",A,[l(u).length?(a(),v(i,{key:0,"url-list":l(u),"hide-on-click-modal":"",teleported:!0,onClose:f},null,8,["url-list"])):o("",!0)])):o("",!0),s.type==l(m).VIDEO?(a(),d("div",D,[l(c)?(a(),v(k,{key:0,ref_key:"playerRef",ref:r,onClose:f},null,512)):o("",!0)])):o("",!0)])):o("",!0)}}});export{T as _};

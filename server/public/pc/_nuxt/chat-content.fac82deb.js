import{d as F,c as L,l as a,Z as t,m as s,Y as o,I as v,t as c,J as g,v as k,L as d,q as m,s as f,y as j,ba as H,k as l,ax as W,aw as V,_ as S}from"./entry.ee599c70.js";import{E as U}from"./el-image.c8eee104.js";import{_ as B}from"./index.vue.79d745ab.js";import"./el-image-viewer.4443ea01.js";import{u as Q}from"./useAudio.5d8f0f69.js";import{ContentTypeEnum as i,ContentTypeEnumMap as O}from"./index.cf59f1a8.js";import{_ as P}from"./mini-program-card.vue.14d4bbd6.js";import Z from"./useHandle.953ac7ac.js";import"./throttle.108b0b49.js";import"./debounce.f4735d5c.js";import"./toNumber.0872a42f.js";import"./person_wechat.703f63bb.js";const X=""+new URL("sound_black.247a11fe.png",import.meta.url).href,J="data:image/gif;base64,R0lGODlh8ADwAIABACotM////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM2MUI4RUI4MzAzQzExRUY4MUY4QzQzRjE2NTBEN0QwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM0RkVENTY2MzA5MjExRUY4MUY4QzQzRjE2NTBEN0QwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzYxQjhFQjYzMDNDMTFFRjgxRjhDNDNGMTY1MEQ3RDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzYxQjhFQjczMDNDMTFFRjgxRjhDNDNGMTY1MEQ3RDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LB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",q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAAB7CAYAAABUx/9/AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAKISURBVHic7dg/bhNBGIbx91ubpKFYDhDBCUhDQWdHEV06DgAlPoXtG1CRmo47oMTrNkJC4QT0FGyHRIChsJ1sgBAp4J143+dXWB7/kT7r0azHlgAAAAAAAAB0WHpbDnPPsCniqifSUTlRaKCkYYvz3FyoUtI89utJ7lFuq99ip6NyImnc/ij/0Q/txZO6yj3GbVM0F50ILUmFZsvPgobznd2Z0E3s8EtCWh5yCs1yD7MOsV9feS5xUyxvOxlaOr9iQVJh8NNlTPCFQr2OfU//mcNnvFZx/Uu6gd0tFRvzp8m/s7+c2+xsSVJokHuEnLxiJw2dd7dX7AXbw5pjbNvDmmVsSeN0XM4M/mO4JNK7pyn3EFlFv764v1X/5ZXtS1/LG73v7NM0Hh+//PXhSKcj79hddvb5dTx683y1dL2Me7hz71k6OahWS2J33fbOYBWc2A62dwYSsW2kk4OK2C7Sl/vEdtErHxDbCLFdRL8mthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWIbIbYRYhshthFiGyG2EWK7SN9KYhshtovo18Q2QmwXxd2PhUJV7jnQgt5WXSjFPPccaMH3NA1JSqejlHsWrFfsHsbyOzumeUfBei36xmqZPoxmShpmmwdrEtPYfTWRGqfxeHi4xw7vmovQUmNnr6T3L4bqxXixYKdvnFClFPNmZAAAAAAAAAAAXP0Ezx16uDvZ1YEAAAAASUVORK5CYII=",K={key:0},$=["innerHTML"],_={key:2,class:""},ee={key:1},te={class:"flex items-center gap-1 h-[37px]"},ie={key:0,src:X,class:"w-full"},le={key:1,src:J,class:"w-full"},se={class:"text-xs font-bold"},ae={key:0,class:"bg-white px-4 py-2 rounded mt-2"},ne={key:0,class:"text-xs text-gray-500"},oe={key:2},ce={class:"text-xs bg-[#E7E7E7] p-2 rounded mt-2 inline-block"},de={class:"line-clamp-2"},me={key:2,class:"overflow-hidden max-w-[50%]"},ye={class:"relative"},ue=["src"],he={key:3,class:"relative flex gap-x-2 items-center"},re={class:"bg-white p-2 rounded flex gap-2 items-center justify-between"},Ae={class:"font-bold inline-block max-w-[300px] flex-1 break-words"},xe={key:5},be={class:"font-bold"},ve={class:"text-[#999] text-xs"},ge={key:6,class:"bg-white p-2 rounded relative"},fe={class:"text-xs text-[#999]"},we={key:7,class:"h-[250px] w-[200px]"},ke={key:8,class:"loader"},Ie={key:1},Te=F({__name:"chat-content",props:{loading:{type:Boolean,default:!1},avatar:{default:""},message:{default:""},type:{default:null},messageType:{default:i.Text},file:{default:{}},duration:{default:0},isActive:{type:Boolean,default:!1},sttMessage:{default:""},sttLoading:{type:Boolean,default:!1},showStt:{type:Boolean,default:!1}},emits:["previewVideo","downloadFile","voiceToText"],setup(e,{emit:I}){const A=e,x=I,T=L(()=>[i.Picture,i.Video,i.File].includes(A.messageType)),{emojis:Y}=Z(),{play:M,setUrl:C,pause:E,pauseAll:Ye,isPlaying:w}=Q(),G=()=>{A.loading||(C(A.file.uri),w.value?E():M())},D=y=>{const n=/\[(.*?)\]/g;return y.replace(n,u=>{const h=Y.find(r=>r.name===u);return h?`<img src="${h.src}" class="w-[24px] h-[24px] inline-block" />`:u})},p=y=>y&&Math.ceil(parseInt(y)/1e3),N=()=>{x("downloadFile",A.file)};return(y,n)=>{const u=j,h=H,r=U,R=B,z=V;return l(),a("div",{class:o(["w-full flex items-center gap-x-4 max-w-[50%] relative",{"flex-row-reverse":e.type==1}])},[[t(i).Text,t(i).Sys_LuckyMoney,t(i).Voice,t(i).QuoteMsg,t(i).AudioCall,t(i).VideoCall,t(i).MoneyTrans,t(i).LuckyMoney].includes(e.messageType)?(l(),a("div",K,[s("div",{class:o(["w-[10px] h-[10px] rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1 bg-[#A9EA7A]":e.type==1,"-left-1 bg-white":e.type==2}])},null,2),[t(i).Text,t(i).AudioCall,t(i).VideoCall,t(i).MoneyTrans,t(i).LuckyMoney,t(i).Sys_LuckyMoney].includes(e.messageType)?(l(),a("div",{key:0,class:o(["px-4 py-2 rounded break-all flex items-center gap-x-2",{"bg-[#A9EA7A]":e.type==1,"bg-white":e.type==2}])},[t(i).Text==e.messageType?(l(),a("div",{key:0,innerHTML:D(e.message)},null,8,$)):[t(i).AudioCall,t(i).VideoCall].includes(e.messageType)?(l(),v(u,{key:1,name:e.messageType==t(i).AudioCall?"el-icon-Phone":"el-icon-VideoCamera",size:16},null,8,["name"])):[t(i).LuckyMoney,t(i).MoneyTrans].includes(e.messageType)?(l(),a("div",_,c(e.file.PaySubType=="4"?"[你已将钱退还]":"[你收到了一笔转账，请在手机上查看]"),1)):e.messageType==t(i).Sys_LuckyMoney?(l(),a(g,{key:3},[k(c(e.file.Title),1)],64)):d("",!0)],2)):d("",!0),e.messageType==t(i).Voice?(l(),a("div",ee,[s("div",{class:o(["bg-[#A9EA7A] px-4 rounded inline-block cursor-pointer",{"bg-[#A9EA7A] flex-row-reverse justify-end":e.type==1,"bg-white":e.type==2}]),onClick:n[0]||(n[0]=b=>G())},[s("div",te,[s("div",{class:o(["w-[16px]",{"rotate-180":e.type==1}])},[t(w)?(l(),a("img",le)):(l(),a("img",ie))],2),s("span",se,c(p(e.file.duration))+"″",1)])],2),e.showStt?(l(),a("div",ae,[e.sttLoading?(l(),a("div",ne,"语音转文字中...")):(l(),a(g,{key:1},[k(c(e.sttMessage),1)],64))])):d("",!0)])):d("",!0),e.messageType==t(i).QuoteMsg?(l(),a("div",oe,[s("div",{class:o(["p-2 rounded inline-block",{"bg-[#A9EA7A]":e.type==1,"bg-white":e.type==2}])},c(e.file.title),3),s("div",{class:o({"text-end":e.type==1})},[s("div",ce,[m(h,{content:e.file.content,"popper-class":"max-w-[500px]",placement:e.type==1?"left":"right"},{default:f(()=>[s("div",de,c(e.file.displayName)+"："+c(e.file.content),1)]),_:1},8,["content","placement"])])],2)])):d("",!0)])):e.messageType==t(i).Picture?(l(),a("div",{key:1,class:o(["overflow-hidden max-w-[50%] flex-1 flex items-center gap-x-4",{"ml-0":e.type==1,"mr-0 flex-row-reverse":e.type==2}])},[m(r,{style:{"border-radius":"8px",width:"100%"},src:e.file.Thumb||e.file.uri,lazy:"",fit:"contain","preview-teleported":"","preview-src-list":[e.file.Thumb||e.file.uri]},null,8,["src","preview-src-list"])],2)):e.messageType==t(i).Video?(l(),a("div",me,[s("div",ye,[s("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[888] cursor-pointer",onClick:n[1]||(n[1]=b=>x("previewVideo"))},[m(R)]),e.isActive?(l(),a("video",{key:1,src:e.file.uri,class:"w-full max-h-[250px] object-cover rounded-lg"},null,8,ue)):(l(),v(r,{key:0,style:{"border-radius":"8px",width:"100%","max-height":"250px"},src:e.file.Thumb,lazy:"",fit:"contain"},null,8,["src"]))])])):e.messageType==t(i).File?(l(),a("div",he,[s("div",{class:o(["w-[10px] h-[10px] bg-white rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1":e.type==1,"-left-1":e.type==2}])},null,2),s("div",re,[s("div",Ae,c(e.file.Title||e.file.name),1),n[4]||(n[4]=s("img",{src:q,class:"w-[41px]"},null,-1))])])):e.messageType==t(i).Emoji?(l(),a("div",{key:4,class:o(["leading-[0]",{"text-end":e.type==1}])},[m(r,{src:e.file.Thumb,class:"max-w-[30%]"},null,8,["src"])],2)):e.messageType==t(i).Link?(l(),a("div",xe,[s("div",{class:o(["w-[10px] h-[10px] rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1 bg-[#A9EA7A]":e.type==1,"-left-1 bg-white":e.type==2}])},null,2),s("div",{class:o(["px-4 py-2 rounded break-all",{"bg-[#A9EA7A]":e.type==1,"bg-white":e.type==2}])},[s("div",be,c(e.file.Title),1),m(z,{class:"!my-2"}),s("div",ve,c(e.file.TypeStr),1)],2)])):e.messageType==t(i).Location?(l(),a("div",ge,[s("div",{class:o(["w-[10px] h-[10px] bg-white rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1":e.type==1,"-left-1":e.type==2}])},null,2),s("div",null,c(e.file.Title),1),s("div",fe,c(e.file.Label),1)])):e.messageType==t(i).WeApp?(l(),a("div",we,[s("div",{class:o(["w-[10px] h-[10px] bg-white rounded-[2px] absolute top-[18px] -translate-y-1/2 rotate-45",{"-right-1":e.type==1,"-left-1":e.type==2}])},null,2),m(P,{title:e.file.Source,pic:e.file.Thumb,link:"小程序"},null,8,["title","pic"])])):d("",!0),e.loading?(l(),a("div",ke)):(l(),a(g,{key:9},[t(T)?(l(),v(h,{key:0,content:`下载${t(O)[e.messageType]}`,placement:"top"},{default:f(()=>[s("div",{class:"p-2 rounded-full hover:bg-primary-light-9 leading-[0] cursor-pointer",onClick:n[2]||(n[2]=b=>N())},[m(u,{name:"el-icon-Download"})])]),_:1},8,["content"])):d("",!0),e.messageType==t(i).Voice&&!e.showStt?(l(),a("div",Ie,[m(t(W),{link:"",class:"!text-xs",onClick:n[3]||(n[3]=b=>x("voiceToText"))},{default:f(()=>[...n[5]||(n[5]=[s("span",null,"转文字",-1)])]),_:1})])):d("",!0)],64))],2)}}});const He=S(Te,[["__scopeId","data-v-65156949"]]);export{He as default};

import{E as R}from"./el-avatar.24f27c8b.js";import{E as T,a as V}from"./index.9a037d22.js";import{d as B,ct as $,r as u,k as f,l as I,m as s,q as e,s as l,t as N,v as g,Z as i,bK as A,I as D,L as F,J as L,aH as j,u as S,cu as q,G as h,ax as G,_ as H}from"./entry.d9d53b29.js";import{_ as J}from"./index.vue.930f6062.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as K}from"./usePaging.64764a63.js";import{_ as P}from"./reply.vue.43107767.js";import"./index.050c9b6b.js";import"./_baseIteratee.73cb21ab.js";import"./debounce.39f38609.js";import"./index.4538c991.js";import"./index.79f7263c.js";import"./index.8a3302e5.js";import"./strings.fbd015b4.js";import"./index.vue.287e2e78.js";import"./index.3864ff87.js";import"./katex.0065138a.js";const U={class:"h-full flex flex-col"},Z={class:"grow min-h-0"},z={class:"flex items-center justify-center gap-x-2"},M={class:"flex justify-center my-4"},y=9006,O=B({__name:"record",props:{agentId:{}},setup(v){const d=v,{pager:n,getLists:p}=K({fetchFun:$,params:{robot_id:d.agentId,type:y}}),c=u(),m=u(!1),b=async r=>{m.value=!0,await j(),c.value.open(),c.value.setFormData(r)},x=async r=>{await S().$confirm({message:"确定删除此记录吗？",onConfirm:async()=>{try{await q({task_id:r,robot_id:d.agentId,chat_type:y}),h.msgSuccess("删除成功"),p()}catch(t){h.msgError(t||"删除失败")}}})};return p(),(r,t)=>{const k=R,a=T,_=G,C=V,w=J;return f(),I(L,null,[s("div",U,[s("div",Z,[e(C,{data:i(n).lists,height:"100%",stripe:"","header-cell-style":{height:"64px"},"row-style":{height:"60px"}},{default:l(()=>[e(a,{label:"用户信息","min-width":"160"},{default:l(({row:o})=>[s("div",z,[e(k,{src:o.avatar},null,8,["src"]),s("div",null,[s("div",null,N(o.nickname),1)])])]),_:1}),e(a,{label:"提问问题",prop:"message","show-overflow-tooltip":"","min-width":"200"}),e(a,{label:"回答内容",prop:"reply","show-overflow-tooltip":"","min-width":"200"}),e(a,{label:"应用端",prop:"source","min-width":"100"}),e(a,{label:"提问时间",prop:"create_time",width:"180"}),e(a,{label:"操作",width:"100",fixed:"right"},{default:l(({row:o})=>[e(_,{type:"primary",link:"",onClick:E=>b(o)},{default:l(()=>t[2]||(t[2]=[g("查看",-1)])),_:2,__:[2]},1032,["onClick"]),e(_,{type:"danger",link:"",onClick:E=>x(o.task_id)},{default:l(()=>t[3]||(t[3]=[g("删除",-1)])),_:2,__:[3]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),s("div",M,[e(w,{modelValue:i(n),"onUpdate:modelValue":t[0]||(t[0]=o=>A(n)?n.value=o:null),layout:"prev, pager, next",onChange:i(p)},null,8,["modelValue","onChange"])])]),i(m)?(f(),D(P,{key:0,ref_key:"replyRef",ref:c,onClose:t[1]||(t[1]=o=>m.value=!1)},null,512)):F("",!0)],64)}}});const ge=H(O,[["__scopeId","data-v-b59fbc5a"]]);export{ge as default};

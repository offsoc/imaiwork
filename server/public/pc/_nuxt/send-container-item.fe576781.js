import{d as M,r as E,A as D,k as i,l as o,m as s,t as w,J as g,K as b,q as t,s as d,I,L as r,Y as P,Z as _,v as f,bC as V,aH as j,y as G,ax as K,_ as O}from"./entry.2beb4577.js";import{E as S}from"./index.dcd97a19.js";import{E as q}from"./el-image.a83bf837.js";import{_ as H}from"./index.vue.4c207597.js";import{_ as J}from"./index.vue.8d512c7f.js";/* empty css               */import"./el-image-viewer.d11cc27b.js";import{_ as U}from"./date.95a59cef.js";import{MaterialTypeEnum as x}from"./index.cf59f1a8.js";import{_ as X}from"./mini-program-card.vue.d62457a2.js";import{_ as Y}from"./link-card.vue.fc9ac89c.js";import{_ as Z}from"./file-card.vue.8ffd7f8c.js";import"./throttle.403d4771.js";import"./debounce.dd7f88c1.js";import"./toNumber.c824a4a2.js";const Q={class:"flex flex-col gap-4"},W={class:"flex items-center gap-2"},ee={class:"text-primary font-bold"},se={class:"absolute top-0 left-0 bg-primary rounded-tl-xl rounded-br-xl"},te={class:"flex items-center gap-2 px-3 py-1"},le={class:"text-white text-xs"},ie={class:"absolute right-2 top-2 z-20"},oe={key:0,class:"text-xs text-[#8A8C99] line-clamp-2 content-wrapper"},ne={class:"w-[80px] flex-shrink-0"},ae={class:"mt-[3px]"},re={key:1,class:"content-wrapper"},de={class:"w-[80px] flex-shrink-0"},_e={key:2,class:"content-wrapper"},ce={class:"w-[80px] flex-shrink-0"},pe={class:"flex-1 relative"},me=["src"],ue=["onClick"],fe={key:3,class:"content-wrapper"},xe={class:"w-[80px] flex-shrink-0"},ve={class:"w-[50%] h-[300px]"},ye={key:4,class:"content-wrapper"},he={class:"w-[80px] flex-shrink-0"},ke={class:"w-[50%]"},we={key:5,class:"content-wrapper"},ge={class:"w-[80px] flex-shrink-0"},$e={key:1,class:"h-full flex items-center justify-center mt-8 text-gray-500"},Ce=M({__name:"send-container-item",props:{item:{}},emits:["edit","delete"],setup($,{emit:z}){const C=z,B=c=>{const{push_real_day:e,push_time:n}=c;return V(`${e} ${n}`).isAfter(V())},p=E([]),N=(c,e)=>{p.value.includes(`${c}-${e}`)?p.value=p.value.filter(n=>n!==`${c}-${e}`):p.value.push(`${c}-${e}`)},y=E(!1),h=D(),A=async c=>{var e,n;y.value=!0,await j(),(e=h.value)==null||e.open(),(n=h.value)==null||n.setUrl(c)};return(c,e)=>{const n=G,k=K,m=S,R=q,T=H,F=J;return i(),o(g,null,[s("div",Q,[s("div",W,[e[1]||(e[1]=s("img",{src:U,class:"w-6 h-6"},null,-1)),s("span",ee,"第"+w($.item.day)+"天",1)]),(i(!0),o(g,null,b($.item.list,(a,v)=>(i(),o("div",{key:v,class:"border border-solid border-primary-light-9 rounded-xl p-4 min-h-[100px] relative pt-10"},[s("div",se,[s("div",te,[t(n,{name:"local-icon-send_plane_fill",color:"#fff"}),s("span",le,w(a.push_time),1)])]),s("div",ie,[t(k,{type:"danger",size:"small",onClick:l=>C("delete",a.content_id)},{default:d(()=>[t(n,{name:"el-icon-Delete",color:"#fff"}),e[2]||(e[2]=s("span",{class:"text-white text-xs"},"删除",-1))]),_:1},8,["onClick"]),B(a)?(i(),I(k,{key:0,type:"primary",size:"small",onClick:l=>C("edit",a.content_id)},{default:d(()=>[t(n,{name:"el-icon-Edit",color:"#fff"}),e[3]||(e[3]=s("span",{class:"text-white text-xs"},"编辑",-1))]),_:1},8,["onClick"])):r("",!0),t(k,{type:"primary",size:"small",onClick:l=>N(a.push_time_id,v)},{default:d(()=>[t(n,{name:"el-icon-Fold",color:"#fff"}),e[4]||(e[4]=s("span",{class:"text-white text-xs"},"折叠/展开",-1))]),_:1},8,["onClick"])]),a.content_list.length?(i(),o("div",{key:0,class:P(["h-full flex flex-col gap-2 transition-all duration-500 ease-in-out transform origin-top",[_(p).includes(`${a.push_time_id}-${v}`)?"opacity-0 max-h-0 scale-y-95":"opacity-100 max-h-[2000px] scale-y-100"]])},[(i(!0),o(g,null,b(a.content_list,({content:l,type:u},L)=>(i(),o("div",{key:L},[u==_(x).TEXT?(i(),o("div",oe,[s("div",ne,[t(m,null,{default:d(()=>[...e[5]||(e[5]=[f("【文本】",-1)])]),_:1})]),s("span",ae,w(l),1)])):r("",!0),u==_(x).IMAGE?(i(),o("div",re,[s("div",de,[t(m,null,{default:d(()=>[...e[6]||(e[6]=[f("【图片】",-1)])]),_:1})]),t(R,{src:l,"preview-src-list":[l],"preview-teleported":"",class:"max-w-[128px] rounded-xl",lazy:""},null,8,["src","preview-src-list"])])):r("",!0),u==_(x).VIDEO?(i(),o("div",_e,[s("div",ce,[t(m,null,{default:d(()=>[...e[7]||(e[7]=[f("【视频】",-1)])]),_:1})]),s("div",pe,[s("video",{src:l,class:"w-full rounded-lg"},null,8,me),s("div",{class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]",onClick:Ee=>A(l)},[t(T)],8,ue)])])):r("",!0),u==_(x).MINI_PROGRAM?(i(),o("div",fe,[s("div",xe,[t(m,null,{default:d(()=>[...e[8]||(e[8]=[f("【小程序】",-1)])]),_:1})]),s("div",ve,[t(X,{title:l.name,pic:l.pic,link:l.link},null,8,["title","pic","link"])])])):r("",!0),u==_(x).LINK?(i(),o("div",ye,[s("div",he,[t(m,null,{default:d(()=>[...e[9]||(e[9]=[f("【链接】",-1)])]),_:1})]),s("div",ke,[t(Y,{title:l.name,desc:l.desc,img:l.img},null,8,["title","desc","img"])])])):r("",!0),u==_(x).FILE?(i(),o("div",we,[s("div",ge,[t(m,null,{default:d(()=>[...e[10]||(e[10]=[f("【文件】",-1)])]),_:1})]),t(Z,{name:l.name,url:l.url,"icon-size":32},null,8,["name","url"])])):r("",!0)]))),128))],2)):r("",!0),_(p).includes(`${a.push_time_id}-${v}`)?(i(),o("div",$e," 内容被折叠 ")):r("",!0)]))),128))]),_(y)?(i(),I(F,{key:0,ref_key:"previewVideoRef",ref:h,onClose:e[0]||(e[0]=a=>y.value=!1)},null,512)):r("",!0)],64)}}});const Ge=O(Ce,[["__scopeId","data-v-3639baad"]]);export{Ge as default};

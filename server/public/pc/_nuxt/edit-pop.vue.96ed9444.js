import{d as M,at as Z,c as F,r as g,aF as H,cq as O,k as c,I as Q,s as a,m as n,t as X,Z as l,q as o,l as f,a0 as Y,v as _,K as ee,J as te,bK as oe,G as C,au as le,av as ae,y as se,cT as ne,cU as re,ax as de,ay as ie}from"./entry.d9d53b29.js";import{E as me}from"./el-image.239907bf.js";import{_ as ue}from"./index.ece7f347.js";import{E as ce}from"./index.050c9b6b.js";import{E as pe}from"./index.b40f47a5.js";import"./el-image-viewer.291603f7.js";/* empty css                     *//* empty css                  */import{e as fe,a as _e,g as xe}from"./interview.fea9f1a0.js";const ve={class:"flex flex-col gap-2"},ge={class:"flex font-bold text-xl text-black"},we={class:"h-full flex flex-col w-[500px] mx-auto"},ye={class:"grow min-h-0 -mx-4"},be={class:"px-4"},Ve={class:""},he={class:"h-20 w-20 bg-[#F4F4F4] p-1 rounded-lg hover:border-primary border border-dashed border-[transparent]"},Ee={key:0,class:"flex flex-col justify-center items-center h-full w-full"},ke={key:1,class:"flex flex-col justify-center items-center h-full w-full relative"},Fe={class:"w-full flex flex-col gap-2"},Ce={class:"w-full flex items-center gap-2"},De={class:"flex gap-2 items-center mt-4"},Re={class:"flex gap-1 items-center"},Se={class:"flex-shrink-0 flex justify-center"},Pe=M({__name:"edit-pop",emits:["success","close"],setup(Ie,{expose:D,emit:R}){const w=R,S=Z(),I=F(()=>{const{shop_logo:s}=S.getWebsiteConfig||{};return s}),i=g(!1),y=g(),t=H({id:"",avatar:"",name:"",type:1,company:"",desc:"",jd:"",extra:"",attention:[]}),U={name:[{required:!0,message:"请输入岗位名称"}],avatar:[{required:!0,message:"请上传岗位图片"}],company:[{required:!0,message:"请输入招聘企业"}],desc:[{required:!0,message:"请输入岗位介绍"}],jd:[{required:!0,message:"请输入岗位JD"}],extra:[{required:!0,message:"请输入附加考察"}],attention:[{required:!0,message:"请输入面试关注"}]},x=g("add"),q=F(()=>x.value==="add"?"添加面试岗位":"编辑面试岗位"),j=s=>{t.attention.splice(s,1)},B=()=>{t.attention.push("")},A=s=>{const{data:{uri:e}}=s;t.avatar=e},J=(s="add")=>{x.value=s,i.value=!0,x.value==="add"&&(t.avatar=I.value)},z=async()=>{await y.value.validate();try{t.id?await fe(t):await _e(t),i.value=!1,C.msgSuccess(`${t.id?"编辑":"新增"}成功`),w("success")}catch(s){C.msgError(s||`${t.id?"编辑":"新增"}失败`)}},b=()=>{i.value=!1,w("close")},{lockFn:$,isLock:V}=O(z),L=async s=>{const e=await xe({id:s});h(e)},h=async s=>{for(const e in t)s[e]!=null&&s[e]!=null&&(t[e]=s[e])};return D({open:J,getDetail:L,setFormData:h}),(s,e)=>{const m=le,d=ae,u=se,P=me,G=ue,E=ne,N=re,p=de,W=ie,K=ce,T=pe;return c(),Q(T,{modelValue:l(i),"onUpdate:modelValue":e[7]||(e[7]=r=>oe(i)?i.value=r:null),ref:"popupRef",async:!0,size:"100%","confirm-button-text":"","cancel-button-text":"",onClose:b},{header:a(()=>[n("div",ve,[n("div",ge,X(l(q)),1),e[8]||(e[8]=n("div",{class:"font-normal text-sm text-[#74798C]"}," 初次新增面试岗位需要保存提交后方可设置RPA自动招聘。 ",-1))])]),default:a(()=>[n("div",we,[n("div",ye,[o(K,null,{default:a(()=>[n("div",be,[o(W,{model:l(t),rules:U,ref_key:"formRef",ref:y,"label-position":"top",disabled:l(V)},{default:a(()=>[o(d,{label:"岗位名称",prop:"name"},{default:a(()=>[o(m,{modelValue:l(t).name,"onUpdate:modelValue":e[0]||(e[0]=r=>l(t).name=r),placeholder:"请输入岗位名称",maxlength:"30","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(d,{label:"岗位图片",prop:"avatar"},{default:a(()=>[n("div",Ve,[o(G,{class:"w-full h-full",limit:1,"show-file-list":!1,"show-progress":"",onSuccess:A},{default:a(()=>[n("div",he,[l(t).avatar?(c(),f("div",ke,[o(P,{src:l(t).avatar},null,8,["src"]),n("div",{class:"cursor-pointer absolute -top-4 -right-4",onClick:e[1]||(e[1]=Y(r=>l(t).avatar="",["stop"]))},[o(u,{name:"el-icon-CircleCloseFilled",color:"var(--color-redbook)",size:16})])])):(c(),f("div",Ee,[o(u,{name:"el-icon-CirclePlusFilled",color:"var(--color-primary)",size:18})]))])]),_:1})])]),_:1}),o(d,{label:"招聘企业",prop:"company"},{default:a(()=>[o(m,{modelValue:l(t).company,"onUpdate:modelValue":e[2]||(e[2]=r=>l(t).company=r),placeholder:"请输入招聘企业",maxlength:"30","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(d,{label:"岗位介绍",prop:"desc"},{default:a(()=>[o(m,{modelValue:l(t).desc,"onUpdate:modelValue":e[3]||(e[3]=r=>l(t).desc=r),type:"textarea",placeholder:"请输入您的招聘岗位介绍","show-word-limit":"",maxlength:"2000",rows:4},null,8,["modelValue"])]),_:1}),o(d,{label:"面试方式",prop:"type"},{default:a(()=>[o(N,{modelValue:l(t).type,"onUpdate:modelValue":e[4]||(e[4]=r=>l(t).type=r)},{default:a(()=>[o(E,{value:1},{default:a(()=>e[9]||(e[9]=[_("文字",-1)])),_:1,__:[9]}),o(E,{value:2},{default:a(()=>e[10]||(e[10]=[_("语音",-1)])),_:1,__:[10]})]),_:1},8,["modelValue"])]),_:1}),o(d,{label:"岗位JD",prop:"jd"},{default:a(()=>[o(m,{modelValue:l(t).jd,"onUpdate:modelValue":e[5]||(e[5]=r=>l(t).jd=r),type:"textarea",placeholder:"请输入您的招聘的岗位JD",maxlength:"2000","show-word-limit":"",rows:4},null,8,["modelValue"])]),_:1}),o(d,{label:"附加考察",prop:"extra"},{default:a(()=>[o(m,{modelValue:l(t).extra,"onUpdate:modelValue":e[6]||(e[6]=r=>l(t).extra=r),type:"textarea",placeholder:"请输入您需要附加考察的方向",maxlength:"2000","show-word-limit":"",rows:4},null,8,["modelValue"])]),_:1}),o(d,{label:"面试关注",prop:"attention"},{default:a(()=>[n("div",Fe,[(c(!0),f(te,null,ee(l(t).attention,(r,v)=>(c(),f("div",Ce,[o(m,{modelValue:l(t).attention[v],"onUpdate:modelValue":k=>l(t).attention[v]=k,type:"textarea",placeholder:"请输入您面试的关注点，如工作经历，家庭住址，加班程度等",maxlength:"500","show-word-limit":"",rows:4},null,8,["modelValue","onUpdate:modelValue"]),o(p,{link:"",type:"danger",onClick:k=>j(v)},{default:a(()=>[o(u,{name:"el-icon-Delete",size:16})]),_:2},1032,["onClick"])]))),256)),n("div",null,[o(p,{type:"primary",onClick:B},{default:a(()=>[o(u,{name:"el-icon-CirclePlusFilled",size:18})]),_:1})])])]),_:1})]),_:1},8,["model","disabled"]),n("div",De,[n("div",Re,[o(u,{name:"el-icon-Warning",color:"#FE975F"}),e[11]||(e[11]=n("span",{class:"text-[#FE975F]"},"RPA设置",-1))]),e[12]||(e[12]=n("div",{class:"text-[#9BA2AB]"},"初次建立岗位请在保存后前往列表设置",-1))])])]),_:1})]),n("div",Se,[o(p,{onClick:b},{default:a(()=>e[13]||(e[13]=[_("取消",-1)])),_:1,__:[13]}),o(p,{type:"primary",loading:l(V),onClick:l($)},{default:a(()=>e[14]||(e[14]=[_("确定 ",-1)])),_:1,__:[14]},8,["loading","onClick"])])])]),_:1},8,["modelValue"])}}});export{Pe as _};

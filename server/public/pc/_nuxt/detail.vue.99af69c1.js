import{d as N,ef as $,r as M,aF as S,o as q,k as n,l as o,m as t,q as a,t as u,Z as c,J as p,K as I,aI as R,I as W,s as l,v as i,Y as K,L as m,bK as P,u as Q,G as b,y as z,ax as G,cQ as J}from"./entry.d9d53b29.js";import{E as O,a as U}from"./index.9a037d22.js";import{E as Y}from"./el-empty.03c7f5cd.js";import{_ as Z}from"./index.vue.930f6062.js";/* empty css                        *//* empty css               *//* empty css                 *//* empty css                     */import{u as H}from"./usePaging.64764a63.js";import{i as X,j as tt,k as et}from"./sph.47a77ad4.js";const st={class:"h-full flex flex-col gap-[10px]"},at={class:"bg-app-bg-2 rounded-[20px] p-[18px]"},nt={class:"flex items-center justify-between mb-4"},ot={class:"flex justify-between gap-x-4"},lt={class:"flex flex-col gap-y-3"},it={class:"text-[#ffffffcc]"},rt={class:"flex"},ft={class:"flex flex-wrap gap-2"},ct={class:"grow min-h-0 bg-app-bg-2 rounded-[20px] flex flex-col"},dt={class:"grow min-h-0"},pt={class:"flex items-center justify-center gap-x-2"},ut={class:"flex justify-center items-center h-full"},mt={class:"flex justify-center p-4"},Vt=N({__name:"detail",emits:["back"],setup(_t,{emit:w}){const k=w,g=$(),_=M({}),E=S({id:g.id}),{pager:d,getLists:x}=H({fetchFun:X,params:E}),C=r=>({0:"bg-danger",2:"bg-[#FFBC50]",1:"bg-[#3BB840]",4:"bg-primary"})[r],B=async r=>{Q().$confirm({message:"确定删除该记录吗？",theme:"dark",onConfirm:async()=>{try{await tt({id:r}),b.msgSuccess("删除成功"),x()}catch(e){b.msgError(e||"删除失败")}}})},j=async()=>{const r=await et({id:g.id});_.value=r};return q(async()=>{await j(),await x()}),(r,e)=>{var h,y,v;const V=z,f=O,T=G,A=Y,D=U,F=Z,L=J;return n(),o("div",st,[t("div",at,[t("div",nt,[t("div",{class:"flex items-center gap-2 cursor-pointer",onClick:e[0]||(e[0]=s=>k("back"))},[a(V,{name:"el-icon-ArrowLeft",color:"#ffffff"}),e[2]||(e[2]=t("div",{class:"text-white"},"返回",-1))])]),t("div",ot,[t("div",lt,[e[5]||(e[5]=t("div",null,[t("span",{class:"text-[#ffffff80]"},"添加频率："),t("span",{class:"text-[#ffffffcc]"},"相隔15分钟添加1个微信号")],-1)),e[6]||(e[6]=t("div",null,[t("span",{class:"text-[#ffffff80]"},"每日限制："),t("span",{class:"text-[#ffffffcc]"},"每个号每日限制加30个好友")],-1)),t("div",null,[e[3]||(e[3]=t("span",{class:"text-[#ffffff80]"},"微信数量：",-1)),t("span",it,"共有"+u(((y=(h=c(_))==null?void 0:h.wechat_id)==null?void 0:y.length)||0)+"个微信执行该任务",1)]),t("div",rt,[e[4]||(e[4]=t("span",{class:"text-[#ffffff80] flex-shrink-0"},"申请备注：",-1)),t("span",ft,[(n(!0),o(p,null,I((v=c(_))==null?void 0:v.remarks,s=>(n(),o("span",{class:"px-[10px] py-[4px] rounded-md text-[#ffffffcc] shadow-[0_0_0_1px_var(--app-border-color-2)]",key:s},u(s),1))),128))])])])])]),t("div",ct,[t("div",dt,[R((n(),W(D,{height:"100%",data:c(d).lists,"header-row-style":{height:"62px"},"row-style":{height:"50px"}},{empty:l(()=>[t("div",ut,[a(A,{description:"暂无数据"})])]),default:l(()=>[a(f,{prop:"clue_wechat",label:"线索","min-width":"120","show-overflow-tooltip":""}),a(f,{prop:"wechat_no",label:"执行账号","min-width":"140"},{default:l(({row:s})=>[i(u(s.wechat_no||"-"),1)]),_:1}),a(f,{label:"申请备注词","min-width":"200","show-overflow-tooltip":""},{default:l(({row:s})=>[i(u(s.remark||"-"),1)]),_:1}),a(f,{label:"任务状态",width:"160",align:"center"},{default:l(({row:s})=>[t("div",pt,[t("div",{class:K(["w-[6px] h-[6px] rounded-full",C(s.status)])},null,2),t("span",null,[s.status==0?(n(),o(p,{key:0},[i("添加失败")],64)):m("",!0),s.status==1?(n(),o(p,{key:1},[i("添加成功")],64)):m("",!0),s.status==2?(n(),o(p,{key:2},[i("执行中")],64)):m("",!0),s.status==4?(n(),o(p,{key:3},[i("等待添加")],64)):m("",!0)])])]),_:1}),a(f,{prop:"create_time",label:"执行时间",width:"180"}),a(f,{label:"操作",width:"80",fixed:"right",align:"right"},{default:l(({row:s})=>[a(T,{type:"danger",link:"",onClick:gt=>B(s.id)},{default:l(()=>e[7]||(e[7]=[i("删除",-1)])),_:2,__:[7]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[L,c(d).loading]])]),t("div",mt,[a(F,{modelValue:c(d),"onUpdate:modelValue":e[1]||(e[1]=s=>P(d)?d.value=s:null),layout:"prev, pager, next",onChange:c(x)},null,8,["modelValue","onChange"])])])])}}});export{Vt as _};

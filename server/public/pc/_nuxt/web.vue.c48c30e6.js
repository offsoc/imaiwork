import{d as b,x as B,r as q,cq as w,G as p,k as l,l as n,m as r,q as d,Z as c,bK as C,s as _,v as D,J as f,K as v,I,au as F,ax as L}from"./entry.d9d53b29.js";import{E as N}from"./index.050c9b6b.js";/* empty css                     */import{y as S}from"./knowledge_base.519704cc.js";import U from"./data-item.bed4c272.js";const z={class:"h-full flex flex-col"},K={class:"px-3"},M={class:"flex justify-end my-2"},j={class:"grow min-h-0"},G={class:"px-3 flex flex-col gap-y-4"},H={class:"mb-4"},A=b({__name:"web",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(x){const o=B(x,"modelValue"),a=q(""),{lockFn:k,isLock:h}=w(async()=>{if(!a.value)return p.msgError("请输入网页链接");try{const t=await S({url:a.value.split(`
`).filter(Boolean)});o.value=[...t.map(e=>({data:[{a:"",q:e.content}],path:e.url,name:e.url,size:0})),...o.value],a.value=""}catch(t){p.msgError(t)}}),y=t=>{o.value.splice(t,1)};return(t,e)=>{const E=F,V=L,g=N;return l(),n("div",z,[r("div",K,[d(E,{modelValue:c(a),"onUpdate:modelValue":e[0]||(e[0]=s=>C(a)?a.value=s:null),placeholder:"请输入要解析的网页链接，添加多个请按回车键分隔",type:"textarea",resize:"none",rows:6},null,8,["modelValue"]),r("div",M,[d(V,{type:"primary",class:"!rounded-full",loading:c(h),onClick:c(k)},{default:_(()=>e[1]||(e[1]=[D(" 解析 ",-1)])),_:1,__:[1]},8,["loading","onClick"])])]),r("div",j,[d(g,null,{default:_(()=>[r("div",G,[(l(!0),n(f,null,v(o.value,s=>(l(),n("div",H,[(l(!0),n(f,null,v(s.data,(i,u)=>(l(),I(U,{data:i.q,"onUpdate:data":m=>i.q=m,name:s.name,key:u,index:u,onDelete:m=>y(u)},null,8,["data","onUpdate:data","name","index","onDelete"]))),128))]))),256))])]),_:1})])])}}});export{A as _};

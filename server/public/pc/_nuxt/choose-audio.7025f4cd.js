import{d as O,r as _,aF as Y,k as p,I as V,s as f,m as o,q as s,Z as n,$ as Z,v as A,bK as $,l as w,K as G,Y as I,t as H,a0 as Q,J as W,cO as X,y as ee,au as oe,ax as te,_ as se}from"./entry.d7219633.js";import{_ as le}from"./index.vue.f38ca415.js";import{E as ne,a as ae}from"./el-tabs.f915a42a.js";import{E as ie}from"./index.f15af271.js";import{E as re}from"./el-empty.77af023a.js";import{_ as ce}from"./index.vue.5e2341cc.js";/* empty css                     */import{u as de}from"./usePaging.3c53b51c.js";import{u as pe}from"./useAudio.81c94342.js";import{g as fe}from"./digital_human.b276942f.js";import"./strings.03d3529c.js";import"./index.35988ce8.js";import"./index.50778a9c.js";import"./index.4953ba77.js";import"./debounce.085e8a4a.js";import"./_baseIteratee.5c97421a.js";import"./index.ead96a32.js";const ue={class:"rounded-xl overflow-hidden flex flex-col -my-2"},me={class:"flex items-center justify-between h-[50px] px-4"},_e={class:"flex items-center gap-x-2"},xe={class:"w-6 h-6 flex items-center justify-center rounded-md border border-[#ffffff1a]"},ve={class:"px-4 my-4"},be={class:"flex items-center rounded-full h-[50px] border border-[#2a2a2a] px-[5px]"},ye={class:"h-[500px] flex flex-col"},he={class:"grow min-h-0 cursor-pointer"},ge=["onClick"],we={class:"flex-1 flex items-center gap-x-2"},Ee={class:"text-white text-base"},ke={class:"flex items-center gap-x-4"},Ce=["onClick"],Ve={class:"w-5 h-5 flex items-center justify-center rounded-full mx-auto"},Ae={key:1,class:"flex items-center justify-center h-full"},$e={class:"flex justify-between items-center my-2 px-2"},Ie=O({__name:"choose-audio",emits:["close","confirm"],setup(je,{expose:j,emit:B}){const E=B,k=_(),x=_("1"),v=Y({name:""}),{pager:c,getLists:d}=de({fetchFun:fe,params:v}),i=_([]),{play:P,pause:T,pauseAll:z,setUrl:K,isPlaying:C}=pe(),b=_(),S=l=>{const{id:e,url:r}=l;C.value&&b.value!==e&&z(),C.value?T():(b.value!==e&&K(r),P(),b.value=e)},u=l=>i.value.find(e=>e.voice_id===l),U=l=>{const{voice_id:e,type:r,name:h,builtin:g}=l;u(e)?i.value=i.value.filter(m=>m.voice_id!==e):i.value.push({voice_id:e,name:h,type:r,builtin:g}),console.log(i.value)},F=l=>{i.value=l},L=()=>{E("confirm",i.value),y()},N=async()=>{var l;(l=k.value)==null||l.open(),await d()},y=()=>{E("close")};return j({open:N,setChooseAudio:F}),(l,e)=>{const r=ee,h=le,g=oe,m=te,a=ne,R=ae,q=ie,D=re,J=ce;return p(),V(X,{ref_key:"popupRef",ref:k,width:"528px",class:"choose-audio-popup",style:{padding:"0","background-color":"var(--app-bg-color-2)","box-shadow":"0px 0px 0px 1px var(--app-border-color-2)"},"confirm-button-text":"","cancel-button-text":"","show-close":!1,onClose:y},{default:f(()=>[o("div",ue,[o("div",me,[o("div",_e,[o("div",xe,[s(r,{name:"local-icon-windows",size:14})]),e[8]||(e[8]=o("div",{class:"text-[20px] text-white font-bold"},"背景音乐素材",-1))]),o("div",{class:"w-6 h-6",onClick:y},[s(h)])]),o("div",ve,[o("div",be,[s(g,{modelValue:n(v).name,"onUpdate:modelValue":e[0]||(e[0]=t=>n(v).name=t),class:"flex-1 search-input",clearable:"","prefix-icon":"el-icon-Search",placeholder:"请输入音乐名称","input-style":"color: #ffffff",onClear:e[1]||(e[1]=t=>n(d)()),onKeyup:e[2]||(e[2]=Z(t=>n(d)(),["enter"]))},null,8,["modelValue"]),s(m,{type:"primary",class:"!text-white !rounded-full !w-[116px] !h-10",onClick:e[3]||(e[3]=t=>n(d)())},{default:f(()=>e[9]||(e[9]=[A(" 搜索 ",-1)])),_:1,__:[9]})])]),o("div",null,[s(R,{modelValue:n(x),"onUpdate:modelValue":e[4]||(e[4]=t=>$(x)?x.value=t:null),class:"!text-white"},{default:f(()=>[s(a,{label:"背景音乐",name:"1"}),s(a,{label:"音色",name:"2"}),s(a,{label:"音效",name:"3"}),s(a,{label:"视频原音",name:"4"}),s(a,{label:"AI音色",name:"5"}),s(a,{label:"AI音效",name:"6"}),s(a,{label:"AI背景音乐",name:"7"}),s(a,{label:"AI视频原音",name:"8"})]),_:1},8,["modelValue"])]),o("div",ye,[o("div",he,[n(c).lists.length>0?(p(),V(q,{key:0},{default:f(()=>[o("div",null,[(p(!0),w(W,null,G(n(c).lists,t=>(p(),w("div",{key:t.voice_id,class:"flex items-center justify-between gap-x-2 h-[50px] border-t border-[#2a2a2a] px-[30px] cursor-pointer hover:bg-[#ffffff0d]",onClick:M=>U(t)},[o("div",we,[o("div",{class:I(["w-5 h-5 flex items-center justify-center rounded",[u(t.voice_id)?"bg-primary":"bg-[#ffffff0d]"]])},[s(r,{name:"local-icon-music",size:14,color:"#ffffff"})],2),o("div",Ee,H(t.name),1)]),o("div",ke,[o("div",{class:I(["cursor-pointer text-base",[u(t.voice_id)?"text-primary":"text-[rgba(255,255,255,0.5)]"]]),onClick:Q(M=>S(t),["stop"])}," 播放 ",10,Ce),o("div",Ve,[s(r,{name:"local-icon-success_fill",size:20,color:u(t.voice_id)?"var(--color-primary)":"#ffffff1a"},null,8,["color"])])])],8,ge))),128))])]),_:1})):(p(),w("div",Ae,[s(D,{description:"暂无数据"})]))]),o("div",$e,[s(J,{modelValue:n(c),"onUpdate:modelValue":e[5]||(e[5]=t=>$(c)?c.value=t:null),layout:"prev, pager, next",onChange:e[6]||(e[6]=t=>n(d)())},null,8,["modelValue"]),s(m,{type:"primary",class:"!rounded-full w-[110px] !h-10",onClick:e[7]||(e[7]=t=>L())},{default:f(()=>e[10]||(e[10]=[A(" 确定 ",-1)])),_:1,__:[10]})])])])]),_:1},512)}}});const Ze=se(Ie,[["__scopeId","data-v-d6c864dd"]]);export{Ze as default};

import{E as k}from"./el-switch.69f0f4ce.js";import{d as S,aF as I,cq as F,o as C,k as G,l as B,m as n,q as t,s as l,Z as r,v as m,G as _,av as N,cS as U,cT as D,ay as R,aw as h,ax as L,_ as j}from"./entry.d7219633.js";import{E as q}from"./el-input-number.368c2208.js";import{E as A}from"./index.f15af271.js";/* empty css                     */import{aH as T,J as z}from"./person_wechat.8bcf26fc.js";import H from"./add-content.15e8798c.js";import"./index.2311001e.js";import"./el-tabs.f915a42a.js";import"./strings.03d3529c.js";import"./index.35988ce8.js";import"./el-alert.eaf47690.js";import"./index.1f8dde63.js";import"./index.vue.38c569b2.js";import"./index.55703cf7.js";import"./index.3adcf74a.js";import"./index.9efd0300.js";import"./cloneDeep.1f319c9b.js";/* empty css                  *//* empty css                    *//* empty css                  */import"./el-image.37ed17f2.js";import"./el-image-viewer.960ba8e6.js";import"./throttle.70466628.js";import"./debounce.085e8a4a.js";import"./position.cb246d7d.js";import"./index.vue.c82b4b26.js";/* empty css                   */import"./arrow_down.70a5466c.js";import"./dom.7f5b5a10.js";import"./index.cf59f1a8.js";import"./emoji.vue.e454bd86.js";import"./useHandle.2b5b26f8.js";import"./mini-program-card.vue.dd66cb8d.js";import"./material-picker.vue.2a46b32f.js";import"./index.vue.d7039e6a.js";import"./sidebar.31e3d91b.js";import"./useMaterial.a92b4ad4.js";import"./usePaging.3c53b51c.js";import"./container.ddfb785b.js";import"./index.50778a9c.js";import"./index.4953ba77.js";import"./_baseIteratee.5c97421a.js";import"./index.ead96a32.js";/* empty css                  *//* empty css               */import"./el-empty.77af023a.js";import"./index.vue.5e2341cc.js";import"./upload.5cfd2344.js";import"./preview.vue.f85b38ac.js";import"./link-card.vue.5b27e20b.js";import"./file-card.vue.7b9fc004.js";const J={class:"h-full flex flex-col"},M={class:"flex grow min-h-0 bg-white rounded-lg overflow-hidden"},O={class:"w-[250px] h-full flex flex-col border-r border-[#E5E5E5]"},P={class:"grow min-h-0"},Z={class:"p-4"},K={class:"px-6 h-full flex flex-col grow"},Q={class:"grow min-h-0 py-4"},W={class:"mt-4 flex justify-center"},X=S({__name:"index",setup(Y){const o=I({is_enable:0,interval_time:1,friend_greet_is_reply:1,greet_after_ai_enable:0,greet_content:[]}),f=async()=>{if(o.greet_content.length===0){_.msgError("请添加打招呼素材");return}try{await T(o),_.msgSuccess("保存成功")}catch(i){_.msgError(i)}},{lockFn:c,isLock:v}=F(f),g=async()=>{try{const i=await z();x(i)}catch(i){console.error("获取SOP打招呼信息失败:",i)}},x=i=>{var e;for(const a in o)i[a]!=null&&(o[a]=i[a]);o.greet_content=((e=i.greet_content)==null?void 0:e.map(a=>({...a,type:parseInt(a.type,10)})))||[]};return C(()=>{g()}),(i,e)=>{const a=k,p=N,E=q,d=U,u=D,b=R,y=A,V=h,w=L;return G(),B("div",J,[n("div",M,[n("div",O,[e[10]||(e[10]=n("div",{class:"h-[74px] flex items-center justify-center text-white text-2xl bg-primary"},"策略设置",-1)),n("div",P,[t(y,null,{default:l(()=>[n("div",Z,[t(b,{model:r(o),"label-position":"top"},{default:l(()=>[t(p,{label:"是否开启打招呼"},{default:l(()=>[t(a,{modelValue:r(o).is_enable,"onUpdate:modelValue":e[0]||(e[0]=s=>r(o).is_enable=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(p,{label:"添加后打招呼间隔"},{default:l(()=>[t(E,{modelValue:r(o).interval_time,"onUpdate:modelValue":e[1]||(e[1]=s=>r(o).interval_time=s),precision:0,min:0,size:"small"},null,8,["modelValue"]),e[5]||(e[5]=n("span",{class:"ml-2"},"分钟后",-1))]),_:1,__:[5]}),t(p,{label:"对方打招呼是否回复："},{default:l(()=>[t(u,{modelValue:r(o).friend_greet_is_reply,"onUpdate:modelValue":e[2]||(e[2]=s=>r(o).friend_greet_is_reply=s)},{default:l(()=>[t(d,{value:1},{default:l(()=>e[6]||(e[6]=[m("不再打招呼",-1)])),_:1,__:[6]}),t(d,{value:0},{default:l(()=>e[7]||(e[7]=[m("继续打招呼",-1)])),_:1,__:[7]})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"打招呼后接管类型："},{default:l(()=>[t(u,{modelValue:r(o).greet_after_ai_enable,"onUpdate:modelValue":e[3]||(e[3]=s=>r(o).greet_after_ai_enable=s)},{default:l(()=>[t(d,{value:1},{default:l(()=>e[8]||(e[8]=[m("AI接管",-1)])),_:1,__:[8]}),t(d,{value:0},{default:l(()=>e[9]||(e[9]=[m("人工接管",-1)])),_:1,__:[9]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})])]),n("div",K,[e[11]||(e[11]=n("div",{class:"h-[75px] flex-shrink-0 flex items-center"},"编辑打招呼素材内容",-1)),t(V,{class:"!my-0"}),n("div",Q,[t(H,{modelValue:r(o).greet_content,"onUpdate:modelValue":e[4]||(e[4]=s=>r(o).greet_content=s)},null,8,["modelValue"])])])]),n("div",W,[t(w,{type:"primary",class:"w-[100px] !h-[40px]",loading:r(v),onClick:r(c)},{default:l(()=>e[12]||(e[12]=[m(" 保存 ",-1)])),_:1,__:[12]},8,["loading","onClick"])])])}}});const Xe=j(X,[["__scopeId","data-v-dd13ebde"]]);export{Xe as default};

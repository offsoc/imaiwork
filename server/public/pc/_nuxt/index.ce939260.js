import{E as F,a as K}from"./index.8fd3c68c.js";import{d as A,bP as H,aF as U,dP as C,r as y,Z as t,k as i,l as n,m as s,q as l,s as d,$ as M,v as W,aI as $,J as X,K as G,t as w,c$ as J,L as b,I as L,aH as Z,u as Q,G as Y,bO as ee,ax as te,au as oe,y as le,ba as se,cW as ie,_ as ne}from"./entry.ee599c70.js";import{E as ae}from"./index.e69b4eeb.js";import{_ as re}from"./handle-menu.vue.8b549227.js";/* empty css                  *//* empty css               *//* empty css                     */import{u as ce}from"./usePaging.5914886e.js";import{a as pe,j as de}from"./redbook.418b34fe.js";import{CopywritingTypeEnum as u}from"./index.db2ee73f.js";import{_ as ue}from"./empty.vue.10912c54.js";import me from"./create-panel.5e838b3b.js";import fe from"./edit.c759d12e.js";import{E as _e}from"./index.364e6819.js";import"./index.684b3e96.js";import"./strings.32bdf471.js";import"./_baseIteratee.6942dcd2.js";import"./toNumber.0872a42f.js";import"./clamp.05cad4d6.js";import"./index.0e845cb8.js";import"./index.f36399ff.js";/* empty css                   */import"./useTemplate.afda57ca.js";import"./index.vue.d98c851e.js";import"./copywriting-card.vue.5506928c.js";import"./throttle.108b0b49.js";import"./debounce.f4735d5c.js";const ye=""+new URL("copywriting_bg.f58da630.png",import.meta.url).href,ve={key:0,class:"h-full flex flex-col bg-app-bg-2 rounded-[20px]"},ge={class:"flex-shrink-0 px-[14px] border-[0] border-b-[1px] border-app-border-1"},xe={class:"flex items-center justify-end h-[88px]"},we={class:"flex items-center gap-[14px]"},be=["infinite-scroll-disabled"],Ee={class:"h-full p-4"},ke={key:0},he={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4"},Te=["onClick"],Ce={class:"w-full px-3 absolute z-[22] top-2"},$e={class:"line-clamp-1 text-white"},Le={class:"absolute w-full h-full left-0 top-0 px-3 z-[22] flex flex-col items-center justify-center"},Se={class:"title-text"},Ie={class:"text-[#ffffff80] mt-[14px]"},Ne={class:"absolute right-2 top-2 z-[1000] w-9 h-9 invisible group-hover:visible"},Pe={key:1,class:"text-white text-center text-xs w-full py-4"},Ve={key:1,class:"h-full flex items-center justify-center"},Be=A({__name:"index",setup(Oe){const E=H(),S={[u.TITLE]:"内容文案",[u.CONTENT]:"口播文案"},m=U({name:"",page_no:1,page_size:10,type:C.XHS,copywriting_type:""}),{pager:a,getLists:k,resetPage:p}=ce({fetchFun:pe,params:m,isScroll:!0}),I=()=>{m.page_no++,k()},v=y(!1),g=y(),N=[{label:"重命名",icon:"local-icon-edit3",click:async r=>{v.value=!0,await Z(),g.value.open(),g.value.setFormData(r)}},{label:"删除素材",icon:"local-icon-delete",click:({id:r})=>{Q().$confirm({message:"确定删除该视频吗？",theme:"dark",onConfirm:async()=>{try{await de({id:r});const e=a.lists.findIndex(c=>c.id==r);a.lists.splice(e,1)}catch(e){Y.msgWarning(e)}}})}}],x=y(E.query.is_create=="1"),h=y(Number(E.query.copywriting_type)),f=(r,e)=>{x.value=!0,h.value=r;const c={is_create:1,copywriting_type:r};e&&(c.id=e),ee(c)},P=()=>{x.value=!1,window.history.replaceState(null,null,`?type=${C.XHS}`),p()};return k(),(r,e)=>{const c=F,V=K,_=te,B=oe,T=le,O=se,R=ae,j=re,q=ie,z=_e;return t(x)?(i(),L(me,{key:1,type:t(h),onBack:P},null,8,["type"])):(i(),n("div",ve,[s("div",ge,[l(R,null,{default:d(()=>[s("div",xe,[s("div",we,[l(V,{modelValue:t(m).copywriting_type,"onUpdate:modelValue":e[0]||(e[0]=o=>t(m).copywriting_type=o),class:"!w-[100px]","popper-class":"dark-select-popper",clearable:"","show-arrow":!1,"empty-values":[null,void 0],"value-on-clear":null,onChange:e[1]||(e[1]=o=>t(p)())},{default:d(()=>[l(c,{label:"全部",value:""}),l(c,{label:"口播文案",value:t(u).CONTENT},null,8,["value"]),l(c,{label:"内容文案",value:t(u).TITLE},null,8,["value"])]),_:1},8,["modelValue"]),l(B,{modelValue:t(m).name,"onUpdate:modelValue":e[3]||(e[3]=o=>t(m).name=o),"prefix-icon":"el-icon-Search",class:"!w-[240px] search-name-input",placeholder:"请输入素材名称",clearable:"",onClear:e[4]||(e[4]=o=>t(p)()),onKeydown:e[5]||(e[5]=M(o=>t(p)(),["enter"]))},{append:d(()=>[l(_,{text:"",onClick:e[2]||(e[2]=o=>t(p)())},{default:d(()=>[...e[11]||(e[11]=[W(" 搜索 ",-1)])]),_:1})]),_:1},8,["modelValue"]),l(_,{type:"primary",class:"!rounded-full !h-10 !px-4",onClick:e[6]||(e[6]=o=>f(t(u).CONTENT))},{default:d(()=>[l(T,{name:"local-icon-add_circle",color:"#ffffff"}),e[12]||(e[12]=s("span",{class:"ml-2"},"新增口播文案",-1))]),_:1}),s("div",null,[l(_,{type:"primary",class:"!rounded-full !h-10 !px-4",onClick:e[7]||(e[7]=o=>f(t(u).TITLE))},{default:d(()=>[l(T,{name:"local-icon-add_circle",color:"#ffffff"}),e[13]||(e[13]=s("span",{class:"ml-2"},"新增内容文案",-1))]),_:1})]),l(O,{content:"刷新"},{default:d(()=>[l(_,{circle:"",color:"#1f1f1f",icon:"el-icon-Refresh",class:"!w-10 !h-10",onClick:e[8]||(e[8]=o=>t(p)())})]),_:1})])])]),_:1})]),$((i(),n("div",{class:"grow min-h-0 overflow-y-auto flex flex-col dynamic-scroller","infinite-scroll-immediate":!1,"infinite-scroll-disabled":!t(a).isLoad,"infinite-scroll-distance":10},[$((i(),n("div",Ee,[t(a).lists.length?(i(),n("div",ke,[t(a).lists.length?(i(),n("div",he,[(i(!0),n(X,null,G(t(a).lists,(o,D)=>(i(),n("div",{class:"material-item group",key:D,onClick:Re=>f(o.copywriting_type,o.id)},[s("div",Ce,[s("div",$e,w(o.name),1)]),s("div",Le,[s("div",Se,w(S[o.copywriting_type]||"文案"),1),s("div",Ie,w(o.create_time),1)]),s("div",Ne,[l(j,{theme:t(J).DARK,data:o,"menu-list":N},null,8,["theme","data"])]),e[14]||(e[14]=s("img",{src:ye,class:"w-full h-full object-cover"},null,-1))],8,Te))),128))])):b("",!0),t(a).isLoad?b("",!0):(i(),n("div",Pe,"暂无更多了~"))])):(i(),n("div",Ve,[l(ue,{"btn-text":"创建文案",msg:"快去创建你的文案吧","custom-click":()=>f(t(u).TITLE)},null,8,["custom-click"])]))])),[[q,t(a).loading]])],8,be)),[[z,I]]),t(v)?(i(),L(fe,{key:0,ref_key:"editPopupRef",ref:g,onClose:e[9]||(e[9]=o=>v.value=!1),onSuccess:e[10]||(e[10]=o=>t(p)())},null,512)):b("",!0)]))}}});const pt=ne(Be,[["__scopeId","data-v-3b122664"]]);export{pt as default};

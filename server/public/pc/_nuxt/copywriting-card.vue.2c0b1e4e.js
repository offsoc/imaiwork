import{d as q,as as E,x as J,c as z,k as i,l as p,m as e,t as l,Z as r,I as K,s as x,v,q as d,L as _,J as g,K as V,Y as k,u as j,y as Y,ba as Z,ax as G,au as H}from"./entry.2beb4577.js";import{_ as O}from"./index.vue.478e85a5.js";import{E as P}from"./index.47b30189.js";/* empty css                     */const Q={class:"h-full flex flex-col"},R={class:"flex justify-between gap-x-2 px-[14px]"},W={class:"text-white text-[11px]"},X={class:"flex items-center gap-x-2 mt-2"},ee={class:"text-[#ffffff80] text-[11px]"},te={class:"w-4 h-4 rounded-full flex items-center justify-center shadow-[0_0_0_1px_rgba(255,255,255,0.2)] cursor-pointer"},le={class:"text-[#ffffff80] text-[11px] leading-6 w-[212px]"},oe={class:"grow min-h-0 mt-[14px]"},se={class:"flex flex-col gap-y-2 px-[14px]"},ae={class:"flex-1"},ne=["onClick"],ce={class:"flex justify-between gap-x-2"},de=["onClick"],ue={class:"mt-2"},ie={key:0,class:"relative mt-4 flex gap-x-2 items-end"},pe={class:"flex-1 flex flex-wrap gap-2"},re=["onClick"],fe={class:""},_e=q({__name:"copywriting-card",props:E({type:{},modelValue:{},publishTypeName:{},showTopic:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:E(["update:modelValue"],["update:modelValue"]),setup(a,{emit:U}){const y=a,m=U,t=J(a,"modelValue"),I=z(()=>t.value.filter(o=>o.content).length),f=z(()=>({1:"标题",2:"正文描述",3:"口播文案"})[y.type]),A=()=>{y.type==2?t.value.push({content:"",topic:[]}):t.value.push({content:""}),m("update:modelValue",t.value)},B=o=>{j().$confirm({message:`确定要删除该${y.type==1?"标题":"描述"}吗？`,theme:"dark",onConfirm:()=>{t.value.splice(o,1),m("update:modelValue",t.value)}})},C=o=>{m("update:modelValue",t.value)},D=o=>{t.value[o].topic||(t.value[o].topic=[]),t.value[o].topic.push(""),m("update:modelValue",t.value)},F=(o,u)=>{j().$confirm({message:"确定要删除该话题吗？",theme:"dark",onConfirm:()=>{t.value[o].topic.splice(u,1),m("update:modelValue",t.value)}})},L=(o,u)=>{m("update:modelValue",t.value)};return(o,u)=>{const T=Y,M=Z,N=G,b=H,$=O,S=P;return i(),p("div",Q,[e("div",R,[e("div",null,[e("div",W,l(r(f)),1),e("div",X,[e("span",ee," 共"+l(t.value.length)+"个"+l(r(f))+"，已配置"+l(r(I))+"个 ",1),a.publishTypeName?(i(),K(M,{key:0,placement:"top","popper-class":"!rounded-xl !bg-app-bg-2 !border-app-border-2 !p-2","show-arrow":!1},{content:x(()=>[e("div",le,[v(" 1.如配置"+l(r(f))+"数量等于"+l(a.publishTypeName)+"数量，将按"+l(a.publishTypeName)+"顺序匹配"+l(r(f))+"。 ",1),u[0]||(u[0]=e("br",null,null,-1)),v(" 2.如配置"+l(r(f))+"数量不等于"+l(a.publishTypeName)+"数量，将"+l(r(f))+"随机匹配给各"+l(a.publishTypeName)+"。 ",1)])]),default:x(()=>[e("div",te,[d(T,{name:"local-icon-tips2",color:"#ffffff",size:16})])]),_:1})):_("",!0)])]),e("div",null,[d(N,{class:"!h-10 w-[106px] !border-[#ffffff1a]",color:"#262626",onClick:A},{default:x(()=>[v("添加"+l(r(f)),1)]),_:1})])]),e("div",oe,[d(S,null,{default:x(()=>[e("div",se,[a.type==1?(i(!0),p(g,{key:0},V(t.value,(n,s)=>(i(),p("div",{class:"flex items-center gap-x-2 border border-app-border-2 px-3 h-11 rounded-md",key:s},[e("div",{class:k(["rounded-[100px] text-white min-w-[32px] h-5 flex items-center justify-center",[n.content?"bg-[#3BB840]":"shadow-[0_0_0_1px_var(--app-border-color-2)]"]])},l(s+1),3),e("div",ae,[d(b,{modelValue:n.content,"onUpdate:modelValue":c=>n.content=c,class:"!h-10",maxlength:"20","show-word-limit":"","input-style":"font-size: 11px",placeholder:"-",onBlur:c=>C(s)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),u[1]||(u[1]=e("div",{class:"w-[1px] h-[12px] bg-[#ffffff1a]"},null,-1)),e("div",null,[e("div",{class:"w-4 h-4",onClick:c=>B(s)},[d($,{"icon-size":10})],8,ne)])]))),128)):_("",!0),a.type==2||a.type==3?(i(!0),p(g,{key:1},V(t.value,(n,s)=>(i(),p("div",{class:"border border-app-border-2 p-3 rounded-md h-fit",key:s},[e("div",ce,[e("div",{class:k(["rounded-[100px] text-white min-w-[32px] h-5 flex items-center justify-center",[n.content?"bg-[#3BB840]":"shadow-[0_0_0_1px_var(--app-border-color-2)]"]])},l(s+1),3),e("div",null,[e("div",{class:"w-4 h-4",onClick:c=>B(s)},[d($,{"icon-size":10})],8,de)])]),e("div",ue,[d(b,{modelValue:n.content,"onUpdate:modelValue":c=>n.content=c,maxlength:"800","show-word-limit":"",placeholder:"请输入内容",type:"textarea",resize:"none","input-style":"font-size: 11px",rows:6,onBlur:c=>C(s)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),a.showTopic?(i(),p("div",ie,[e("div",pe,[(i(!0),p(g,null,V(n.topic,(c,h)=>(i(),p("div",{key:h,class:k(["relative text-[11px] rounded-md shadow-[0_0_0_1px_rgba(255,255,255,0.1)]",{"bg-app-bg-4":c}])},[d(b,{modelValue:n.topic[h],"onUpdate:modelValue":w=>n.topic[h]=w,class:"h-[26px] !w-[78px]",placeholder:"#请输入话题","input-style":"font-size: 11px;height: 100%",onBlur:w=>L(s,h)},null,8,["modelValue","onUpdate:modelValue","onBlur"]),e("div",{class:"absolute -top-2 -right-2 w-4 h-4 rounded-full flex items-center justify-center bg-[#FF3C26] cursor-pointer",onClick:w=>F(s,h)},[d(T,{name:"local-icon-close",color:"#ffffff"})],8,re)],2))),128))]),e("div",fe,[d(N,{type:"primary",class:"!h-[26px]",onClick:c=>D(s)},{default:x(()=>[...u[2]||(u[2]=[v("添加话题",-1)])]),_:1},8,["onClick"])])])):_("",!0)]))),128)):_("",!0)])]),_:1})])])}}});export{_e as _};

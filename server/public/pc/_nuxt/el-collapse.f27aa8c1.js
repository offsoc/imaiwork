import{Q as T,S as y,U as W,a_ as V,b0 as A,aV as j,ap as q,O as U,r as g,aB as w,D as z,ai as G,W as N,c as d,c3 as $,c1 as J,N as L,ah as Q,d as _,k as K,l as D,H as I,Y as v,Z as e,aa as O,b3 as Y,cr as Z,ab as R,d9 as X,m as h,v as ee,t as se,q as P,s as B,I as ae,aq as te,a1 as oe,$ as le,a0 as ne,aI as ie,aJ as ce,am as re,bg as de}from"./entry.ca4d3d61.js";import{E as ue}from"./index.6d3d62fe.js";const x=a=>j(a)||q(a)||U(a),pe=T({accordion:Boolean,modelValue:{type:y([Array,String,Number]),default:()=>W([])},expandIconPosition:{type:y([String]),default:"right"},beforeCollapse:{type:y(Function)}}),me={[V]:x,[A]:x},F=Symbol("collapseContextKey"),S="ElCollapse",fe=(a,n)=>{const t=g(w(a.modelValue)),i=o=>{t.value=o;const l=a.accordion?t.value[0]:t.value;n(V,l),n(A,l)},s=o=>{if(a.accordion)i([t.value[0]===o?"":o]);else{const l=[...t.value],r=l.indexOf(o);r>-1?l.splice(r,1):l.push(o),i(l)}},c=async o=>{const{beforeCollapse:l}=a;if(!l){s(o);return}const r=l(o);[$(r),J(r)].includes(!0)||L(S,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),$(r)?r.then(p=>{p!==!1&&s(o)}).catch(p=>{Q(S,`some error occurred: ${p}`)}):r&&s(o)};return z(()=>a.modelValue,()=>t.value=w(a.modelValue),{deep:!0}),G(F,{activeNames:t,handleItemClick:c}),{activeNames:t,setActiveNames:i}},ve=a=>{const n=N("collapse");return{rootKls:d(()=>[n.b(),n.b(`icon-position-${a.expandIconPosition}`)])}},be=_({name:"ElCollapse"}),Ce=_({...be,props:pe,emits:me,setup(a,{expose:n,emit:t}){const i=a,{activeNames:s,setActiveNames:c}=fe(i,t),{rootKls:o}=ve(i);return n({activeNames:s,setActiveNames:c}),(l,r)=>(K(),D("div",{class:v(e(o))},[I(l.$slots,"default")],2))}});var he=O(Ce,[["__file","collapse.vue"]]);const ye=T({title:{type:String,default:""},name:{type:y([String,Number]),default:void 0},icon:{type:Y,default:Z},disabled:Boolean}),Ie=a=>{const n=R(F),{namespace:t}=N("collapse"),i=g(!1),s=g(!1),c=X(),o=d(()=>c.current++),l=d(()=>{var u;return(u=a.name)!=null?u:`${t.value}-id-${c.prefix}-${e(o)}`}),r=d(()=>n==null?void 0:n.activeNames.value.includes(e(l)));return{focusing:i,id:o,isActive:r,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:i.value=!0},50)},handleHeaderClick:u=>{if(a.disabled)return;const m=u.target;m!=null&&m.closest("input, textarea, select")||(n==null||n.handleItemClick(e(l)),i.value=!1,s.value=!0)},handleEnterClick:u=>{const m=u.target;m!=null&&m.closest("input, textarea, select")||(u.preventDefault(),n==null||n.handleItemClick(e(l)))}}},_e=(a,{focusing:n,isActive:t,id:i})=>{const s=N("collapse"),c=d(()=>[s.b("item"),s.is("active",e(t)),s.is("disabled",a.disabled)]),o=d(()=>[s.be("item","header"),s.is("active",e(t)),{focusing:e(n)&&!a.disabled}]),l=d(()=>[s.be("item","arrow"),s.is("active",e(t))]),r=d(()=>[s.be("item","title")]),b=d(()=>s.be("item","wrap")),p=d(()=>s.be("item","content")),C=d(()=>s.b(`content-${e(i)}`)),u=d(()=>s.b(`head-${e(i)}`));return{itemTitleKls:r,arrowKls:l,headKls:o,rootKls:c,itemWrapperKls:b,itemContentKls:p,scopedContentId:C,scopedHeadId:u}},Ee=_({name:"ElCollapseItem"}),ge=_({...Ee,props:ye,setup(a,{expose:n}){const t=a,{focusing:i,id:s,isActive:c,handleFocus:o,handleHeaderClick:l,handleEnterClick:r}=Ie(t),{arrowKls:b,headKls:p,rootKls:C,itemTitleKls:u,itemWrapperKls:m,itemContentKls:M,scopedContentId:E,scopedHeadId:k}=_e(t,{focusing:i,isActive:c,id:s});return n({isActive:c}),(f,Ke)=>(K(),D("div",{class:v(e(C))},[h("div",{id:e(k),class:v(e(p)),"aria-expanded":e(c),"aria-controls":e(E),"aria-describedby":e(E),tabindex:f.disabled?void 0:0,"aria-disabled":f.disabled,role:"button",onClick:e(l),onKeydown:le(ne(e(r),["stop"]),["space","enter"]),onFocus:e(o),onBlur:Ne=>i.value=!1},[h("span",{class:v(e(u))},[I(f.$slots,"title",{isActive:e(c)},()=>[ee(se(f.title),1)])],2),I(f.$slots,"icon",{isActive:e(c)},()=>[P(e(oe),{class:v(e(b))},{default:B(()=>[(K(),ae(te(f.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled","onClick","onKeydown","onFocus","onBlur"]),P(e(ue),null,{default:B(()=>[ie(h("div",{id:e(E),role:"region",class:v(e(m)),"aria-hidden":!e(c),"aria-labelledby":e(k)},[h("div",{class:v(e(M))},[I(f.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[ce,e(c)]])]),_:3})],2))}});var H=O(ge,[["__file","collapse-item.vue"]]);const $e=re(he,{CollapseItem:H}),Pe=de(H);export{Pe as E,$e as a};

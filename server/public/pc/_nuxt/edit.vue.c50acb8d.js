import{d as b,r as _,c as I,aF as h,cq as C,G as g,bI as T,k as U,I as q,s as l,q as a,Z as o,v as r,ay as D,cP as G,cT as B,cU as L,av as N,au as z}from"./entry.d9d53b29.js";import{a4 as A,a5 as P}from"./person_wechat.8bcf26fc.js";const H=b({__name:"edit",emits:["close","success"],setup(S,{expose:k,emit:v}){const c=v,u=_("add"),V=I(()=>u.value=="add"?"新增标签":"编辑标签"),i=_(),t=h({id:"",match_type:0,match_mode:0,match_keywords:"",tag_name:"",wechat_id:""}),w={match_keywords:[{required:!0,message:"请输入匹配关键词"}],tag_name:[{required:!0,message:"请输入匹配标签"}]},p=_(),{lockFn:x,isLock:E}=C(async()=>{var s,e;await((s=i.value)==null?void 0:s.validate());try{u.value=="add"?await A(t):await P(t),(e=p.value)==null||e.close(),g.msgSuccess("操作成功"),c("success")}catch(d){g.msgError(d)}}),F=(s="add")=>{var e;u.value=s,(e=p.value)==null||e.open()},R=()=>{c("close")};return k({open:F,setFormData:s=>T(s,t)}),(s,e)=>{const d=B,f=L,n=N,y=z;return U(),q(G,{ref_key:"popupRef",ref:p,title:o(V),width:"610px",async:"","confirm-loading":o(E),onClose:R,onConfirm:o(x)},{default:l(()=>[a(o(D),{ref_key:"formRef",ref:i,model:o(t),rules:w,"label-position":"top"},{default:l(()=>[a(n,{label:"匹配模式",prop:"match_type"},{default:l(()=>[a(f,{modelValue:o(t).match_type,"onUpdate:modelValue":e[0]||(e[0]=m=>o(t).match_type=m)},{default:l(()=>[a(d,{value:0},{default:l(()=>e[4]||(e[4]=[r("模糊匹配",-1)])),_:1,__:[4]}),a(d,{value:1},{default:l(()=>e[5]||(e[5]=[r("精确匹配",-1)])),_:1,__:[5]})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"匹配对象",prop:"match_mode"},{default:l(()=>[a(f,{modelValue:o(t).match_mode,"onUpdate:modelValue":e[1]||(e[1]=m=>o(t).match_mode=m)},{default:l(()=>[a(d,{value:0},{default:l(()=>e[6]||(e[6]=[r("AI回复",-1)])),_:1,__:[6]}),a(d,{value:1},{default:l(()=>e[7]||(e[7]=[r("客户回复",-1)])),_:1,__:[7]})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"匹配关键词",prop:"match_keywords"},{default:l(()=>[a(y,{modelValue:o(t).match_keywords,"onUpdate:modelValue":e[2]||(e[2]=m=>o(t).match_keywords=m),type:"textarea",resize:"none",placeholder:"请输入匹配关键词",maxlength:"500",rows:4},null,8,["modelValue"])]),_:1}),a(n,{label:"匹配标签",prop:"tag_name"},{default:l(()=>[a(y,{modelValue:o(t).tag_name,"onUpdate:modelValue":e[3]||(e[3]=m=>o(t).tag_name=m),placeholder:"请输入匹配标签",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","confirm-loading","onConfirm"])}}});export{H as _};

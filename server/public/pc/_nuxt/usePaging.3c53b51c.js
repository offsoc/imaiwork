import{F as m,aF as P}from"./entry.d7219633.js";function x(u){const{page:r=1,size:c=15,isScroll:l=!1,fetchFun:f,params:e={},firstLoading:p=!1}=u,g=Object.assign({},m(e)),a=P({page:r,size:c,loading:p,isLoad:!1,count:0,lists:[],extend:{}}),o=async(n,i=!0,d=!0)=>(i&&(a.loading=!0),await f({page_no:a.page,page_size:a.size,...e,...n}).then(t=>{a.count=t==null?void 0:t.count;const s=(t==null?void 0:t.lists)||(t==null?void 0:t.list)||t||[];return l?(a.lists=d?a.lists.concat(s):s,a.isLoad=!(s.length<(e.page_size||c))||s.length===0):a.lists=s,a.extend=t==null?void 0:t.extend,Promise.resolve(t)}).catch(t=>Promise.reject(t)).finally(()=>{a.loading=!1}));return{pager:a,getLists:o,resetParams:n=>(Object.keys(g).forEach(i=>{e[i]=g[i]}),a.isLoad=!0,o(n)),resetPage:n=>(a.page=1,e.page_no&&(e.page_no=1),l&&(a.lists=[]),a.isLoad=!0,o(n))}}export{x as u};
